(function(d,ye){typeof exports=="object"&&typeof module<"u"?module.exports=ye(require("vue")):typeof define=="function"&&define.amd?define(["vue"],ye):(d=typeof globalThis<"u"?globalThis:d||self,d.LaravelCmsAdminVueComponent=ye(d.Vue))})(this,function(d){"use strict";const ye=(n,e)=>{const t=n.__vccOpts||n;for(const[r,i]of e)t[r]=i;return t},Iy={name:"LaravelCmsAdminMenu"};function Py(n,e,t,r,i,s){const a=d.resolveComponent("router-link");return d.openBlock(),d.createElementBlock("ul",null,[d.createElementVNode("li",null,[d.createVNode(a,{to:"/templates"},{default:d.withCtx(()=>[d.createTextVNode("Templates")]),_:1})]),d.createElementVNode("li",null,[d.createVNode(a,{to:"/pages"},{default:d.withCtx(()=>[d.createTextVNode("Pages")]),_:1})]),d.createElementVNode("li",null,[d.createVNode(a,{to:"/paths"},{default:d.withCtx(()=>[d.createTextVNode("Paths")]),_:1})]),d.createElementVNode("li",null,[d.createVNode(a,{to:"/components"},{default:d.withCtx(()=>[d.createTextVNode("Components")]),_:1})]),d.createElementVNode("li",null,[d.createVNode(a,{to:"/media"},{default:d.withCtx(()=>[d.createTextVNode("Media")]),_:1})])])}const By=ye(Iy,[["render",Py]]),IL="",Ly={name:"LaravelCmsAdminVueComponent",components:{AdminMenu:By}},Vy={class:"cms-container"},$y={class:"cms-menu"},Fy={class:"cms-content"};function zy(n,e,t,r,i,s){const a=d.resolveComponent("notifications"),c=d.resolveComponent("admin-menu"),u=d.resolveComponent("router-view");return d.openBlock(),d.createElementBlock(d.Fragment,null,[d.createVNode(a),d.createElementVNode("div",Vy,[d.createElementVNode("div",$y,[d.createVNode(c)]),d.createElementVNode("div",Fy,[d.createVNode(u)])])],64)}const zu=ye(Ly,[["render",zy]]);function Hy(){return Hu().__VUE_DEVTOOLS_GLOBAL_HOOK__}function Hu(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const Wy=typeof Proxy=="function",jy="devtools-plugin:setup",Uy="plugin:settings:set";let ci,ja;function qy(){var n;return ci!==void 0||(typeof window<"u"&&window.performance?(ci=!0,ja=window.performance):typeof global<"u"&&((n=global.perf_hooks)===null||n===void 0?void 0:n.performance)?(ci=!0,ja=global.perf_hooks.performance):ci=!1),ci}function Ky(){return qy()?ja.now():Date.now()}class Jy{constructor(e,t){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=t;const r={};if(e.settings)for(const a in e.settings){const c=e.settings[a];r[a]=c.defaultValue}const i=`__vue-devtools-plugin-settings__${e.id}`;let s=Object.assign({},r);try{const a=localStorage.getItem(i),c=JSON.parse(a);Object.assign(s,c)}catch{}this.fallbacks={getSettings(){return s},setSettings(a){try{localStorage.setItem(i,JSON.stringify(a))}catch{}s=a},now(){return Ky()}},t&&t.on(Uy,(a,c)=>{a===this.plugin.id&&this.fallbacks.setSettings(c)}),this.proxiedOn=new Proxy({},{get:(a,c)=>this.target?this.target.on[c]:(...u)=>{this.onQueue.push({method:c,args:u})}}),this.proxiedTarget=new Proxy({},{get:(a,c)=>this.target?this.target[c]:c==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(c)?(...u)=>(this.targetQueue.push({method:c,args:u,resolve:()=>{}}),this.fallbacks[c](...u)):(...u)=>new Promise(h=>{this.targetQueue.push({method:c,args:u,resolve:h})})})}async setRealTarget(e){this.target=e;for(const t of this.onQueue)this.target.on[t.method](...t.args);for(const t of this.targetQueue)t.resolve(await this.target[t.method](...t.args))}}function Gy(n,e){const t=n,r=Hu(),i=Hy(),s=Wy&&t.enableEarlyProxy;if(i&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!s))i.emit(jy,n,e);else{const a=s?new Jy(t,i):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:t,setupFn:e,proxy:a}),a&&e(a.proxiedTarget)}}/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const jn=typeof window<"u";function Yy(n){return n.__esModule||n[Symbol.toStringTag]==="Module"}const Te=Object.assign;function Ua(n,e){const t={};for(const r in e){const i=e[r];t[r]=jt(i)?i.map(n):n(i)}return t}const io=()=>{},jt=Array.isArray;function xe(n){const e=Array.from(arguments).slice(1);console.warn.apply(console,["[Vue Router warn]: "+n].concat(e))}const Xy=/\/$/,Zy=n=>n.replace(Xy,"");function qa(n,e,t="/"){let r,i={},s="",a="";const c=e.indexOf("#");let u=e.indexOf("?");return c<u&&c>=0&&(u=-1),u>-1&&(r=e.slice(0,u),s=e.slice(u+1,c>-1?c:e.length),i=n(s)),c>-1&&(r=r||e.slice(0,c),a=e.slice(c,e.length)),r=t0(r!=null?r:e,t),{fullPath:r+(s&&"?")+s+a,path:r,query:i,hash:a}}function Qy(n,e){const t=e.query?n(e.query):"";return e.path+(t&&"?")+t+(e.hash||"")}function Wu(n,e){return!e||!n.toLowerCase().startsWith(e.toLowerCase())?n:n.slice(e.length)||"/"}function ju(n,e,t){const r=e.matched.length-1,i=t.matched.length-1;return r>-1&&r===i&&ar(e.matched[r],t.matched[i])&&Uu(e.params,t.params)&&n(e.query)===n(t.query)&&e.hash===t.hash}function ar(n,e){return(n.aliasOf||n)===(e.aliasOf||e)}function Uu(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(!e0(n[t],e[t]))return!1;return!0}function e0(n,e){return jt(n)?qu(n,e):jt(e)?qu(e,n):n===e}function qu(n,e){return jt(e)?n.length===e.length&&n.every((t,r)=>t===e[r]):n.length===1&&n[0]===e}function t0(n,e){if(n.startsWith("/"))return n;if(process.env.NODE_ENV!=="production"&&!e.startsWith("/"))return xe(`Cannot resolve a relative location without an absolute path. Trying to resolve "${n}" from "${e}". It should look like "/${e}".`),n;if(!n)return e;const t=e.split("/"),r=n.split("/");let i=t.length-1,s,a;for(s=0;s<r.length;s++)if(a=r[s],a!==".")if(a==="..")i>1&&i--;else break;return t.slice(0,i).join("/")+"/"+r.slice(s-(s===r.length?1:0)).join("/")}var oo;(function(n){n.pop="pop",n.push="push"})(oo||(oo={}));var so;(function(n){n.back="back",n.forward="forward",n.unknown=""})(so||(so={}));function n0(n){if(!n)if(jn){const e=document.querySelector("base");n=e&&e.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),Zy(n)}const r0=/^[^#]+#/;function i0(n,e){return n.replace(r0,"#")+e}function o0(n,e){const t=document.documentElement.getBoundingClientRect(),r=n.getBoundingClientRect();return{behavior:e.behavior,left:r.left-t.left-(e.left||0),top:r.top-t.top-(e.top||0)}}const ss=()=>({left:window.pageXOffset,top:window.pageYOffset});function s0(n){let e;if("el"in n){const t=n.el,r=typeof t=="string"&&t.startsWith("#");if(process.env.NODE_ENV!=="production"&&typeof n.el=="string"&&(!r||!document.getElementById(n.el.slice(1))))try{const s=document.querySelector(n.el);if(r&&s){xe(`The selector "${n.el}" should be passed as "el: document.querySelector('${n.el}')" because it starts with "#".`);return}}catch{xe(`The selector "${n.el}" is invalid. If you are using an id selector, make sure to escape it. You can find more information about escaping characters in selectors at https://mathiasbynens.be/notes/css-escapes or use CSS.escape (https://developer.mozilla.org/en-US/docs/Web/API/CSS/escape).`);return}const i=typeof t=="string"?r?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!i){process.env.NODE_ENV!=="production"&&xe(`Couldn't find element using selector "${n.el}" returned by scrollBehavior.`);return}e=o0(i,n)}else e=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Ku(n,e){return(history.state?history.state.position-e:-1)+n}const Ka=new Map;function a0(n,e){Ka.set(n,e)}function l0(n){const e=Ka.get(n);return Ka.delete(n),e}let c0=()=>location.protocol+"//"+location.host;function Ju(n,e){const{pathname:t,search:r,hash:i}=e,s=n.indexOf("#");if(s>-1){let c=i.includes(n.slice(s))?n.slice(s).length:1,u=i.slice(c);return u[0]!=="/"&&(u="/"+u),Wu(u,"")}return Wu(t,n)+r+i}function u0(n,e,t,r){let i=[],s=[],a=null;const c=({state:y})=>{const b=Ju(n,location),E=t.value,S=e.value;let O=0;if(y){if(t.value=b,e.value=y,a&&a===E){a=null;return}O=S?y.position-S.position:0}else r(b);i.forEach(M=>{M(t.value,E,{delta:O,type:oo.pop,direction:O?O>0?so.forward:so.back:so.unknown})})};function u(){a=t.value}function h(y){i.push(y);const b=()=>{const E=i.indexOf(y);E>-1&&i.splice(E,1)};return s.push(b),b}function p(){const{history:y}=window;!y.state||y.replaceState(Te({},y.state,{scroll:ss()}),"")}function m(){for(const y of s)y();s=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",p)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",p),{pauseListeners:u,listen:h,destroy:m}}function Gu(n,e,t,r=!1,i=!1){return{back:n,current:e,forward:t,replaced:r,position:window.history.length,scroll:i?ss():null}}function f0(n){const{history:e,location:t}=window,r={value:Ju(n,t)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(u,h,p){const m=n.indexOf("#"),y=m>-1?(t.host&&document.querySelector("base")?n:n.slice(m))+u:c0()+n+u;try{e[p?"replaceState":"pushState"](h,"",y),i.value=h}catch(b){process.env.NODE_ENV!=="production"?xe("Error with push/replace State",b):console.error(b),t[p?"replace":"assign"](y)}}function a(u,h){const p=Te({},e.state,Gu(i.value.back,u,i.value.forward,!0),h,{position:i.value.position});s(u,p,!0),r.value=u}function c(u,h){const p=Te({},i.value,e.state,{forward:u,scroll:ss()});process.env.NODE_ENV!=="production"&&!e.state&&xe(`history.state seems to have been manually replaced without preserving the necessary values. Make sure to preserve existing history state if you are manually calling history.replaceState:

history.replaceState(history.state, '', url)

You can find more information at https://next.router.vuejs.org/guide/migration/#usage-of-history-state.`),s(p.current,p,!0);const m=Te({},Gu(r.value,u,null),{position:p.position+1},h);s(u,m,!1),r.value=u}return{location:r,state:i,push:c,replace:a}}function d0(n){n=n0(n);const e=f0(n),t=u0(n,e.state,e.location,e.replace);function r(s,a=!0){a||t.pauseListeners(),history.go(s)}const i=Te({location:"",base:n,go:r,createHref:i0.bind(null,n)},e,t);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function p0(n){return n=location.host?n||location.pathname+location.search:"",n.includes("#")||(n+="#"),process.env.NODE_ENV!=="production"&&!n.endsWith("#/")&&!n.endsWith("#")&&xe(`A hash base must end with a "#":
"${n}" should be "${n.replace(/#.*$/,"#")}".`),d0(n)}function h0(n){return typeof n=="string"||n&&typeof n=="object"}function Yu(n){return typeof n=="string"||typeof n=="symbol"}const lr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Ja=Symbol(process.env.NODE_ENV!=="production"?"navigation failure":"");var Xu;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(Xu||(Xu={}));const m0={[1]({location:n,currentLocation:e}){return`No match for
 ${JSON.stringify(n)}${e?`
while being at
`+JSON.stringify(e):""}`},[2]({from:n,to:e}){return`Redirected from "${n.fullPath}" to "${y0(e)}" via a navigation guard.`},[4]({from:n,to:e}){return`Navigation aborted from "${n.fullPath}" to "${e.fullPath}" via a navigation guard.`},[8]({from:n,to:e}){return`Navigation cancelled from "${n.fullPath}" to "${e.fullPath}" with a new navigation.`},[16]({from:n,to:e}){return`Avoided redundant navigation to current location: "${n.fullPath}".`}};function ui(n,e){return process.env.NODE_ENV!=="production"?Te(new Error(m0[n](e)),{type:n,[Ja]:!0},e):Te(new Error,{type:n,[Ja]:!0},e)}function Un(n,e){return n instanceof Error&&Ja in n&&(e==null||!!(n.type&e))}const g0=["params","query","hash"];function y0(n){if(typeof n=="string")return n;if("path"in n)return n.path;const e={};for(const t of g0)t in n&&(e[t]=n[t]);return JSON.stringify(e,null,2)}const Zu="[^/]+?",b0={sensitive:!1,strict:!1,start:!0,end:!0},v0=/[.+*?^${}()[\]/\\]/g;function w0(n,e){const t=Te({},b0,e),r=[];let i=t.start?"^":"";const s=[];for(const h of n){const p=h.length?[]:[90];t.strict&&!h.length&&(i+="/");for(let m=0;m<h.length;m++){const y=h[m];let b=40+(t.sensitive?.25:0);if(y.type===0)m||(i+="/"),i+=y.value.replace(v0,"\\$&"),b+=40;else if(y.type===1){const{value:E,repeatable:S,optional:O,regexp:M}=y;s.push({name:E,repeatable:S,optional:O});const I=M||Zu;if(I!==Zu){b+=10;try{new RegExp(`(${I})`)}catch(_){throw new Error(`Invalid custom RegExp for param "${E}" (${I}): `+_.message)}}let z=S?`((?:${I})(?:/(?:${I}))*)`:`(${I})`;m||(z=O&&h.length<2?`(?:/${z})`:"/"+z),O&&(z+="?"),i+=z,b+=20,O&&(b+=-8),S&&(b+=-20),I===".*"&&(b+=-50)}p.push(b)}r.push(p)}if(t.strict&&t.end){const h=r.length-1;r[h][r[h].length-1]+=.7000000000000001}t.strict||(i+="/?"),t.end?i+="$":t.strict&&(i+="(?:/|$)");const a=new RegExp(i,t.sensitive?"":"i");function c(h){const p=h.match(a),m={};if(!p)return null;for(let y=1;y<p.length;y++){const b=p[y]||"",E=s[y-1];m[E.name]=b&&E.repeatable?b.split("/"):b}return m}function u(h){let p="",m=!1;for(const y of n){(!m||!p.endsWith("/"))&&(p+="/"),m=!1;for(const b of y)if(b.type===0)p+=b.value;else if(b.type===1){const{value:E,repeatable:S,optional:O}=b,M=E in h?h[E]:"";if(jt(M)&&!S)throw new Error(`Provided param "${E}" is an array but it is not repeatable (* or + modifiers)`);const I=jt(M)?M.join("/"):M;if(!I)if(O)y.length<2&&(p.endsWith("/")?p=p.slice(0,-1):m=!0);else throw new Error(`Missing required param "${E}"`);p+=I}}return p||"/"}return{re:a,score:r,keys:s,parse:c,stringify:u}}function x0(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=e[t]-n[t];if(r)return r;t++}return n.length<e.length?n.length===1&&n[0]===40+40?-1:1:n.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function E0(n,e){let t=0;const r=n.score,i=e.score;for(;t<r.length&&t<i.length;){const s=x0(r[t],i[t]);if(s)return s;t++}if(Math.abs(i.length-r.length)===1){if(Qu(r))return 1;if(Qu(i))return-1}return i.length-r.length}function Qu(n){const e=n[n.length-1];return n.length>0&&e[e.length-1]<0}const S0={type:0,value:""},k0=/[a-zA-Z0-9_]/;function _0(n){if(!n)return[[]];if(n==="/")return[[S0]];if(!n.startsWith("/"))throw new Error(process.env.NODE_ENV!=="production"?`Route paths should start with a "/": "${n}" should be "/${n}".`:`Invalid path "${n}"`);function e(b){throw new Error(`ERR (${t})/"${h}": ${b}`)}let t=0,r=t;const i=[];let s;function a(){s&&i.push(s),s=[]}let c=0,u,h="",p="";function m(){!h||(t===0?s.push({type:0,value:h}):t===1||t===2||t===3?(s.length>1&&(u==="*"||u==="+")&&e(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:h,regexp:p,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):e("Invalid state to consume buffer"),h="")}function y(){h+=u}for(;c<n.length;){if(u=n[c++],u==="\\"&&t!==2){r=t,t=4;continue}switch(t){case 0:u==="/"?(h&&m(),a()):u===":"?(m(),t=1):y();break;case 4:y(),t=r;break;case 1:u==="("?t=2:k0.test(u)?y():(m(),t=0,u!=="*"&&u!=="?"&&u!=="+"&&c--);break;case 2:u===")"?p[p.length-1]=="\\"?p=p.slice(0,-1)+u:t=3:p+=u;break;case 3:m(),t=0,u!=="*"&&u!=="?"&&u!=="+"&&c--,p="";break;default:e("Unknown state");break}}return t===2&&e(`Unfinished custom RegExp for param "${h}"`),m(),a(),i}function C0(n,e,t){const r=w0(_0(n.path),t);if(process.env.NODE_ENV!=="production"){const s=new Set;for(const a of r.keys)s.has(a.name)&&xe(`Found duplicated params with name "${a.name}" for path "${n.path}". Only the last one will be available on "$route.params".`),s.add(a.name)}const i=Te(r,{record:n,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function O0(n,e){const t=[],r=new Map;e=nf({strict:!1,end:!0,sensitive:!1},e);function i(p){return r.get(p)}function s(p,m,y){const b=!y,E=T0(p);process.env.NODE_ENV!=="production"&&D0(E,m),E.aliasOf=y&&y.record;const S=nf(e,p),O=[E];if("alias"in p){const z=typeof p.alias=="string"?[p.alias]:p.alias;for(const _ of z)O.push(Te({},E,{components:y?y.record.components:E.components,path:_,aliasOf:y?y.record:E}))}let M,I;for(const z of O){const{path:_}=z;if(m&&_[0]!=="/"){const H=m.record.path,V=H[H.length-1]==="/"?"":"/";z.path=m.record.path+(_&&V+_)}if(process.env.NODE_ENV!=="production"&&z.path==="*")throw new Error(`Catch all routes ("*") must now be defined using a param with a custom regexp.
See more at https://next.router.vuejs.org/guide/migration/#removed-star-or-catch-all-routes.`);if(M=C0(z,m,S),process.env.NODE_ENV!=="production"&&m&&_[0]==="/"&&R0(M,m),y?(y.alias.push(M),process.env.NODE_ENV!=="production"&&A0(y,M)):(I=I||M,I!==M&&I.alias.push(M),b&&p.name&&!tf(M)&&a(p.name)),E.children){const H=E.children;for(let V=0;V<H.length;V++)s(H[V],M,y&&y.children[V])}y=y||M,(M.record.components&&Object.keys(M.record.components).length||M.record.name||M.record.redirect)&&u(M)}return I?()=>{a(I)}:io}function a(p){if(Yu(p)){const m=r.get(p);m&&(r.delete(p),t.splice(t.indexOf(m),1),m.children.forEach(a),m.alias.forEach(a))}else{const m=t.indexOf(p);m>-1&&(t.splice(m,1),p.record.name&&r.delete(p.record.name),p.children.forEach(a),p.alias.forEach(a))}}function c(){return t}function u(p){let m=0;for(;m<t.length&&E0(p,t[m])>=0&&(p.record.path!==t[m].record.path||!rf(p,t[m]));)m++;t.splice(m,0,p),p.record.name&&!tf(p)&&r.set(p.record.name,p)}function h(p,m){let y,b={},E,S;if("name"in p&&p.name){if(y=r.get(p.name),!y)throw ui(1,{location:p});if(process.env.NODE_ENV!=="production"){const I=Object.keys(p.params||{}).filter(z=>!y.keys.find(_=>_.name===z));I.length&&xe(`Discarded invalid param(s) "${I.join('", "')}" when navigating. See https://github.com/vuejs/router/blob/main/packages/router/CHANGELOG.md#414-2022-08-22 for more details.`)}S=y.record.name,b=Te(ef(m.params,y.keys.filter(I=>!I.optional).map(I=>I.name)),p.params&&ef(p.params,y.keys.map(I=>I.name))),E=y.stringify(b)}else if("path"in p)E=p.path,process.env.NODE_ENV!=="production"&&!E.startsWith("/")&&xe(`The Matcher cannot resolve relative paths but received "${E}". Unless you directly called \`matcher.resolve("${E}")\`, this is probably a bug in vue-router. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/router.`),y=t.find(I=>I.re.test(E)),y&&(b=y.parse(E),S=y.record.name);else{if(y=m.name?r.get(m.name):t.find(I=>I.re.test(m.path)),!y)throw ui(1,{location:p,currentLocation:m});S=y.record.name,b=Te({},m.params,p.params),E=y.stringify(b)}const O=[];let M=y;for(;M;)O.unshift(M.record),M=M.parent;return{name:S,path:E,params:b,matched:O,meta:M0(O)}}return n.forEach(p=>s(p)),{addRoute:s,resolve:h,removeRoute:a,getRoutes:c,getRecordMatcher:i}}function ef(n,e){const t={};for(const r of e)r in n&&(t[r]=n[r]);return t}function T0(n){return{path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:void 0,beforeEnter:n.beforeEnter,props:N0(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||null:n.component&&{default:n.component}}}function N0(n){const e={},t=n.props||!1;if("component"in n)e.default=t;else for(const r in n.components)e[r]=typeof t=="boolean"?t:t[r];return e}function tf(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function M0(n){return n.reduce((e,t)=>Te(e,t.meta),{})}function nf(n,e){const t={};for(const r in n)t[r]=r in e?e[r]:n[r];return t}function Ga(n,e){return n.name===e.name&&n.optional===e.optional&&n.repeatable===e.repeatable}function A0(n,e){for(const t of n.keys)if(!t.optional&&!e.keys.find(Ga.bind(null,t)))return xe(`Alias "${e.record.path}" and the original record: "${n.record.path}" must have the exact same param named "${t.name}"`);for(const t of e.keys)if(!t.optional&&!n.keys.find(Ga.bind(null,t)))return xe(`Alias "${e.record.path}" and the original record: "${n.record.path}" must have the exact same param named "${t.name}"`)}function D0(n,e){e&&e.record.name&&!n.name&&!n.path&&xe(`The route named "${String(e.record.name)}" has a child without a name and an empty path. Using that name won't render the empty path child so you probably want to move the name to the child instead. If this is intentional, add a name to the child route to remove the warning.`)}function R0(n,e){for(const t of e.keys)if(!n.keys.find(Ga.bind(null,t)))return xe(`Absolute path "${n.record.path}" must have the exact same param named "${t.name}" as its parent "${e.record.path}".`)}function rf(n,e){return e.children.some(t=>t===n||rf(n,t))}const of=/#/g,I0=/&/g,P0=/\//g,B0=/=/g,L0=/\?/g,sf=/\+/g,V0=/%5B/g,$0=/%5D/g,af=/%5E/g,F0=/%60/g,lf=/%7B/g,z0=/%7C/g,cf=/%7D/g,H0=/%20/g;function Ya(n){return encodeURI(""+n).replace(z0,"|").replace(V0,"[").replace($0,"]")}function W0(n){return Ya(n).replace(lf,"{").replace(cf,"}").replace(af,"^")}function Xa(n){return Ya(n).replace(sf,"%2B").replace(H0,"+").replace(of,"%23").replace(I0,"%26").replace(F0,"`").replace(lf,"{").replace(cf,"}").replace(af,"^")}function j0(n){return Xa(n).replace(B0,"%3D")}function U0(n){return Ya(n).replace(of,"%23").replace(L0,"%3F")}function q0(n){return n==null?"":U0(n).replace(P0,"%2F")}function ao(n){try{return decodeURIComponent(""+n)}catch{process.env.NODE_ENV!=="production"&&xe(`Error decoding "${n}". Using original value`)}return""+n}function K0(n){const e={};if(n===""||n==="?")return e;const r=(n[0]==="?"?n.slice(1):n).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(sf," "),a=s.indexOf("="),c=ao(a<0?s:s.slice(0,a)),u=a<0?null:ao(s.slice(a+1));if(c in e){let h=e[c];jt(h)||(h=e[c]=[h]),h.push(u)}else e[c]=u}return e}function uf(n){let e="";for(let t in n){const r=n[t];if(t=j0(t),r==null){r!==void 0&&(e+=(e.length?"&":"")+t);continue}(jt(r)?r.map(s=>s&&Xa(s)):[r&&Xa(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+t,s!=null&&(e+="="+s))})}return e}function J0(n){const e={};for(const t in n){const r=n[t];r!==void 0&&(e[t]=jt(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const G0=Symbol(process.env.NODE_ENV!=="production"?"router view location matched":""),ff=Symbol(process.env.NODE_ENV!=="production"?"router view depth":""),as=Symbol(process.env.NODE_ENV!=="production"?"router":""),df=Symbol(process.env.NODE_ENV!=="production"?"route location":""),Za=Symbol(process.env.NODE_ENV!=="production"?"router view location":"");function lo(){let n=[];function e(r){return n.push(r),()=>{const i=n.indexOf(r);i>-1&&n.splice(i,1)}}function t(){n=[]}return{add:e,list:()=>n,reset:t}}function cr(n,e,t,r,i){const s=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,c)=>{const u=m=>{m===!1?c(ui(4,{from:t,to:e})):m instanceof Error?c(m):h0(m)?c(ui(2,{from:e,to:m})):(s&&r.enterCallbacks[i]===s&&typeof m=="function"&&s.push(m),a())},h=n.call(r&&r.instances[i],e,t,process.env.NODE_ENV!=="production"?Y0(u,e,t):u);let p=Promise.resolve(h);if(n.length<3&&(p=p.then(u)),process.env.NODE_ENV!=="production"&&n.length>2){const m=`The "next" callback was never called inside of ${n.name?'"'+n.name+'"':""}:
${n.toString()}
. If you are returning a value instead of calling "next", make sure to remove the "next" parameter from your function.`;if(typeof h=="object"&&"then"in h)p=p.then(y=>u._called?y:(xe(m),Promise.reject(new Error("Invalid navigation guard"))));else if(h!==void 0&&!u._called){xe(m),c(new Error("Invalid navigation guard"));return}}p.catch(m=>c(m))})}function Y0(n,e,t){let r=0;return function(){r++===1&&xe(`The "next" callback was called more than once in one navigation guard when going from "${t.fullPath}" to "${e.fullPath}". It should be called exactly one time in each navigation guard. This will fail in production.`),n._called=!0,r===1&&n.apply(null,arguments)}}function Qa(n,e,t,r){const i=[];for(const s of n){process.env.NODE_ENV!=="production"&&!s.components&&!s.children.length&&xe(`Record with path "${s.path}" is either missing a "component(s)" or "children" property.`);for(const a in s.components){let c=s.components[a];if(process.env.NODE_ENV!=="production"){if(!c||typeof c!="object"&&typeof c!="function")throw xe(`Component "${a}" in record with path "${s.path}" is not a valid component. Received "${String(c)}".`),new Error("Invalid route component");if("then"in c){xe(`Component "${a}" in record with path "${s.path}" is a Promise instead of a function that returns a Promise. Did you write "import('./MyPage.vue')" instead of "() => import('./MyPage.vue')" ? This will break in production if not fixed.`);const u=c;c=()=>u}else c.__asyncLoader&&!c.__warnedDefineAsync&&(c.__warnedDefineAsync=!0,xe(`Component "${a}" in record with path "${s.path}" is defined using "defineAsyncComponent()". Write "() => import('./MyPage.vue')" instead of "defineAsyncComponent(() => import('./MyPage.vue'))".`))}if(!(e!=="beforeRouteEnter"&&!s.instances[a]))if(X0(c)){const h=(c.__vccOpts||c)[e];h&&i.push(cr(h,t,r,s,a))}else{let u=c();process.env.NODE_ENV!=="production"&&!("catch"in u)&&(xe(`Component "${a}" in record with path "${s.path}" is a function that does not return a Promise. If you were passing a functional component, make sure to add a "displayName" to the component. This will break in production if not fixed.`),u=Promise.resolve(u)),i.push(()=>u.then(h=>{if(!h)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${s.path}"`));const p=Yy(h)?h.default:h;s.components[a]=p;const y=(p.__vccOpts||p)[e];return y&&cr(y,t,r,s,a)()}))}}}return i}function X0(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function pf(n){const e=d.inject(as),t=d.inject(df),r=d.computed(()=>e.resolve(d.unref(n.to))),i=d.computed(()=>{const{matched:u}=r.value,{length:h}=u,p=u[h-1],m=t.matched;if(!p||!m.length)return-1;const y=m.findIndex(ar.bind(null,p));if(y>-1)return y;const b=hf(u[h-2]);return h>1&&hf(p)===b&&m[m.length-1].path!==b?m.findIndex(ar.bind(null,u[h-2])):y}),s=d.computed(()=>i.value>-1&&eb(t.params,r.value.params)),a=d.computed(()=>i.value>-1&&i.value===t.matched.length-1&&Uu(t.params,r.value.params));function c(u={}){return Q0(u)?e[d.unref(n.replace)?"replace":"push"](d.unref(n.to)).catch(io):Promise.resolve()}if((process.env.NODE_ENV!=="production"||!1)&&jn){const u=d.getCurrentInstance();if(u){const h={route:r.value,isActive:s.value,isExactActive:a.value};u.__vrl_devtools=u.__vrl_devtools||[],u.__vrl_devtools.push(h),d.watchEffect(()=>{h.route=r.value,h.isActive=s.value,h.isExactActive=a.value},{flush:"post"})}}return{route:r,href:d.computed(()=>r.value.href),isActive:s,isExactActive:a,navigate:c}}const Z0=d.defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:pf,setup(n,{slots:e}){const t=d.reactive(pf(n)),{options:r}=d.inject(as),i=d.computed(()=>({[mf(n.activeClass,r.linkActiveClass,"router-link-active")]:t.isActive,[mf(n.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const s=e.default&&e.default(t);return n.custom?s:d.h("a",{"aria-current":t.isExactActive?n.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:i.value},s)}}});function Q0(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}function eb(n,e){for(const t in e){const r=e[t],i=n[t];if(typeof r=="string"){if(r!==i)return!1}else if(!jt(i)||i.length!==r.length||r.some((s,a)=>s!==i[a]))return!1}return!0}function hf(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const mf=(n,e,t)=>n!=null?n:e!=null?e:t,tb=d.defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:e,slots:t}){process.env.NODE_ENV!=="production"&&rb();const r=d.inject(Za),i=d.computed(()=>n.route||r.value),s=d.inject(ff,0),a=d.computed(()=>{let h=d.unref(s);const{matched:p}=i.value;let m;for(;(m=p[h])&&!m.components;)h++;return h}),c=d.computed(()=>i.value.matched[a.value]);d.provide(ff,d.computed(()=>a.value+1)),d.provide(G0,c),d.provide(Za,i);const u=d.ref();return d.watch(()=>[u.value,c.value,n.name],([h,p,m],[y,b,E])=>{p&&(p.instances[m]=h,b&&b!==p&&h&&h===y&&(p.leaveGuards.size||(p.leaveGuards=b.leaveGuards),p.updateGuards.size||(p.updateGuards=b.updateGuards))),h&&p&&(!b||!ar(p,b)||!y)&&(p.enterCallbacks[m]||[]).forEach(S=>S(h))},{flush:"post"}),()=>{const h=i.value,p=n.name,m=c.value,y=m&&m.components[p];if(!y)return gf(t.default,{Component:y,route:h});const b=m.props[p],E=b?b===!0?h.params:typeof b=="function"?b(h):b:null,S=M=>{M.component.isUnmounted&&(m.instances[p]=null)},O=d.h(y,Te({},E,e,{onVnodeUnmounted:S,ref:u}));if((process.env.NODE_ENV!=="production"||!1)&&jn&&O.ref){const M={depth:a.value,name:m.name,path:m.path,meta:m.meta};(jt(O.ref)?O.ref.map(z=>z.i):[O.ref.i]).forEach(z=>{z.__vrv_devtools=M})}return gf(t.default,{Component:O,route:h})||O}}});function gf(n,e){if(!n)return null;const t=n(e);return t.length===1?t[0]:t}const nb=tb;function rb(){const n=d.getCurrentInstance(),e=n.parent&&n.parent.type.name;if(e&&(e==="KeepAlive"||e.includes("Transition"))){const t=e==="KeepAlive"?"keep-alive":"transition";xe(`<router-view> can no longer be used directly inside <transition> or <keep-alive>.
Use slot props instead:

<router-view v-slot="{ Component }">
  <${t}>
    <component :is="Component" />
  </${t}>
</router-view>`)}}function co(n,e){const t=Te({},n,{matched:n.matched.map(r=>db(r,["instances","children","aliasOf"]))});return{_custom:{type:null,readOnly:!0,display:n.fullPath,tooltip:e,value:t}}}function ls(n){return{_custom:{display:n}}}let ib=0;function ob(n,e,t){if(e.__hasDevtools)return;e.__hasDevtools=!0;const r=ib++;Gy({id:"org.vuejs.router"+(r?"."+r:""),label:"Vue Router",packageName:"vue-router",homepage:"https://router.vuejs.org",logo:"https://router.vuejs.org/logo.png",componentStateTypes:["Routing"],app:n},i=>{typeof i.now!="function"&&console.warn("[Vue Router]: You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),i.on.inspectComponent((p,m)=>{p.instanceData&&p.instanceData.state.push({type:"Routing",key:"$route",editable:!1,value:co(e.currentRoute.value,"Current Route")})}),i.on.visitComponentTree(({treeNode:p,componentInstance:m})=>{if(m.__vrv_devtools){const y=m.__vrv_devtools;p.tags.push({label:(y.name?`${y.name.toString()}: `:"")+y.path,textColor:0,tooltip:"This component is rendered by &lt;router-view&gt;",backgroundColor:yf})}jt(m.__vrl_devtools)&&(m.__devtoolsApi=i,m.__vrl_devtools.forEach(y=>{let b=wf,E="";y.isExactActive?(b=vf,E="This is exactly active"):y.isActive&&(b=bf,E="This link is active"),p.tags.push({label:y.route.path,textColor:0,tooltip:E,backgroundColor:b})}))}),d.watch(e.currentRoute,()=>{u(),i.notifyComponentUpdate(),i.sendInspectorTree(c),i.sendInspectorState(c)});const s="router:navigations:"+r;i.addTimelineLayer({id:s,label:`Router${r?" "+r:""} Navigations`,color:4237508}),e.onError((p,m)=>{i.addTimelineEvent({layerId:s,event:{title:"Error during Navigation",subtitle:m.fullPath,logType:"error",time:i.now(),data:{error:p},groupId:m.meta.__navigationId}})});let a=0;e.beforeEach((p,m)=>{const y={guard:ls("beforeEach"),from:co(m,"Current Location during this navigation"),to:co(p,"Target location")};Object.defineProperty(p.meta,"__navigationId",{value:a++}),i.addTimelineEvent({layerId:s,event:{time:i.now(),title:"Start of navigation",subtitle:p.fullPath,data:y,groupId:p.meta.__navigationId}})}),e.afterEach((p,m,y)=>{const b={guard:ls("afterEach")};y?(b.failure={_custom:{type:Error,readOnly:!0,display:y?y.message:"",tooltip:"Navigation Failure",value:y}},b.status=ls("\u274C")):b.status=ls("\u2705"),b.from=co(m,"Current Location during this navigation"),b.to=co(p,"Target location"),i.addTimelineEvent({layerId:s,event:{title:"End of navigation",subtitle:p.fullPath,time:i.now(),data:b,logType:y?"warning":"default",groupId:p.meta.__navigationId}})});const c="router-inspector:"+r;i.addInspector({id:c,label:"Routes"+(r?" "+r:""),icon:"book",treeFilterPlaceholder:"Search routes"});function u(){if(!h)return;const p=h;let m=t.getRoutes().filter(y=>!y.parent);m.forEach(Sf),p.filter&&(m=m.filter(y=>el(y,p.filter.toLowerCase()))),m.forEach(y=>Ef(y,e.currentRoute.value)),p.rootNodes=m.map(xf)}let h;i.on.getInspectorTree(p=>{h=p,p.app===n&&p.inspectorId===c&&u()}),i.on.getInspectorState(p=>{if(p.app===n&&p.inspectorId===c){const y=t.getRoutes().find(b=>b.record.__vd_id===p.nodeId);y&&(p.state={options:ab(y)})}}),i.sendInspectorTree(c),i.sendInspectorState(c)})}function sb(n){return n.optional?n.repeatable?"*":"?":n.repeatable?"+":""}function ab(n){const{record:e}=n,t=[{editable:!1,key:"path",value:e.path}];return e.name!=null&&t.push({editable:!1,key:"name",value:e.name}),t.push({editable:!1,key:"regexp",value:n.re}),n.keys.length&&t.push({editable:!1,key:"keys",value:{_custom:{type:null,readOnly:!0,display:n.keys.map(r=>`${r.name}${sb(r)}`).join(" "),tooltip:"Param keys",value:n.keys}}}),e.redirect!=null&&t.push({editable:!1,key:"redirect",value:e.redirect}),n.alias.length&&t.push({editable:!1,key:"aliases",value:n.alias.map(r=>r.record.path)}),Object.keys(n.record.meta).length&&t.push({editable:!1,key:"meta",value:n.record.meta}),t.push({key:"score",editable:!1,value:{_custom:{type:null,readOnly:!0,display:n.score.map(r=>r.join(", ")).join(" | "),tooltip:"Score used to sort routes",value:n.score}}}),t}const yf=15485081,bf=2450411,vf=8702998,lb=2282478,wf=16486972,cb=6710886;function xf(n){const e=[],{record:t}=n;t.name!=null&&e.push({label:String(t.name),textColor:0,backgroundColor:lb}),t.aliasOf&&e.push({label:"alias",textColor:0,backgroundColor:wf}),n.__vd_match&&e.push({label:"matches",textColor:0,backgroundColor:yf}),n.__vd_exactActive&&e.push({label:"exact",textColor:0,backgroundColor:vf}),n.__vd_active&&e.push({label:"active",textColor:0,backgroundColor:bf}),t.redirect&&e.push({label:typeof t.redirect=="string"?`redirect: ${t.redirect}`:"redirects",textColor:16777215,backgroundColor:cb});let r=t.__vd_id;return r==null&&(r=String(ub++),t.__vd_id=r),{id:r,label:t.path,tags:e,children:n.children.map(xf)}}let ub=0;const fb=/^\/(.*)\/([a-z]*)$/;function Ef(n,e){const t=e.matched.length&&ar(e.matched[e.matched.length-1],n.record);n.__vd_exactActive=n.__vd_active=t,t||(n.__vd_active=e.matched.some(r=>ar(r,n.record))),n.children.forEach(r=>Ef(r,e))}function Sf(n){n.__vd_match=!1,n.children.forEach(Sf)}function el(n,e){const t=String(n.re).match(fb);if(n.__vd_match=!1,!t||t.length<3)return!1;if(new RegExp(t[1].replace(/\$$/,""),t[2]).test(e))return n.children.forEach(a=>el(a,e)),n.record.path!=="/"||e==="/"?(n.__vd_match=n.re.test(e),!0):!1;const i=n.record.path.toLowerCase(),s=ao(i);return!e.startsWith("/")&&(s.includes(e)||i.includes(e))||s.startsWith(e)||i.startsWith(e)||n.record.name&&String(n.record.name).includes(e)?!0:n.children.some(a=>el(a,e))}function db(n,e){const t={};for(const r in n)e.includes(r)||(t[r]=n[r]);return t}function pb(n){const e=O0(n.routes,n),t=n.parseQuery||K0,r=n.stringifyQuery||uf,i=n.history;if(process.env.NODE_ENV!=="production"&&!i)throw new Error('Provide the "history" option when calling "createRouter()": https://next.router.vuejs.org/api/#history.');const s=lo(),a=lo(),c=lo(),u=d.shallowRef(lr);let h=lr;jn&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=Ua.bind(null,D=>""+D),m=Ua.bind(null,q0),y=Ua.bind(null,ao);function b(D,W){let j,K;return Yu(D)?(j=e.getRecordMatcher(D),K=W):K=D,e.addRoute(K,j)}function E(D){const W=e.getRecordMatcher(D);W?e.removeRoute(W):process.env.NODE_ENV!=="production"&&xe(`Cannot remove non-existent route "${String(D)}"`)}function S(){return e.getRoutes().map(D=>D.record)}function O(D){return!!e.getRecordMatcher(D)}function M(D,W){if(W=Te({},W||u.value),typeof D=="string"){const oe=qa(t,D,W.path),Ne=e.resolve({path:oe.path},W),He=i.createHref(oe.fullPath);return process.env.NODE_ENV!=="production"&&(He.startsWith("//")?xe(`Location "${D}" resolved to "${He}". A resolved location cannot start with multiple slashes.`):Ne.matched.length||xe(`No match found for location with path "${D}"`)),Te(oe,Ne,{params:y(Ne.params),hash:ao(oe.hash),redirectedFrom:void 0,href:He})}let j;if("path"in D)process.env.NODE_ENV!=="production"&&"params"in D&&!("name"in D)&&Object.keys(D.params).length&&xe(`Path "${D.path}" was passed with params but they will be ignored. Use a named route alongside params instead.`),j=Te({},D,{path:qa(t,D.path,W.path).path});else{const oe=Te({},D.params);for(const Ne in oe)oe[Ne]==null&&delete oe[Ne];j=Te({},D,{params:m(D.params)}),W.params=m(W.params)}const K=e.resolve(j,W),ae=D.hash||"";process.env.NODE_ENV!=="production"&&ae&&!ae.startsWith("#")&&xe(`A \`hash\` should always start with the character "#". Replace "${ae}" with "#${ae}".`),K.params=p(y(K.params));const De=Qy(r,Te({},D,{hash:W0(ae),path:K.path})),ie=i.createHref(De);return process.env.NODE_ENV!=="production"&&(ie.startsWith("//")?xe(`Location "${D}" resolved to "${ie}". A resolved location cannot start with multiple slashes.`):K.matched.length||xe(`No match found for location with path "${"path"in D?D.path:D}"`)),Te({fullPath:De,hash:ae,query:r===uf?J0(D.query):D.query||{}},K,{redirectedFrom:void 0,href:ie})}function I(D){return typeof D=="string"?qa(t,D,u.value.path):Te({},D)}function z(D,W){if(h!==D)return ui(8,{from:W,to:D})}function _(D){return Y(D)}function H(D){return _(Te(I(D),{replace:!0}))}function V(D){const W=D.matched[D.matched.length-1];if(W&&W.redirect){const{redirect:j}=W;let K=typeof j=="function"?j(D):j;if(typeof K=="string"&&(K=K.includes("?")||K.includes("#")?K=I(K):{path:K},K.params={}),process.env.NODE_ENV!=="production"&&!("path"in K)&&!("name"in K))throw xe(`Invalid redirect found:
${JSON.stringify(K,null,2)}
 when navigating to "${D.fullPath}". A redirect must contain a name or path. This will break in production.`),new Error("Invalid redirect");return Te({query:D.query,hash:D.hash,params:"path"in K?{}:D.params},K)}}function Y(D,W){const j=h=M(D),K=u.value,ae=D.state,De=D.force,ie=D.replace===!0,oe=V(j);if(oe)return Y(Te(I(oe),{state:typeof oe=="object"?Te({},ae,oe.state):ae,force:De,replace:ie}),W||j);const Ne=j;Ne.redirectedFrom=W;let He;return!De&&ju(r,K,j)&&(He=ui(16,{to:Ne,from:K}),st(K,K,!0,!1)),(He?Promise.resolve(He):be(Ne,K)).catch($e=>Un($e)?Un($e,2)?$e:gt($e):Pe($e,Ne,K)).then($e=>{if($e){if(Un($e,2))return process.env.NODE_ENV!=="production"&&ju(r,M($e.to),Ne)&&W&&(W._count=W._count?W._count+1:1)>10?(xe(`Detected an infinite redirection in a navigation guard when going from "${K.fullPath}" to "${Ne.fullPath}". Aborting to avoid a Stack Overflow. This will break in production if not fixed.`),Promise.reject(new Error("Infinite redirect in navigation guard"))):Y(Te({replace:ie},I($e.to),{state:typeof $e.to=="object"?Te({},ae,$e.to.state):ae,force:De}),W||Ne)}else $e=Ee(Ne,K,!0,ie,ae);return Oe(Ne,K,$e),$e})}function U(D,W){const j=z(D,W);return j?Promise.reject(j):Promise.resolve()}function be(D,W){let j;const[K,ae,De]=hb(D,W);j=Qa(K.reverse(),"beforeRouteLeave",D,W);for(const oe of K)oe.leaveGuards.forEach(Ne=>{j.push(cr(Ne,D,W))});const ie=U.bind(null,D,W);return j.push(ie),fi(j).then(()=>{j=[];for(const oe of s.list())j.push(cr(oe,D,W));return j.push(ie),fi(j)}).then(()=>{j=Qa(ae,"beforeRouteUpdate",D,W);for(const oe of ae)oe.updateGuards.forEach(Ne=>{j.push(cr(Ne,D,W))});return j.push(ie),fi(j)}).then(()=>{j=[];for(const oe of D.matched)if(oe.beforeEnter&&!W.matched.includes(oe))if(jt(oe.beforeEnter))for(const Ne of oe.beforeEnter)j.push(cr(Ne,D,W));else j.push(cr(oe.beforeEnter,D,W));return j.push(ie),fi(j)}).then(()=>(D.matched.forEach(oe=>oe.enterCallbacks={}),j=Qa(De,"beforeRouteEnter",D,W),j.push(ie),fi(j))).then(()=>{j=[];for(const oe of a.list())j.push(cr(oe,D,W));return j.push(ie),fi(j)}).catch(oe=>Un(oe,8)?oe:Promise.reject(oe))}function Oe(D,W,j){for(const K of c.list())K(D,W,j)}function Ee(D,W,j,K,ae){const De=z(D,W);if(De)return De;const ie=W===lr,oe=jn?history.state:{};j&&(K||ie?i.replace(D.fullPath,Te({scroll:ie&&oe&&oe.scroll},ae)):i.push(D.fullPath,ae)),u.value=D,st(D,W,j,ie),gt()}let _e;function Le(){_e||(_e=i.listen((D,W,j)=>{if(!Vt.listening)return;const K=M(D),ae=V(K);if(ae){Y(Te(ae,{replace:!0}),K).catch(io);return}h=K;const De=u.value;jn&&a0(Ku(De.fullPath,j.delta),ss()),be(K,De).catch(ie=>Un(ie,12)?ie:Un(ie,2)?(Y(ie.to,K).then(oe=>{Un(oe,20)&&!j.delta&&j.type===oo.pop&&i.go(-1,!1)}).catch(io),Promise.reject()):(j.delta&&i.go(-j.delta,!1),Pe(ie,K,De))).then(ie=>{ie=ie||Ee(K,De,!1),ie&&(j.delta&&!Un(ie,8)?i.go(-j.delta,!1):j.type===oo.pop&&Un(ie,20)&&i.go(-1,!1)),Oe(K,De,ie)}).catch(io)}))}let Xe=lo(),ot=lo(),je;function Pe(D,W,j){gt(D);const K=ot.list();return K.length?K.forEach(ae=>ae(D,W,j)):(process.env.NODE_ENV!=="production"&&xe("uncaught error during route navigation:"),console.error(D)),Promise.reject(D)}function Be(){return je&&u.value!==lr?Promise.resolve():new Promise((D,W)=>{Xe.add([D,W])})}function gt(D){return je||(je=!D,Le(),Xe.list().forEach(([W,j])=>D?j(D):W()),Xe.reset()),D}function st(D,W,j,K){const{scrollBehavior:ae}=n;if(!jn||!ae)return Promise.resolve();const De=!j&&l0(Ku(D.fullPath,0))||(K||!j)&&history.state&&history.state.scroll||null;return d.nextTick().then(()=>ae(D,W,De)).then(ie=>ie&&s0(ie)).catch(ie=>Pe(ie,D,W))}const Ke=D=>i.go(D);let yt;const Jt=new Set,Vt={currentRoute:u,listening:!0,addRoute:b,removeRoute:E,hasRoute:O,getRoutes:S,resolve:M,options:n,push:_,replace:H,go:Ke,back:()=>Ke(-1),forward:()=>Ke(1),beforeEach:s.add,beforeResolve:a.add,afterEach:c.add,onError:ot.add,isReady:Be,install(D){const W=this;D.component("RouterLink",Z0),D.component("RouterView",nb),D.config.globalProperties.$router=W,Object.defineProperty(D.config.globalProperties,"$route",{enumerable:!0,get:()=>d.unref(u)}),jn&&!yt&&u.value===lr&&(yt=!0,_(i.location).catch(ae=>{process.env.NODE_ENV!=="production"&&xe("Unexpected error when starting the router:",ae)}));const j={};for(const ae in lr)j[ae]=d.computed(()=>u.value[ae]);D.provide(as,W),D.provide(df,d.reactive(j)),D.provide(Za,u);const K=D.unmount;Jt.add(D),D.unmount=function(){Jt.delete(D),Jt.size<1&&(h=lr,_e&&_e(),_e=null,u.value=lr,yt=!1,je=!1),K()},(process.env.NODE_ENV!=="production"||!1)&&jn&&ob(D,W,e)}};return Vt}function fi(n){return n.reduce((e,t)=>e.then(()=>t()),Promise.resolve())}function hb(n,e){const t=[],r=[],i=[],s=Math.max(e.matched.length,n.matched.length);for(let a=0;a<s;a++){const c=e.matched[a];c&&(n.matched.find(h=>ar(h,c))?r.push(c):t.push(c));const u=n.matched[a];u&&(e.matched.find(h=>ar(h,u))||i.push(u))}return[t,r,i]}function kf(){return d.inject(as)}(function(){try{if(typeof document<"u"){var n=document.createElement("style");n.appendChild(document.createTextNode(".vue-notification-group{display:block;position:fixed;z-index:5000}.vue-notification-wrapper{display:block;overflow:hidden;width:100%;margin:0;padding:0}.notification-title{font-weight:600}.vue-notification-template{display:block;box-sizing:border-box;background:white;text-align:left}.vue-notification{display:block;box-sizing:border-box;text-align:left;font-size:12px;padding:10px;margin:0 5px 5px;color:#fff;background:#44A4FC;border-left:5px solid #187FE7}.vue-notification.warn{background:#ffb648;border-left-color:#f48a06}.vue-notification.error{background:#E54D42;border-left-color:#b82e24}.vue-notification.success{background:#68CD86;border-left-color:#42a85f}.vn-fade-enter-active,.vn-fade-leave-active,.vn-fade-move{transition:all .5s}.vn-fade-enter-from,.vn-fade-leave-to{opacity:0}")),document.head.appendChild(n)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();var mb=Object.defineProperty,gb=(n,e,t)=>e in n?mb(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,cs=(n,e,t)=>(gb(n,typeof e!="symbol"?e+"":e,t),t);function yb(n){return{all:n=n||new Map,on:function(e,t){var r=n.get(e);r?r.push(t):n.set(e,[t])},off:function(e,t){var r=n.get(e);r&&(t?r.splice(r.indexOf(t)>>>0,1):n.set(e,[]))},emit:function(e,t){var r=n.get(e);r&&r.slice().map(function(i){i(t)}),(r=n.get("*"))&&r.slice().map(function(i){i(e,t)})}}}const us=yb(),_f=new Map,Cf={x:["left","center","right"],y:["top","bottom"]},bb=(n=>()=>n++)(0),vb=n=>typeof n!="string"?[]:n.split(/\s+/gi).filter(e=>e),wb=n=>{typeof n=="string"&&(n=vb(n));let e=null,t=null;return n.forEach(r=>{Cf.y.indexOf(r)!==-1&&(t=r),Cf.x.indexOf(r)!==-1&&(e=r)}),{x:e,y:t}};class xb{constructor(e,t,r){cs(this,"start"),cs(this,"remaining"),cs(this,"notifyItem"),cs(this,"callback"),this.remaining=t,this.callback=e,this.notifyItem=r,this.resume()}pause(){clearTimeout(this.notifyItem.timer),this.remaining-=Date.now()-this.start}resume(){this.start=Date.now(),clearTimeout(this.notifyItem.timer),this.notifyItem.timer=setTimeout(this.callback,this.remaining)}}const tl={position:["top","right"],cssAnimation:"vn-fade",velocityAnimation:{enter:n=>({height:[n.clientHeight,0],opacity:[1,0]}),leave:{height:0,opacity:[0,1]}}},Eb=d.defineComponent({name:"velocity-group",emits:["after-leave","leave","enter"],methods:{enter(n,e){this.$emit("enter",n,e)},leave(n,e){this.$emit("leave",n,e)},afterLeave(){this.$emit("after-leave")}}}),nl=(n,e)=>{const t=n.__vccOpts||n;for(const[r,i]of e)t[r]=i;return t};function Sb(n,e,t,r,i,s){return d.openBlock(),d.createBlock(d.TransitionGroup,{tag:"span",css:!1,onEnter:n.enter,onLeave:n.leave,onAfterLeave:n.afterLeave},{default:d.withCtx(()=>[d.renderSlot(n.$slots,"default")]),_:3},8,["onEnter","onLeave","onAfterLeave"])}const kb=nl(Eb,[["render",Sb]]),_b=d.defineComponent({name:"css-group",inheritAttrs:!1,props:{name:{type:String,required:!0}}});function Cb(n,e,t,r,i,s){return d.openBlock(),d.createBlock(d.TransitionGroup,{tag:"span",name:n.name},{default:d.withCtx(()=>[d.renderSlot(n.$slots,"default")]),_:3},8,["name"])}const Ob=nl(_b,[["render",Cb]]),rl="[-+]?[0-9]*.?[0-9]+",Of=[{name:"px",regexp:new RegExp(`^${rl}px$`)},{name:"%",regexp:new RegExp(`^${rl}%$`)},{name:"px",regexp:new RegExp(`^${rl}$`)}],Tb=n=>{if(n==="auto")return{type:n,value:0};for(let e=0;e<Of.length;e++){const t=Of[e];if(t.regexp.test(n))return{type:t.name,value:parseFloat(n)}}return{type:"",value:n}},Nb=n=>{switch(typeof n){case"number":return{type:"px",value:n};case"string":return Tb(n);default:return{type:"",value:n}}},fs={IDLE:0,DESTROYED:2},Mb=d.defineComponent({name:"notifications",components:{VelocityGroup:kb,CssGroup:Ob},props:{group:{type:String,default:""},width:{type:[Number,String],default:300},reverse:{type:Boolean,default:!1},position:{type:[String,Array],default:tl.position},classes:{type:String,default:"vue-notification"},animationType:{type:String,default:"css"},animation:{type:Object,default:tl.velocityAnimation},animationName:{type:String,default:tl.cssAnimation},speed:{type:Number,default:300},cooldown:{type:Number,default:0},duration:{type:Number,default:3e3},delay:{type:Number,default:0},max:{type:Number,default:1/0},ignoreDuplicates:{type:Boolean,default:!1},closeOnClick:{type:Boolean,default:!0},pauseOnHover:{type:Boolean,default:!1}},emits:["click","destroy"],data(){return{list:[],velocity:_f.get("velocity"),timerControl:null}},computed:{actualWidth(){return Nb(this.width)},isVA(){return this.animationType==="velocity"},componentName(){return this.isVA?"velocity-group":"css-group"},styles(){const{x:n,y:e}=wb(this.position),t=this.actualWidth.value,r=this.actualWidth.type,i={width:t+r};return e&&(i[e]="0px"),n&&(n==="center"?i.left=`calc(50% - ${+t/2}${r})`:i[n]="0px"),i},active(){return this.list.filter(n=>n.state!==fs.DESTROYED)},botToTop(){return this.styles.hasOwnProperty("bottom")}},mounted(){us.on("add",this.addItem),us.on("close",this.closeItem)},methods:{destroyIfNecessary(n){this.$emit("click",n),this.closeOnClick&&this.destroy(n)},pauseTimeout(){var n;this.pauseOnHover&&((n=this.timerControl)==null||n.pause())},resumeTimeout(){var n;this.pauseOnHover&&((n=this.timerControl)==null||n.resume())},addItem(n={}){if(n.group||(n.group=""),n.data||(n.data={}),this.group!==n.group)return;if(n.clean||n.clear){this.destroyAll();return}const e=typeof n.duration=="number"?n.duration:this.duration,t=typeof n.speed=="number"?n.speed:this.speed,r=typeof n.ignoreDuplicates=="boolean"?n.ignoreDuplicates:this.ignoreDuplicates,{title:i,text:s,type:a,data:c,id:u}=n,h={id:u||bb(),title:i,text:s,type:a,state:fs.IDLE,speed:t,length:e+2*t,data:c};e>=0&&(this.timerControl=new xb(()=>this.destroy(h),h.length,h));const p=this.reverse?!this.botToTop:this.botToTop;let m=-1;const y=this.active.some(b=>b.title===n.title&&b.text===n.text);(!r||!y)&&(p?(this.list.push(h),this.active.length>this.max&&(m=0)):(this.list.unshift(h),this.active.length>this.max&&(m=this.active.length-1)),m!==-1&&this.destroy(this.active[m]))},closeItem(n){this.destroyById(n)},notifyClass(n){var e;return["vue-notification-template",this.classes,(e=n.type)!=null?e:""]},notifyWrapperStyle(n){return this.isVA?void 0:{transition:`all ${n.speed}ms`}},destroy(n){clearTimeout(n.timer),n.state=fs.DESTROYED,this.clean(),this.$emit("destroy",n)},destroyById(n){const e=this.list.find(t=>t.id===n);e&&this.destroy(e)},destroyAll(){this.active.forEach(this.destroy)},getAnimation(n,e){var t;const r=(t=this.animation)==null?void 0:t[n];return typeof r=="function"?r.call(this,e):r},enter(n,e){if(!this.isVA)return;const t=this.getAnimation("enter",n);this.velocity(n,t,{duration:this.speed,complete:e})},leave(n,e){if(!this.isVA)return;const t=this.getAnimation("leave",n);this.velocity(n,t,{duration:this.speed,complete:e})},clean(){this.list=this.list.filter(n=>n.state!==fs.DESTROYED)}}}),Ab=["data-id"],Db=["onClick"],Rb=["innerHTML"],Ib=["innerHTML"];function Pb(n,e,t,r,i,s){return d.openBlock(),d.createElementBlock("div",{class:"vue-notification-group",style:d.normalizeStyle(n.styles)},[(d.openBlock(),d.createBlock(d.resolveDynamicComponent(n.componentName),{name:n.animationName,onEnter:n.enter,onLeave:n.leave,onAfterLeave:n.clean},{default:d.withCtx(()=>[(d.openBlock(!0),d.createElementBlock(d.Fragment,null,d.renderList(n.active,a=>(d.openBlock(),d.createElementBlock("div",{key:a.id,class:"vue-notification-wrapper",style:d.normalizeStyle(n.notifyWrapperStyle(a)),"data-id":a.id,onMouseenter:e[0]||(e[0]=(...c)=>n.pauseTimeout&&n.pauseTimeout(...c)),onMouseleave:e[1]||(e[1]=(...c)=>n.resumeTimeout&&n.resumeTimeout(...c))},[d.renderSlot(n.$slots,"body",{class:d.normalizeClass([n.classes,a.type]),item:a,close:()=>n.destroy(a)},()=>[d.createElementVNode("div",{class:d.normalizeClass(n.notifyClass(a)),onClick:c=>n.destroyIfNecessary(a)},[a.title?(d.openBlock(),d.createElementBlock("div",{key:0,class:"notification-title",innerHTML:a.title},null,8,Rb)):d.createCommentVNode("",!0),d.createElementVNode("div",{class:"notification-content",innerHTML:a.text},null,8,Ib)],10,Db)])],44,Ab))),128))]),_:3},40,["name","onEnter","onLeave","onAfterLeave"]))],4)}const Bb=nl(Mb,[["render",Pb]]),ue=n=>{typeof n=="string"&&(n={title:"",text:n}),typeof n=="object"&&us.emit("add",n)};ue.close=n=>{us.emit("close",n)};function Lb(n,e={}){Object.entries(e).forEach(r=>_f.set(...r));const t=e.name||"notify";n.config.globalProperties["$"+t]=ue,n.component(e.componentName||"notifications",Bb)}const Vb={install:Lb};var uo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},wt={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(n,e){(function(){var t,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",c="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",h=500,p="__lodash_placeholder__",m=1,y=2,b=4,E=1,S=2,O=1,M=2,I=4,z=8,_=16,H=32,V=64,Y=128,U=256,be=512,Oe=30,Ee="...",_e=800,Le=16,Xe=1,ot=2,je=3,Pe=1/0,Be=9007199254740991,gt=17976931348623157e292,st=0/0,Ke=4294967295,yt=Ke-1,Jt=Ke>>>1,Vt=[["ary",Y],["bind",O],["bindKey",M],["curry",z],["curryRight",_],["flip",be],["partial",H],["partialRight",V],["rearg",U]],D="[object Arguments]",W="[object Array]",j="[object AsyncFunction]",K="[object Boolean]",ae="[object Date]",De="[object DOMException]",ie="[object Error]",oe="[object Function]",Ne="[object GeneratorFunction]",He="[object Map]",$e="[object Number]",Xr="[object Null]",Ct="[object Object]",Zr="[object Promise]",Fi="[object Proxy]",Ot="[object RegExp]",Ze="[object Set]",Sn="[object String]",ln="[object Symbol]",Qr="[object Undefined]",$n="[object WeakMap]",zi="[object WeakSet]",Fn="[object ArrayBuffer]",kn="[object DataView]",Bo="[object Float32Array]",Lo="[object Float64Array]",Vo="[object Int8Array]",$o="[object Int16Array]",Fo="[object Int32Array]",R="[object Uint8Array]",X="[object Uint8ClampedArray]",ee="[object Uint16Array]",Ce="[object Uint32Array]",Se=/\b__p \+= '';/g,ft=/\b(__p \+=) '' \+/g,$t=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Yn=/&(?:amp|lt|gt|quot|#39);/g,zo=/[&<>"']/g,Xn=RegExp(Yn.source),Ho=RegExp(zo.source),Hi=/<%-([\s\S]+?)%>/g,Or=/<%([\s\S]+?)%>/g,ta=/<%=([\s\S]+?)%>/g,Wo=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Wi=/^\w*$/,uM=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Nc=/[\\^$.*+?()[\]{}|]/g,fM=RegExp(Nc.source),Mc=/^\s+/,dM=/\s/,pM=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,hM=/\{\n\/\* \[wrapped with (.+)\] \*/,mM=/,? & /,gM=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,yM=/[()=,{}\[\]\/\s]/,bM=/\\(\\)?/g,vM=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,lm=/\w*$/,wM=/^[-+]0x[0-9a-f]+$/i,xM=/^0b[01]+$/i,EM=/^\[object .+?Constructor\]$/,SM=/^0o[0-7]+$/i,kM=/^(?:0|[1-9]\d*)$/,_M=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,na=/($^)/,CM=/['\n\r\u2028\u2029\\]/g,ra="\\ud800-\\udfff",OM="\\u0300-\\u036f",TM="\\ufe20-\\ufe2f",NM="\\u20d0-\\u20ff",cm=OM+TM+NM,um="\\u2700-\\u27bf",fm="a-z\\xdf-\\xf6\\xf8-\\xff",MM="\\xac\\xb1\\xd7\\xf7",AM="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",DM="\\u2000-\\u206f",RM=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",dm="A-Z\\xc0-\\xd6\\xd8-\\xde",pm="\\ufe0e\\ufe0f",hm=MM+AM+DM+RM,Ac="['\u2019]",IM="["+ra+"]",mm="["+hm+"]",ia="["+cm+"]",gm="\\d+",PM="["+um+"]",ym="["+fm+"]",bm="[^"+ra+hm+gm+um+fm+dm+"]",Dc="\\ud83c[\\udffb-\\udfff]",BM="(?:"+ia+"|"+Dc+")",vm="[^"+ra+"]",Rc="(?:\\ud83c[\\udde6-\\uddff]){2}",Ic="[\\ud800-\\udbff][\\udc00-\\udfff]",ji="["+dm+"]",wm="\\u200d",xm="(?:"+ym+"|"+bm+")",LM="(?:"+ji+"|"+bm+")",Em="(?:"+Ac+"(?:d|ll|m|re|s|t|ve))?",Sm="(?:"+Ac+"(?:D|LL|M|RE|S|T|VE))?",km=BM+"?",_m="["+pm+"]?",VM="(?:"+wm+"(?:"+[vm,Rc,Ic].join("|")+")"+_m+km+")*",$M="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",FM="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Cm=_m+km+VM,zM="(?:"+[PM,Rc,Ic].join("|")+")"+Cm,HM="(?:"+[vm+ia+"?",ia,Rc,Ic,IM].join("|")+")",WM=RegExp(Ac,"g"),jM=RegExp(ia,"g"),Pc=RegExp(Dc+"(?="+Dc+")|"+HM+Cm,"g"),UM=RegExp([ji+"?"+ym+"+"+Em+"(?="+[mm,ji,"$"].join("|")+")",LM+"+"+Sm+"(?="+[mm,ji+xm,"$"].join("|")+")",ji+"?"+xm+"+"+Em,ji+"+"+Sm,FM,$M,gm,zM].join("|"),"g"),qM=RegExp("["+wm+ra+cm+pm+"]"),KM=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,JM=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],GM=-1,ze={};ze[Bo]=ze[Lo]=ze[Vo]=ze[$o]=ze[Fo]=ze[R]=ze[X]=ze[ee]=ze[Ce]=!0,ze[D]=ze[W]=ze[Fn]=ze[K]=ze[kn]=ze[ae]=ze[ie]=ze[oe]=ze[He]=ze[$e]=ze[Ct]=ze[Ot]=ze[Ze]=ze[Sn]=ze[$n]=!1;var Fe={};Fe[D]=Fe[W]=Fe[Fn]=Fe[kn]=Fe[K]=Fe[ae]=Fe[Bo]=Fe[Lo]=Fe[Vo]=Fe[$o]=Fe[Fo]=Fe[He]=Fe[$e]=Fe[Ct]=Fe[Ot]=Fe[Ze]=Fe[Sn]=Fe[ln]=Fe[R]=Fe[X]=Fe[ee]=Fe[Ce]=!0,Fe[ie]=Fe[oe]=Fe[$n]=!1;var YM={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},XM={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ZM={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},QM={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},eA=parseFloat,tA=parseInt,Om=typeof uo=="object"&&uo&&uo.Object===Object&&uo,nA=typeof self=="object"&&self&&self.Object===Object&&self,dt=Om||nA||Function("return this")(),Bc=e&&!e.nodeType&&e,ei=Bc&&!0&&n&&!n.nodeType&&n,Tm=ei&&ei.exports===Bc,Lc=Tm&&Om.process,cn=function(){try{var T=ei&&ei.require&&ei.require("util").types;return T||Lc&&Lc.binding&&Lc.binding("util")}catch{}}(),Nm=cn&&cn.isArrayBuffer,Mm=cn&&cn.isDate,Am=cn&&cn.isMap,Dm=cn&&cn.isRegExp,Rm=cn&&cn.isSet,Im=cn&&cn.isTypedArray;function Gt(T,P,A){switch(A.length){case 0:return T.call(P);case 1:return T.call(P,A[0]);case 2:return T.call(P,A[0],A[1]);case 3:return T.call(P,A[0],A[1],A[2])}return T.apply(P,A)}function rA(T,P,A,G){for(var le=-1,Me=T==null?0:T.length;++le<Me;){var tt=T[le];P(G,tt,A(tt),T)}return G}function un(T,P){for(var A=-1,G=T==null?0:T.length;++A<G&&P(T[A],A,T)!==!1;);return T}function iA(T,P){for(var A=T==null?0:T.length;A--&&P(T[A],A,T)!==!1;);return T}function Pm(T,P){for(var A=-1,G=T==null?0:T.length;++A<G;)if(!P(T[A],A,T))return!1;return!0}function Tr(T,P){for(var A=-1,G=T==null?0:T.length,le=0,Me=[];++A<G;){var tt=T[A];P(tt,A,T)&&(Me[le++]=tt)}return Me}function oa(T,P){var A=T==null?0:T.length;return!!A&&Ui(T,P,0)>-1}function Vc(T,P,A){for(var G=-1,le=T==null?0:T.length;++G<le;)if(A(P,T[G]))return!0;return!1}function We(T,P){for(var A=-1,G=T==null?0:T.length,le=Array(G);++A<G;)le[A]=P(T[A],A,T);return le}function Nr(T,P){for(var A=-1,G=P.length,le=T.length;++A<G;)T[le+A]=P[A];return T}function $c(T,P,A,G){var le=-1,Me=T==null?0:T.length;for(G&&Me&&(A=T[++le]);++le<Me;)A=P(A,T[le],le,T);return A}function oA(T,P,A,G){var le=T==null?0:T.length;for(G&&le&&(A=T[--le]);le--;)A=P(A,T[le],le,T);return A}function Fc(T,P){for(var A=-1,G=T==null?0:T.length;++A<G;)if(P(T[A],A,T))return!0;return!1}var sA=zc("length");function aA(T){return T.split("")}function lA(T){return T.match(gM)||[]}function Bm(T,P,A){var G;return A(T,function(le,Me,tt){if(P(le,Me,tt))return G=Me,!1}),G}function sa(T,P,A,G){for(var le=T.length,Me=A+(G?1:-1);G?Me--:++Me<le;)if(P(T[Me],Me,T))return Me;return-1}function Ui(T,P,A){return P===P?wA(T,P,A):sa(T,Lm,A)}function cA(T,P,A,G){for(var le=A-1,Me=T.length;++le<Me;)if(G(T[le],P))return le;return-1}function Lm(T){return T!==T}function Vm(T,P){var A=T==null?0:T.length;return A?Wc(T,P)/A:st}function zc(T){return function(P){return P==null?t:P[T]}}function Hc(T){return function(P){return T==null?t:T[P]}}function $m(T,P,A,G,le){return le(T,function(Me,tt,Ve){A=G?(G=!1,Me):P(A,Me,tt,Ve)}),A}function uA(T,P){var A=T.length;for(T.sort(P);A--;)T[A]=T[A].value;return T}function Wc(T,P){for(var A,G=-1,le=T.length;++G<le;){var Me=P(T[G]);Me!==t&&(A=A===t?Me:A+Me)}return A}function jc(T,P){for(var A=-1,G=Array(T);++A<T;)G[A]=P(A);return G}function fA(T,P){return We(P,function(A){return[A,T[A]]})}function Fm(T){return T&&T.slice(0,jm(T)+1).replace(Mc,"")}function Yt(T){return function(P){return T(P)}}function Uc(T,P){return We(P,function(A){return T[A]})}function jo(T,P){return T.has(P)}function zm(T,P){for(var A=-1,G=T.length;++A<G&&Ui(P,T[A],0)>-1;);return A}function Hm(T,P){for(var A=T.length;A--&&Ui(P,T[A],0)>-1;);return A}function dA(T,P){for(var A=T.length,G=0;A--;)T[A]===P&&++G;return G}var pA=Hc(YM),hA=Hc(XM);function mA(T){return"\\"+QM[T]}function gA(T,P){return T==null?t:T[P]}function qi(T){return qM.test(T)}function yA(T){return KM.test(T)}function bA(T){for(var P,A=[];!(P=T.next()).done;)A.push(P.value);return A}function qc(T){var P=-1,A=Array(T.size);return T.forEach(function(G,le){A[++P]=[le,G]}),A}function Wm(T,P){return function(A){return T(P(A))}}function Mr(T,P){for(var A=-1,G=T.length,le=0,Me=[];++A<G;){var tt=T[A];(tt===P||tt===p)&&(T[A]=p,Me[le++]=A)}return Me}function aa(T){var P=-1,A=Array(T.size);return T.forEach(function(G){A[++P]=G}),A}function vA(T){var P=-1,A=Array(T.size);return T.forEach(function(G){A[++P]=[G,G]}),A}function wA(T,P,A){for(var G=A-1,le=T.length;++G<le;)if(T[G]===P)return G;return-1}function xA(T,P,A){for(var G=A+1;G--;)if(T[G]===P)return G;return G}function Ki(T){return qi(T)?SA(T):sA(T)}function _n(T){return qi(T)?kA(T):aA(T)}function jm(T){for(var P=T.length;P--&&dM.test(T.charAt(P)););return P}var EA=Hc(ZM);function SA(T){for(var P=Pc.lastIndex=0;Pc.test(T);)++P;return P}function kA(T){return T.match(Pc)||[]}function _A(T){return T.match(UM)||[]}var CA=function T(P){P=P==null?dt:Ji.defaults(dt.Object(),P,Ji.pick(dt,JM));var A=P.Array,G=P.Date,le=P.Error,Me=P.Function,tt=P.Math,Ve=P.Object,Kc=P.RegExp,OA=P.String,fn=P.TypeError,la=A.prototype,TA=Me.prototype,Gi=Ve.prototype,ca=P["__core-js_shared__"],ua=TA.toString,Ie=Gi.hasOwnProperty,NA=0,Um=function(){var o=/[^.]+$/.exec(ca&&ca.keys&&ca.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),fa=Gi.toString,MA=ua.call(Ve),AA=dt._,DA=Kc("^"+ua.call(Ie).replace(Nc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),da=Tm?P.Buffer:t,Ar=P.Symbol,pa=P.Uint8Array,qm=da?da.allocUnsafe:t,ha=Wm(Ve.getPrototypeOf,Ve),Km=Ve.create,Jm=Gi.propertyIsEnumerable,ma=la.splice,Gm=Ar?Ar.isConcatSpreadable:t,Uo=Ar?Ar.iterator:t,ti=Ar?Ar.toStringTag:t,ga=function(){try{var o=si(Ve,"defineProperty");return o({},"",{}),o}catch{}}(),RA=P.clearTimeout!==dt.clearTimeout&&P.clearTimeout,IA=G&&G.now!==dt.Date.now&&G.now,PA=P.setTimeout!==dt.setTimeout&&P.setTimeout,ya=tt.ceil,ba=tt.floor,Jc=Ve.getOwnPropertySymbols,BA=da?da.isBuffer:t,Ym=P.isFinite,LA=la.join,VA=Wm(Ve.keys,Ve),nt=tt.max,bt=tt.min,$A=G.now,FA=P.parseInt,Xm=tt.random,zA=la.reverse,Gc=si(P,"DataView"),qo=si(P,"Map"),Yc=si(P,"Promise"),Yi=si(P,"Set"),Ko=si(P,"WeakMap"),Jo=si(Ve,"create"),va=Ko&&new Ko,Xi={},HA=ai(Gc),WA=ai(qo),jA=ai(Yc),UA=ai(Yi),qA=ai(Ko),wa=Ar?Ar.prototype:t,Go=wa?wa.valueOf:t,Zm=wa?wa.toString:t;function w(o){if(Je(o)&&!ce(o)&&!(o instanceof we)){if(o instanceof dn)return o;if(Ie.call(o,"__wrapped__"))return Qg(o)}return new dn(o)}var Zi=function(){function o(){}return function(l){if(!Ue(l))return{};if(Km)return Km(l);o.prototype=l;var f=new o;return o.prototype=t,f}}();function xa(){}function dn(o,l){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=t}w.templateSettings={escape:Hi,evaluate:Or,interpolate:ta,variable:"",imports:{_:w}},w.prototype=xa.prototype,w.prototype.constructor=w,dn.prototype=Zi(xa.prototype),dn.prototype.constructor=dn;function we(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ke,this.__views__=[]}function KA(){var o=new we(this.__wrapped__);return o.__actions__=Ft(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=Ft(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=Ft(this.__views__),o}function JA(){if(this.__filtered__){var o=new we(this);o.__dir__=-1,o.__filtered__=!0}else o=this.clone(),o.__dir__*=-1;return o}function GA(){var o=this.__wrapped__.value(),l=this.__dir__,f=ce(o),g=l<0,v=f?o.length:0,x=aR(0,v,this.__views__),k=x.start,C=x.end,N=C-k,B=g?C:k-1,L=this.__iteratees__,$=L.length,q=0,Q=bt(N,this.__takeCount__);if(!f||!g&&v==N&&Q==N)return Eg(o,this.__actions__);var ne=[];e:for(;N--&&q<Q;){B+=l;for(var he=-1,re=o[B];++he<$;){var ve=L[he],ke=ve.iteratee,Qt=ve.type,Mt=ke(re);if(Qt==ot)re=Mt;else if(!Mt){if(Qt==Xe)continue e;break e}}ne[q++]=re}return ne}we.prototype=Zi(xa.prototype),we.prototype.constructor=we;function ni(o){var l=-1,f=o==null?0:o.length;for(this.clear();++l<f;){var g=o[l];this.set(g[0],g[1])}}function YA(){this.__data__=Jo?Jo(null):{},this.size=0}function XA(o){var l=this.has(o)&&delete this.__data__[o];return this.size-=l?1:0,l}function ZA(o){var l=this.__data__;if(Jo){var f=l[o];return f===u?t:f}return Ie.call(l,o)?l[o]:t}function QA(o){var l=this.__data__;return Jo?l[o]!==t:Ie.call(l,o)}function eD(o,l){var f=this.__data__;return this.size+=this.has(o)?0:1,f[o]=Jo&&l===t?u:l,this}ni.prototype.clear=YA,ni.prototype.delete=XA,ni.prototype.get=ZA,ni.prototype.has=QA,ni.prototype.set=eD;function Zn(o){var l=-1,f=o==null?0:o.length;for(this.clear();++l<f;){var g=o[l];this.set(g[0],g[1])}}function tD(){this.__data__=[],this.size=0}function nD(o){var l=this.__data__,f=Ea(l,o);if(f<0)return!1;var g=l.length-1;return f==g?l.pop():ma.call(l,f,1),--this.size,!0}function rD(o){var l=this.__data__,f=Ea(l,o);return f<0?t:l[f][1]}function iD(o){return Ea(this.__data__,o)>-1}function oD(o,l){var f=this.__data__,g=Ea(f,o);return g<0?(++this.size,f.push([o,l])):f[g][1]=l,this}Zn.prototype.clear=tD,Zn.prototype.delete=nD,Zn.prototype.get=rD,Zn.prototype.has=iD,Zn.prototype.set=oD;function Qn(o){var l=-1,f=o==null?0:o.length;for(this.clear();++l<f;){var g=o[l];this.set(g[0],g[1])}}function sD(){this.size=0,this.__data__={hash:new ni,map:new(qo||Zn),string:new ni}}function aD(o){var l=Ia(this,o).delete(o);return this.size-=l?1:0,l}function lD(o){return Ia(this,o).get(o)}function cD(o){return Ia(this,o).has(o)}function uD(o,l){var f=Ia(this,o),g=f.size;return f.set(o,l),this.size+=f.size==g?0:1,this}Qn.prototype.clear=sD,Qn.prototype.delete=aD,Qn.prototype.get=lD,Qn.prototype.has=cD,Qn.prototype.set=uD;function ri(o){var l=-1,f=o==null?0:o.length;for(this.__data__=new Qn;++l<f;)this.add(o[l])}function fD(o){return this.__data__.set(o,u),this}function dD(o){return this.__data__.has(o)}ri.prototype.add=ri.prototype.push=fD,ri.prototype.has=dD;function Cn(o){var l=this.__data__=new Zn(o);this.size=l.size}function pD(){this.__data__=new Zn,this.size=0}function hD(o){var l=this.__data__,f=l.delete(o);return this.size=l.size,f}function mD(o){return this.__data__.get(o)}function gD(o){return this.__data__.has(o)}function yD(o,l){var f=this.__data__;if(f instanceof Zn){var g=f.__data__;if(!qo||g.length<i-1)return g.push([o,l]),this.size=++f.size,this;f=this.__data__=new Qn(g)}return f.set(o,l),this.size=f.size,this}Cn.prototype.clear=pD,Cn.prototype.delete=hD,Cn.prototype.get=mD,Cn.prototype.has=gD,Cn.prototype.set=yD;function Qm(o,l){var f=ce(o),g=!f&&li(o),v=!f&&!g&&Br(o),x=!f&&!g&&!v&&no(o),k=f||g||v||x,C=k?jc(o.length,OA):[],N=C.length;for(var B in o)(l||Ie.call(o,B))&&!(k&&(B=="length"||v&&(B=="offset"||B=="parent")||x&&(B=="buffer"||B=="byteLength"||B=="byteOffset")||rr(B,N)))&&C.push(B);return C}function eg(o){var l=o.length;return l?o[au(0,l-1)]:t}function bD(o,l){return Pa(Ft(o),ii(l,0,o.length))}function vD(o){return Pa(Ft(o))}function Xc(o,l,f){(f!==t&&!On(o[l],f)||f===t&&!(l in o))&&er(o,l,f)}function Yo(o,l,f){var g=o[l];(!(Ie.call(o,l)&&On(g,f))||f===t&&!(l in o))&&er(o,l,f)}function Ea(o,l){for(var f=o.length;f--;)if(On(o[f][0],l))return f;return-1}function wD(o,l,f,g){return Dr(o,function(v,x,k){l(g,v,f(v),k)}),g}function tg(o,l){return o&&Hn(l,at(l),o)}function xD(o,l){return o&&Hn(l,Ht(l),o)}function er(o,l,f){l=="__proto__"&&ga?ga(o,l,{configurable:!0,enumerable:!0,value:f,writable:!0}):o[l]=f}function Zc(o,l){for(var f=-1,g=l.length,v=A(g),x=o==null;++f<g;)v[f]=x?t:Du(o,l[f]);return v}function ii(o,l,f){return o===o&&(f!==t&&(o=o<=f?o:f),l!==t&&(o=o>=l?o:l)),o}function pn(o,l,f,g,v,x){var k,C=l&m,N=l&y,B=l&b;if(f&&(k=v?f(o,g,v,x):f(o)),k!==t)return k;if(!Ue(o))return o;var L=ce(o);if(L){if(k=cR(o),!C)return Ft(o,k)}else{var $=vt(o),q=$==oe||$==Ne;if(Br(o))return _g(o,C);if($==Ct||$==D||q&&!v){if(k=N||q?{}:jg(o),!C)return N?ZD(o,xD(k,o)):XD(o,tg(k,o))}else{if(!Fe[$])return v?o:{};k=uR(o,$,C)}}x||(x=new Cn);var Q=x.get(o);if(Q)return Q;x.set(o,k),vy(o)?o.forEach(function(re){k.add(pn(re,l,f,re,o,x))}):yy(o)&&o.forEach(function(re,ve){k.set(ve,pn(re,l,f,ve,o,x))});var ne=B?N?bu:yu:N?Ht:at,he=L?t:ne(o);return un(he||o,function(re,ve){he&&(ve=re,re=o[ve]),Yo(k,ve,pn(re,l,f,ve,o,x))}),k}function ED(o){var l=at(o);return function(f){return ng(f,o,l)}}function ng(o,l,f){var g=f.length;if(o==null)return!g;for(o=Ve(o);g--;){var v=f[g],x=l[v],k=o[v];if(k===t&&!(v in o)||!x(k))return!1}return!0}function rg(o,l,f){if(typeof o!="function")throw new fn(a);return rs(function(){o.apply(t,f)},l)}function Xo(o,l,f,g){var v=-1,x=oa,k=!0,C=o.length,N=[],B=l.length;if(!C)return N;f&&(l=We(l,Yt(f))),g?(x=Vc,k=!1):l.length>=i&&(x=jo,k=!1,l=new ri(l));e:for(;++v<C;){var L=o[v],$=f==null?L:f(L);if(L=g||L!==0?L:0,k&&$===$){for(var q=B;q--;)if(l[q]===$)continue e;N.push(L)}else x(l,$,g)||N.push(L)}return N}var Dr=Mg(zn),ig=Mg(eu,!0);function SD(o,l){var f=!0;return Dr(o,function(g,v,x){return f=!!l(g,v,x),f}),f}function Sa(o,l,f){for(var g=-1,v=o.length;++g<v;){var x=o[g],k=l(x);if(k!=null&&(C===t?k===k&&!Zt(k):f(k,C)))var C=k,N=x}return N}function kD(o,l,f,g){var v=o.length;for(f=fe(f),f<0&&(f=-f>v?0:v+f),g=g===t||g>v?v:fe(g),g<0&&(g+=v),g=f>g?0:xy(g);f<g;)o[f++]=l;return o}function og(o,l){var f=[];return Dr(o,function(g,v,x){l(g,v,x)&&f.push(g)}),f}function pt(o,l,f,g,v){var x=-1,k=o.length;for(f||(f=dR),v||(v=[]);++x<k;){var C=o[x];l>0&&f(C)?l>1?pt(C,l-1,f,g,v):Nr(v,C):g||(v[v.length]=C)}return v}var Qc=Ag(),sg=Ag(!0);function zn(o,l){return o&&Qc(o,l,at)}function eu(o,l){return o&&sg(o,l,at)}function ka(o,l){return Tr(l,function(f){return ir(o[f])})}function oi(o,l){l=Ir(l,o);for(var f=0,g=l.length;o!=null&&f<g;)o=o[Wn(l[f++])];return f&&f==g?o:t}function ag(o,l,f){var g=l(o);return ce(o)?g:Nr(g,f(o))}function Tt(o){return o==null?o===t?Qr:Xr:ti&&ti in Ve(o)?sR(o):vR(o)}function tu(o,l){return o>l}function _D(o,l){return o!=null&&Ie.call(o,l)}function CD(o,l){return o!=null&&l in Ve(o)}function OD(o,l,f){return o>=bt(l,f)&&o<nt(l,f)}function nu(o,l,f){for(var g=f?Vc:oa,v=o[0].length,x=o.length,k=x,C=A(x),N=1/0,B=[];k--;){var L=o[k];k&&l&&(L=We(L,Yt(l))),N=bt(L.length,N),C[k]=!f&&(l||v>=120&&L.length>=120)?new ri(k&&L):t}L=o[0];var $=-1,q=C[0];e:for(;++$<v&&B.length<N;){var Q=L[$],ne=l?l(Q):Q;if(Q=f||Q!==0?Q:0,!(q?jo(q,ne):g(B,ne,f))){for(k=x;--k;){var he=C[k];if(!(he?jo(he,ne):g(o[k],ne,f)))continue e}q&&q.push(ne),B.push(Q)}}return B}function TD(o,l,f,g){return zn(o,function(v,x,k){l(g,f(v),x,k)}),g}function Zo(o,l,f){l=Ir(l,o),o=Jg(o,l);var g=o==null?o:o[Wn(mn(l))];return g==null?t:Gt(g,o,f)}function lg(o){return Je(o)&&Tt(o)==D}function ND(o){return Je(o)&&Tt(o)==Fn}function MD(o){return Je(o)&&Tt(o)==ae}function Qo(o,l,f,g,v){return o===l?!0:o==null||l==null||!Je(o)&&!Je(l)?o!==o&&l!==l:AD(o,l,f,g,Qo,v)}function AD(o,l,f,g,v,x){var k=ce(o),C=ce(l),N=k?W:vt(o),B=C?W:vt(l);N=N==D?Ct:N,B=B==D?Ct:B;var L=N==Ct,$=B==Ct,q=N==B;if(q&&Br(o)){if(!Br(l))return!1;k=!0,L=!1}if(q&&!L)return x||(x=new Cn),k||no(o)?zg(o,l,f,g,v,x):iR(o,l,N,f,g,v,x);if(!(f&E)){var Q=L&&Ie.call(o,"__wrapped__"),ne=$&&Ie.call(l,"__wrapped__");if(Q||ne){var he=Q?o.value():o,re=ne?l.value():l;return x||(x=new Cn),v(he,re,f,g,x)}}return q?(x||(x=new Cn),oR(o,l,f,g,v,x)):!1}function DD(o){return Je(o)&&vt(o)==He}function ru(o,l,f,g){var v=f.length,x=v,k=!g;if(o==null)return!x;for(o=Ve(o);v--;){var C=f[v];if(k&&C[2]?C[1]!==o[C[0]]:!(C[0]in o))return!1}for(;++v<x;){C=f[v];var N=C[0],B=o[N],L=C[1];if(k&&C[2]){if(B===t&&!(N in o))return!1}else{var $=new Cn;if(g)var q=g(B,L,N,o,l,$);if(!(q===t?Qo(L,B,E|S,g,$):q))return!1}}return!0}function cg(o){if(!Ue(o)||hR(o))return!1;var l=ir(o)?DA:EM;return l.test(ai(o))}function RD(o){return Je(o)&&Tt(o)==Ot}function ID(o){return Je(o)&&vt(o)==Ze}function PD(o){return Je(o)&&za(o.length)&&!!ze[Tt(o)]}function ug(o){return typeof o=="function"?o:o==null?Wt:typeof o=="object"?ce(o)?pg(o[0],o[1]):dg(o):Dy(o)}function iu(o){if(!ns(o))return VA(o);var l=[];for(var f in Ve(o))Ie.call(o,f)&&f!="constructor"&&l.push(f);return l}function BD(o){if(!Ue(o))return bR(o);var l=ns(o),f=[];for(var g in o)g=="constructor"&&(l||!Ie.call(o,g))||f.push(g);return f}function ou(o,l){return o<l}function fg(o,l){var f=-1,g=zt(o)?A(o.length):[];return Dr(o,function(v,x,k){g[++f]=l(v,x,k)}),g}function dg(o){var l=wu(o);return l.length==1&&l[0][2]?qg(l[0][0],l[0][1]):function(f){return f===o||ru(f,o,l)}}function pg(o,l){return Eu(o)&&Ug(l)?qg(Wn(o),l):function(f){var g=Du(f,o);return g===t&&g===l?Ru(f,o):Qo(l,g,E|S)}}function _a(o,l,f,g,v){o!==l&&Qc(l,function(x,k){if(v||(v=new Cn),Ue(x))LD(o,l,k,f,_a,g,v);else{var C=g?g(ku(o,k),x,k+"",o,l,v):t;C===t&&(C=x),Xc(o,k,C)}},Ht)}function LD(o,l,f,g,v,x,k){var C=ku(o,f),N=ku(l,f),B=k.get(N);if(B){Xc(o,f,B);return}var L=x?x(C,N,f+"",o,l,k):t,$=L===t;if($){var q=ce(N),Q=!q&&Br(N),ne=!q&&!Q&&no(N);L=N,q||Q||ne?ce(C)?L=C:Ge(C)?L=Ft(C):Q?($=!1,L=_g(N,!0)):ne?($=!1,L=Cg(N,!0)):L=[]:is(N)||li(N)?(L=C,li(C)?L=Ey(C):(!Ue(C)||ir(C))&&(L=jg(N))):$=!1}$&&(k.set(N,L),v(L,N,g,x,k),k.delete(N)),Xc(o,f,L)}function hg(o,l){var f=o.length;if(!!f)return l+=l<0?f:0,rr(l,f)?o[l]:t}function mg(o,l,f){l.length?l=We(l,function(x){return ce(x)?function(k){return oi(k,x.length===1?x[0]:x)}:x}):l=[Wt];var g=-1;l=We(l,Yt(te()));var v=fg(o,function(x,k,C){var N=We(l,function(B){return B(x)});return{criteria:N,index:++g,value:x}});return uA(v,function(x,k){return YD(x,k,f)})}function VD(o,l){return gg(o,l,function(f,g){return Ru(o,g)})}function gg(o,l,f){for(var g=-1,v=l.length,x={};++g<v;){var k=l[g],C=oi(o,k);f(C,k)&&es(x,Ir(k,o),C)}return x}function $D(o){return function(l){return oi(l,o)}}function su(o,l,f,g){var v=g?cA:Ui,x=-1,k=l.length,C=o;for(o===l&&(l=Ft(l)),f&&(C=We(o,Yt(f)));++x<k;)for(var N=0,B=l[x],L=f?f(B):B;(N=v(C,L,N,g))>-1;)C!==o&&ma.call(C,N,1),ma.call(o,N,1);return o}function yg(o,l){for(var f=o?l.length:0,g=f-1;f--;){var v=l[f];if(f==g||v!==x){var x=v;rr(v)?ma.call(o,v,1):uu(o,v)}}return o}function au(o,l){return o+ba(Xm()*(l-o+1))}function FD(o,l,f,g){for(var v=-1,x=nt(ya((l-o)/(f||1)),0),k=A(x);x--;)k[g?x:++v]=o,o+=f;return k}function lu(o,l){var f="";if(!o||l<1||l>Be)return f;do l%2&&(f+=o),l=ba(l/2),l&&(o+=o);while(l);return f}function ge(o,l){return _u(Kg(o,l,Wt),o+"")}function zD(o){return eg(ro(o))}function HD(o,l){var f=ro(o);return Pa(f,ii(l,0,f.length))}function es(o,l,f,g){if(!Ue(o))return o;l=Ir(l,o);for(var v=-1,x=l.length,k=x-1,C=o;C!=null&&++v<x;){var N=Wn(l[v]),B=f;if(N==="__proto__"||N==="constructor"||N==="prototype")return o;if(v!=k){var L=C[N];B=g?g(L,N,C):t,B===t&&(B=Ue(L)?L:rr(l[v+1])?[]:{})}Yo(C,N,B),C=C[N]}return o}var bg=va?function(o,l){return va.set(o,l),o}:Wt,WD=ga?function(o,l){return ga(o,"toString",{configurable:!0,enumerable:!1,value:Pu(l),writable:!0})}:Wt;function jD(o){return Pa(ro(o))}function hn(o,l,f){var g=-1,v=o.length;l<0&&(l=-l>v?0:v+l),f=f>v?v:f,f<0&&(f+=v),v=l>f?0:f-l>>>0,l>>>=0;for(var x=A(v);++g<v;)x[g]=o[g+l];return x}function UD(o,l){var f;return Dr(o,function(g,v,x){return f=l(g,v,x),!f}),!!f}function Ca(o,l,f){var g=0,v=o==null?g:o.length;if(typeof l=="number"&&l===l&&v<=Jt){for(;g<v;){var x=g+v>>>1,k=o[x];k!==null&&!Zt(k)&&(f?k<=l:k<l)?g=x+1:v=x}return v}return cu(o,l,Wt,f)}function cu(o,l,f,g){var v=0,x=o==null?0:o.length;if(x===0)return 0;l=f(l);for(var k=l!==l,C=l===null,N=Zt(l),B=l===t;v<x;){var L=ba((v+x)/2),$=f(o[L]),q=$!==t,Q=$===null,ne=$===$,he=Zt($);if(k)var re=g||ne;else B?re=ne&&(g||q):C?re=ne&&q&&(g||!Q):N?re=ne&&q&&!Q&&(g||!he):Q||he?re=!1:re=g?$<=l:$<l;re?v=L+1:x=L}return bt(x,yt)}function vg(o,l){for(var f=-1,g=o.length,v=0,x=[];++f<g;){var k=o[f],C=l?l(k):k;if(!f||!On(C,N)){var N=C;x[v++]=k===0?0:k}}return x}function wg(o){return typeof o=="number"?o:Zt(o)?st:+o}function Xt(o){if(typeof o=="string")return o;if(ce(o))return We(o,Xt)+"";if(Zt(o))return Zm?Zm.call(o):"";var l=o+"";return l=="0"&&1/o==-Pe?"-0":l}function Rr(o,l,f){var g=-1,v=oa,x=o.length,k=!0,C=[],N=C;if(f)k=!1,v=Vc;else if(x>=i){var B=l?null:nR(o);if(B)return aa(B);k=!1,v=jo,N=new ri}else N=l?[]:C;e:for(;++g<x;){var L=o[g],$=l?l(L):L;if(L=f||L!==0?L:0,k&&$===$){for(var q=N.length;q--;)if(N[q]===$)continue e;l&&N.push($),C.push(L)}else v(N,$,f)||(N!==C&&N.push($),C.push(L))}return C}function uu(o,l){return l=Ir(l,o),o=Jg(o,l),o==null||delete o[Wn(mn(l))]}function xg(o,l,f,g){return es(o,l,f(oi(o,l)),g)}function Oa(o,l,f,g){for(var v=o.length,x=g?v:-1;(g?x--:++x<v)&&l(o[x],x,o););return f?hn(o,g?0:x,g?x+1:v):hn(o,g?x+1:0,g?v:x)}function Eg(o,l){var f=o;return f instanceof we&&(f=f.value()),$c(l,function(g,v){return v.func.apply(v.thisArg,Nr([g],v.args))},f)}function fu(o,l,f){var g=o.length;if(g<2)return g?Rr(o[0]):[];for(var v=-1,x=A(g);++v<g;)for(var k=o[v],C=-1;++C<g;)C!=v&&(x[v]=Xo(x[v]||k,o[C],l,f));return Rr(pt(x,1),l,f)}function Sg(o,l,f){for(var g=-1,v=o.length,x=l.length,k={};++g<v;){var C=g<x?l[g]:t;f(k,o[g],C)}return k}function du(o){return Ge(o)?o:[]}function pu(o){return typeof o=="function"?o:Wt}function Ir(o,l){return ce(o)?o:Eu(o,l)?[o]:Zg(Re(o))}var qD=ge;function Pr(o,l,f){var g=o.length;return f=f===t?g:f,!l&&f>=g?o:hn(o,l,f)}var kg=RA||function(o){return dt.clearTimeout(o)};function _g(o,l){if(l)return o.slice();var f=o.length,g=qm?qm(f):new o.constructor(f);return o.copy(g),g}function hu(o){var l=new o.constructor(o.byteLength);return new pa(l).set(new pa(o)),l}function KD(o,l){var f=l?hu(o.buffer):o.buffer;return new o.constructor(f,o.byteOffset,o.byteLength)}function JD(o){var l=new o.constructor(o.source,lm.exec(o));return l.lastIndex=o.lastIndex,l}function GD(o){return Go?Ve(Go.call(o)):{}}function Cg(o,l){var f=l?hu(o.buffer):o.buffer;return new o.constructor(f,o.byteOffset,o.length)}function Og(o,l){if(o!==l){var f=o!==t,g=o===null,v=o===o,x=Zt(o),k=l!==t,C=l===null,N=l===l,B=Zt(l);if(!C&&!B&&!x&&o>l||x&&k&&N&&!C&&!B||g&&k&&N||!f&&N||!v)return 1;if(!g&&!x&&!B&&o<l||B&&f&&v&&!g&&!x||C&&f&&v||!k&&v||!N)return-1}return 0}function YD(o,l,f){for(var g=-1,v=o.criteria,x=l.criteria,k=v.length,C=f.length;++g<k;){var N=Og(v[g],x[g]);if(N){if(g>=C)return N;var B=f[g];return N*(B=="desc"?-1:1)}}return o.index-l.index}function Tg(o,l,f,g){for(var v=-1,x=o.length,k=f.length,C=-1,N=l.length,B=nt(x-k,0),L=A(N+B),$=!g;++C<N;)L[C]=l[C];for(;++v<k;)($||v<x)&&(L[f[v]]=o[v]);for(;B--;)L[C++]=o[v++];return L}function Ng(o,l,f,g){for(var v=-1,x=o.length,k=-1,C=f.length,N=-1,B=l.length,L=nt(x-C,0),$=A(L+B),q=!g;++v<L;)$[v]=o[v];for(var Q=v;++N<B;)$[Q+N]=l[N];for(;++k<C;)(q||v<x)&&($[Q+f[k]]=o[v++]);return $}function Ft(o,l){var f=-1,g=o.length;for(l||(l=A(g));++f<g;)l[f]=o[f];return l}function Hn(o,l,f,g){var v=!f;f||(f={});for(var x=-1,k=l.length;++x<k;){var C=l[x],N=g?g(f[C],o[C],C,f,o):t;N===t&&(N=o[C]),v?er(f,C,N):Yo(f,C,N)}return f}function XD(o,l){return Hn(o,xu(o),l)}function ZD(o,l){return Hn(o,Hg(o),l)}function Ta(o,l){return function(f,g){var v=ce(f)?rA:wD,x=l?l():{};return v(f,o,te(g,2),x)}}function Qi(o){return ge(function(l,f){var g=-1,v=f.length,x=v>1?f[v-1]:t,k=v>2?f[2]:t;for(x=o.length>3&&typeof x=="function"?(v--,x):t,k&&Nt(f[0],f[1],k)&&(x=v<3?t:x,v=1),l=Ve(l);++g<v;){var C=f[g];C&&o(l,C,g,x)}return l})}function Mg(o,l){return function(f,g){if(f==null)return f;if(!zt(f))return o(f,g);for(var v=f.length,x=l?v:-1,k=Ve(f);(l?x--:++x<v)&&g(k[x],x,k)!==!1;);return f}}function Ag(o){return function(l,f,g){for(var v=-1,x=Ve(l),k=g(l),C=k.length;C--;){var N=k[o?C:++v];if(f(x[N],N,x)===!1)break}return l}}function QD(o,l,f){var g=l&O,v=ts(o);function x(){var k=this&&this!==dt&&this instanceof x?v:o;return k.apply(g?f:this,arguments)}return x}function Dg(o){return function(l){l=Re(l);var f=qi(l)?_n(l):t,g=f?f[0]:l.charAt(0),v=f?Pr(f,1).join(""):l.slice(1);return g[o]()+v}}function eo(o){return function(l){return $c(My(Ny(l).replace(WM,"")),o,"")}}function ts(o){return function(){var l=arguments;switch(l.length){case 0:return new o;case 1:return new o(l[0]);case 2:return new o(l[0],l[1]);case 3:return new o(l[0],l[1],l[2]);case 4:return new o(l[0],l[1],l[2],l[3]);case 5:return new o(l[0],l[1],l[2],l[3],l[4]);case 6:return new o(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new o(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var f=Zi(o.prototype),g=o.apply(f,l);return Ue(g)?g:f}}function eR(o,l,f){var g=ts(o);function v(){for(var x=arguments.length,k=A(x),C=x,N=to(v);C--;)k[C]=arguments[C];var B=x<3&&k[0]!==N&&k[x-1]!==N?[]:Mr(k,N);if(x-=B.length,x<f)return Lg(o,l,Na,v.placeholder,t,k,B,t,t,f-x);var L=this&&this!==dt&&this instanceof v?g:o;return Gt(L,this,k)}return v}function Rg(o){return function(l,f,g){var v=Ve(l);if(!zt(l)){var x=te(f,3);l=at(l),f=function(C){return x(v[C],C,v)}}var k=o(l,f,g);return k>-1?v[x?l[k]:k]:t}}function Ig(o){return nr(function(l){var f=l.length,g=f,v=dn.prototype.thru;for(o&&l.reverse();g--;){var x=l[g];if(typeof x!="function")throw new fn(a);if(v&&!k&&Ra(x)=="wrapper")var k=new dn([],!0)}for(g=k?g:f;++g<f;){x=l[g];var C=Ra(x),N=C=="wrapper"?vu(x):t;N&&Su(N[0])&&N[1]==(Y|z|H|U)&&!N[4].length&&N[9]==1?k=k[Ra(N[0])].apply(k,N[3]):k=x.length==1&&Su(x)?k[C]():k.thru(x)}return function(){var B=arguments,L=B[0];if(k&&B.length==1&&ce(L))return k.plant(L).value();for(var $=0,q=f?l[$].apply(this,B):L;++$<f;)q=l[$].call(this,q);return q}})}function Na(o,l,f,g,v,x,k,C,N,B){var L=l&Y,$=l&O,q=l&M,Q=l&(z|_),ne=l&be,he=q?t:ts(o);function re(){for(var ve=arguments.length,ke=A(ve),Qt=ve;Qt--;)ke[Qt]=arguments[Qt];if(Q)var Mt=to(re),en=dA(ke,Mt);if(g&&(ke=Tg(ke,g,v,Q)),x&&(ke=Ng(ke,x,k,Q)),ve-=en,Q&&ve<B){var Ye=Mr(ke,Mt);return Lg(o,l,Na,re.placeholder,f,ke,Ye,C,N,B-ve)}var Tn=$?f:this,sr=q?Tn[o]:o;return ve=ke.length,C?ke=wR(ke,C):ne&&ve>1&&ke.reverse(),L&&N<ve&&(ke.length=N),this&&this!==dt&&this instanceof re&&(sr=he||ts(sr)),sr.apply(Tn,ke)}return re}function Pg(o,l){return function(f,g){return TD(f,o,l(g),{})}}function Ma(o,l){return function(f,g){var v;if(f===t&&g===t)return l;if(f!==t&&(v=f),g!==t){if(v===t)return g;typeof f=="string"||typeof g=="string"?(f=Xt(f),g=Xt(g)):(f=wg(f),g=wg(g)),v=o(f,g)}return v}}function mu(o){return nr(function(l){return l=We(l,Yt(te())),ge(function(f){var g=this;return o(l,function(v){return Gt(v,g,f)})})})}function Aa(o,l){l=l===t?" ":Xt(l);var f=l.length;if(f<2)return f?lu(l,o):l;var g=lu(l,ya(o/Ki(l)));return qi(l)?Pr(_n(g),0,o).join(""):g.slice(0,o)}function tR(o,l,f,g){var v=l&O,x=ts(o);function k(){for(var C=-1,N=arguments.length,B=-1,L=g.length,$=A(L+N),q=this&&this!==dt&&this instanceof k?x:o;++B<L;)$[B]=g[B];for(;N--;)$[B++]=arguments[++C];return Gt(q,v?f:this,$)}return k}function Bg(o){return function(l,f,g){return g&&typeof g!="number"&&Nt(l,f,g)&&(f=g=t),l=or(l),f===t?(f=l,l=0):f=or(f),g=g===t?l<f?1:-1:or(g),FD(l,f,g,o)}}function Da(o){return function(l,f){return typeof l=="string"&&typeof f=="string"||(l=gn(l),f=gn(f)),o(l,f)}}function Lg(o,l,f,g,v,x,k,C,N,B){var L=l&z,$=L?k:t,q=L?t:k,Q=L?x:t,ne=L?t:x;l|=L?H:V,l&=~(L?V:H),l&I||(l&=~(O|M));var he=[o,l,v,Q,$,ne,q,C,N,B],re=f.apply(t,he);return Su(o)&&Gg(re,he),re.placeholder=g,Yg(re,o,l)}function gu(o){var l=tt[o];return function(f,g){if(f=gn(f),g=g==null?0:bt(fe(g),292),g&&Ym(f)){var v=(Re(f)+"e").split("e"),x=l(v[0]+"e"+(+v[1]+g));return v=(Re(x)+"e").split("e"),+(v[0]+"e"+(+v[1]-g))}return l(f)}}var nR=Yi&&1/aa(new Yi([,-0]))[1]==Pe?function(o){return new Yi(o)}:Vu;function Vg(o){return function(l){var f=vt(l);return f==He?qc(l):f==Ze?vA(l):fA(l,o(l))}}function tr(o,l,f,g,v,x,k,C){var N=l&M;if(!N&&typeof o!="function")throw new fn(a);var B=g?g.length:0;if(B||(l&=~(H|V),g=v=t),k=k===t?k:nt(fe(k),0),C=C===t?C:fe(C),B-=v?v.length:0,l&V){var L=g,$=v;g=v=t}var q=N?t:vu(o),Q=[o,l,f,g,v,L,$,x,k,C];if(q&&yR(Q,q),o=Q[0],l=Q[1],f=Q[2],g=Q[3],v=Q[4],C=Q[9]=Q[9]===t?N?0:o.length:nt(Q[9]-B,0),!C&&l&(z|_)&&(l&=~(z|_)),!l||l==O)var ne=QD(o,l,f);else l==z||l==_?ne=eR(o,l,C):(l==H||l==(O|H))&&!v.length?ne=tR(o,l,f,g):ne=Na.apply(t,Q);var he=q?bg:Gg;return Yg(he(ne,Q),o,l)}function $g(o,l,f,g){return o===t||On(o,Gi[f])&&!Ie.call(g,f)?l:o}function Fg(o,l,f,g,v,x){return Ue(o)&&Ue(l)&&(x.set(l,o),_a(o,l,t,Fg,x),x.delete(l)),o}function rR(o){return is(o)?t:o}function zg(o,l,f,g,v,x){var k=f&E,C=o.length,N=l.length;if(C!=N&&!(k&&N>C))return!1;var B=x.get(o),L=x.get(l);if(B&&L)return B==l&&L==o;var $=-1,q=!0,Q=f&S?new ri:t;for(x.set(o,l),x.set(l,o);++$<C;){var ne=o[$],he=l[$];if(g)var re=k?g(he,ne,$,l,o,x):g(ne,he,$,o,l,x);if(re!==t){if(re)continue;q=!1;break}if(Q){if(!Fc(l,function(ve,ke){if(!jo(Q,ke)&&(ne===ve||v(ne,ve,f,g,x)))return Q.push(ke)})){q=!1;break}}else if(!(ne===he||v(ne,he,f,g,x))){q=!1;break}}return x.delete(o),x.delete(l),q}function iR(o,l,f,g,v,x,k){switch(f){case kn:if(o.byteLength!=l.byteLength||o.byteOffset!=l.byteOffset)return!1;o=o.buffer,l=l.buffer;case Fn:return!(o.byteLength!=l.byteLength||!x(new pa(o),new pa(l)));case K:case ae:case $e:return On(+o,+l);case ie:return o.name==l.name&&o.message==l.message;case Ot:case Sn:return o==l+"";case He:var C=qc;case Ze:var N=g&E;if(C||(C=aa),o.size!=l.size&&!N)return!1;var B=k.get(o);if(B)return B==l;g|=S,k.set(o,l);var L=zg(C(o),C(l),g,v,x,k);return k.delete(o),L;case ln:if(Go)return Go.call(o)==Go.call(l)}return!1}function oR(o,l,f,g,v,x){var k=f&E,C=yu(o),N=C.length,B=yu(l),L=B.length;if(N!=L&&!k)return!1;for(var $=N;$--;){var q=C[$];if(!(k?q in l:Ie.call(l,q)))return!1}var Q=x.get(o),ne=x.get(l);if(Q&&ne)return Q==l&&ne==o;var he=!0;x.set(o,l),x.set(l,o);for(var re=k;++$<N;){q=C[$];var ve=o[q],ke=l[q];if(g)var Qt=k?g(ke,ve,q,l,o,x):g(ve,ke,q,o,l,x);if(!(Qt===t?ve===ke||v(ve,ke,f,g,x):Qt)){he=!1;break}re||(re=q=="constructor")}if(he&&!re){var Mt=o.constructor,en=l.constructor;Mt!=en&&"constructor"in o&&"constructor"in l&&!(typeof Mt=="function"&&Mt instanceof Mt&&typeof en=="function"&&en instanceof en)&&(he=!1)}return x.delete(o),x.delete(l),he}function nr(o){return _u(Kg(o,t,ny),o+"")}function yu(o){return ag(o,at,xu)}function bu(o){return ag(o,Ht,Hg)}var vu=va?function(o){return va.get(o)}:Vu;function Ra(o){for(var l=o.name+"",f=Xi[l],g=Ie.call(Xi,l)?f.length:0;g--;){var v=f[g],x=v.func;if(x==null||x==o)return v.name}return l}function to(o){var l=Ie.call(w,"placeholder")?w:o;return l.placeholder}function te(){var o=w.iteratee||Bu;return o=o===Bu?ug:o,arguments.length?o(arguments[0],arguments[1]):o}function Ia(o,l){var f=o.__data__;return pR(l)?f[typeof l=="string"?"string":"hash"]:f.map}function wu(o){for(var l=at(o),f=l.length;f--;){var g=l[f],v=o[g];l[f]=[g,v,Ug(v)]}return l}function si(o,l){var f=gA(o,l);return cg(f)?f:t}function sR(o){var l=Ie.call(o,ti),f=o[ti];try{o[ti]=t;var g=!0}catch{}var v=fa.call(o);return g&&(l?o[ti]=f:delete o[ti]),v}var xu=Jc?function(o){return o==null?[]:(o=Ve(o),Tr(Jc(o),function(l){return Jm.call(o,l)}))}:$u,Hg=Jc?function(o){for(var l=[];o;)Nr(l,xu(o)),o=ha(o);return l}:$u,vt=Tt;(Gc&&vt(new Gc(new ArrayBuffer(1)))!=kn||qo&&vt(new qo)!=He||Yc&&vt(Yc.resolve())!=Zr||Yi&&vt(new Yi)!=Ze||Ko&&vt(new Ko)!=$n)&&(vt=function(o){var l=Tt(o),f=l==Ct?o.constructor:t,g=f?ai(f):"";if(g)switch(g){case HA:return kn;case WA:return He;case jA:return Zr;case UA:return Ze;case qA:return $n}return l});function aR(o,l,f){for(var g=-1,v=f.length;++g<v;){var x=f[g],k=x.size;switch(x.type){case"drop":o+=k;break;case"dropRight":l-=k;break;case"take":l=bt(l,o+k);break;case"takeRight":o=nt(o,l-k);break}}return{start:o,end:l}}function lR(o){var l=o.match(hM);return l?l[1].split(mM):[]}function Wg(o,l,f){l=Ir(l,o);for(var g=-1,v=l.length,x=!1;++g<v;){var k=Wn(l[g]);if(!(x=o!=null&&f(o,k)))break;o=o[k]}return x||++g!=v?x:(v=o==null?0:o.length,!!v&&za(v)&&rr(k,v)&&(ce(o)||li(o)))}function cR(o){var l=o.length,f=new o.constructor(l);return l&&typeof o[0]=="string"&&Ie.call(o,"index")&&(f.index=o.index,f.input=o.input),f}function jg(o){return typeof o.constructor=="function"&&!ns(o)?Zi(ha(o)):{}}function uR(o,l,f){var g=o.constructor;switch(l){case Fn:return hu(o);case K:case ae:return new g(+o);case kn:return KD(o,f);case Bo:case Lo:case Vo:case $o:case Fo:case R:case X:case ee:case Ce:return Cg(o,f);case He:return new g;case $e:case Sn:return new g(o);case Ot:return JD(o);case Ze:return new g;case ln:return GD(o)}}function fR(o,l){var f=l.length;if(!f)return o;var g=f-1;return l[g]=(f>1?"& ":"")+l[g],l=l.join(f>2?", ":" "),o.replace(pM,`{
/* [wrapped with `+l+`] */
`)}function dR(o){return ce(o)||li(o)||!!(Gm&&o&&o[Gm])}function rr(o,l){var f=typeof o;return l=l==null?Be:l,!!l&&(f=="number"||f!="symbol"&&kM.test(o))&&o>-1&&o%1==0&&o<l}function Nt(o,l,f){if(!Ue(f))return!1;var g=typeof l;return(g=="number"?zt(f)&&rr(l,f.length):g=="string"&&l in f)?On(f[l],o):!1}function Eu(o,l){if(ce(o))return!1;var f=typeof o;return f=="number"||f=="symbol"||f=="boolean"||o==null||Zt(o)?!0:Wi.test(o)||!Wo.test(o)||l!=null&&o in Ve(l)}function pR(o){var l=typeof o;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?o!=="__proto__":o===null}function Su(o){var l=Ra(o),f=w[l];if(typeof f!="function"||!(l in we.prototype))return!1;if(o===f)return!0;var g=vu(f);return!!g&&o===g[0]}function hR(o){return!!Um&&Um in o}var mR=ca?ir:Fu;function ns(o){var l=o&&o.constructor,f=typeof l=="function"&&l.prototype||Gi;return o===f}function Ug(o){return o===o&&!Ue(o)}function qg(o,l){return function(f){return f==null?!1:f[o]===l&&(l!==t||o in Ve(f))}}function gR(o){var l=$a(o,function(g){return f.size===h&&f.clear(),g}),f=l.cache;return l}function yR(o,l){var f=o[1],g=l[1],v=f|g,x=v<(O|M|Y),k=g==Y&&f==z||g==Y&&f==U&&o[7].length<=l[8]||g==(Y|U)&&l[7].length<=l[8]&&f==z;if(!(x||k))return o;g&O&&(o[2]=l[2],v|=f&O?0:I);var C=l[3];if(C){var N=o[3];o[3]=N?Tg(N,C,l[4]):C,o[4]=N?Mr(o[3],p):l[4]}return C=l[5],C&&(N=o[5],o[5]=N?Ng(N,C,l[6]):C,o[6]=N?Mr(o[5],p):l[6]),C=l[7],C&&(o[7]=C),g&Y&&(o[8]=o[8]==null?l[8]:bt(o[8],l[8])),o[9]==null&&(o[9]=l[9]),o[0]=l[0],o[1]=v,o}function bR(o){var l=[];if(o!=null)for(var f in Ve(o))l.push(f);return l}function vR(o){return fa.call(o)}function Kg(o,l,f){return l=nt(l===t?o.length-1:l,0),function(){for(var g=arguments,v=-1,x=nt(g.length-l,0),k=A(x);++v<x;)k[v]=g[l+v];v=-1;for(var C=A(l+1);++v<l;)C[v]=g[v];return C[l]=f(k),Gt(o,this,C)}}function Jg(o,l){return l.length<2?o:oi(o,hn(l,0,-1))}function wR(o,l){for(var f=o.length,g=bt(l.length,f),v=Ft(o);g--;){var x=l[g];o[g]=rr(x,f)?v[x]:t}return o}function ku(o,l){if(!(l==="constructor"&&typeof o[l]=="function")&&l!="__proto__")return o[l]}var Gg=Xg(bg),rs=PA||function(o,l){return dt.setTimeout(o,l)},_u=Xg(WD);function Yg(o,l,f){var g=l+"";return _u(o,fR(g,xR(lR(g),f)))}function Xg(o){var l=0,f=0;return function(){var g=$A(),v=Le-(g-f);if(f=g,v>0){if(++l>=_e)return arguments[0]}else l=0;return o.apply(t,arguments)}}function Pa(o,l){var f=-1,g=o.length,v=g-1;for(l=l===t?g:l;++f<l;){var x=au(f,v),k=o[x];o[x]=o[f],o[f]=k}return o.length=l,o}var Zg=gR(function(o){var l=[];return o.charCodeAt(0)===46&&l.push(""),o.replace(uM,function(f,g,v,x){l.push(v?x.replace(bM,"$1"):g||f)}),l});function Wn(o){if(typeof o=="string"||Zt(o))return o;var l=o+"";return l=="0"&&1/o==-Pe?"-0":l}function ai(o){if(o!=null){try{return ua.call(o)}catch{}try{return o+""}catch{}}return""}function xR(o,l){return un(Vt,function(f){var g="_."+f[0];l&f[1]&&!oa(o,g)&&o.push(g)}),o.sort()}function Qg(o){if(o instanceof we)return o.clone();var l=new dn(o.__wrapped__,o.__chain__);return l.__actions__=Ft(o.__actions__),l.__index__=o.__index__,l.__values__=o.__values__,l}function ER(o,l,f){(f?Nt(o,l,f):l===t)?l=1:l=nt(fe(l),0);var g=o==null?0:o.length;if(!g||l<1)return[];for(var v=0,x=0,k=A(ya(g/l));v<g;)k[x++]=hn(o,v,v+=l);return k}function SR(o){for(var l=-1,f=o==null?0:o.length,g=0,v=[];++l<f;){var x=o[l];x&&(v[g++]=x)}return v}function kR(){var o=arguments.length;if(!o)return[];for(var l=A(o-1),f=arguments[0],g=o;g--;)l[g-1]=arguments[g];return Nr(ce(f)?Ft(f):[f],pt(l,1))}var _R=ge(function(o,l){return Ge(o)?Xo(o,pt(l,1,Ge,!0)):[]}),CR=ge(function(o,l){var f=mn(l);return Ge(f)&&(f=t),Ge(o)?Xo(o,pt(l,1,Ge,!0),te(f,2)):[]}),OR=ge(function(o,l){var f=mn(l);return Ge(f)&&(f=t),Ge(o)?Xo(o,pt(l,1,Ge,!0),t,f):[]});function TR(o,l,f){var g=o==null?0:o.length;return g?(l=f||l===t?1:fe(l),hn(o,l<0?0:l,g)):[]}function NR(o,l,f){var g=o==null?0:o.length;return g?(l=f||l===t?1:fe(l),l=g-l,hn(o,0,l<0?0:l)):[]}function MR(o,l){return o&&o.length?Oa(o,te(l,3),!0,!0):[]}function AR(o,l){return o&&o.length?Oa(o,te(l,3),!0):[]}function DR(o,l,f,g){var v=o==null?0:o.length;return v?(f&&typeof f!="number"&&Nt(o,l,f)&&(f=0,g=v),kD(o,l,f,g)):[]}function ey(o,l,f){var g=o==null?0:o.length;if(!g)return-1;var v=f==null?0:fe(f);return v<0&&(v=nt(g+v,0)),sa(o,te(l,3),v)}function ty(o,l,f){var g=o==null?0:o.length;if(!g)return-1;var v=g-1;return f!==t&&(v=fe(f),v=f<0?nt(g+v,0):bt(v,g-1)),sa(o,te(l,3),v,!0)}function ny(o){var l=o==null?0:o.length;return l?pt(o,1):[]}function RR(o){var l=o==null?0:o.length;return l?pt(o,Pe):[]}function IR(o,l){var f=o==null?0:o.length;return f?(l=l===t?1:fe(l),pt(o,l)):[]}function PR(o){for(var l=-1,f=o==null?0:o.length,g={};++l<f;){var v=o[l];g[v[0]]=v[1]}return g}function ry(o){return o&&o.length?o[0]:t}function BR(o,l,f){var g=o==null?0:o.length;if(!g)return-1;var v=f==null?0:fe(f);return v<0&&(v=nt(g+v,0)),Ui(o,l,v)}function LR(o){var l=o==null?0:o.length;return l?hn(o,0,-1):[]}var VR=ge(function(o){var l=We(o,du);return l.length&&l[0]===o[0]?nu(l):[]}),$R=ge(function(o){var l=mn(o),f=We(o,du);return l===mn(f)?l=t:f.pop(),f.length&&f[0]===o[0]?nu(f,te(l,2)):[]}),FR=ge(function(o){var l=mn(o),f=We(o,du);return l=typeof l=="function"?l:t,l&&f.pop(),f.length&&f[0]===o[0]?nu(f,t,l):[]});function zR(o,l){return o==null?"":LA.call(o,l)}function mn(o){var l=o==null?0:o.length;return l?o[l-1]:t}function HR(o,l,f){var g=o==null?0:o.length;if(!g)return-1;var v=g;return f!==t&&(v=fe(f),v=v<0?nt(g+v,0):bt(v,g-1)),l===l?xA(o,l,v):sa(o,Lm,v,!0)}function WR(o,l){return o&&o.length?hg(o,fe(l)):t}var jR=ge(iy);function iy(o,l){return o&&o.length&&l&&l.length?su(o,l):o}function UR(o,l,f){return o&&o.length&&l&&l.length?su(o,l,te(f,2)):o}function qR(o,l,f){return o&&o.length&&l&&l.length?su(o,l,t,f):o}var KR=nr(function(o,l){var f=o==null?0:o.length,g=Zc(o,l);return yg(o,We(l,function(v){return rr(v,f)?+v:v}).sort(Og)),g});function JR(o,l){var f=[];if(!(o&&o.length))return f;var g=-1,v=[],x=o.length;for(l=te(l,3);++g<x;){var k=o[g];l(k,g,o)&&(f.push(k),v.push(g))}return yg(o,v),f}function Cu(o){return o==null?o:zA.call(o)}function GR(o,l,f){var g=o==null?0:o.length;return g?(f&&typeof f!="number"&&Nt(o,l,f)?(l=0,f=g):(l=l==null?0:fe(l),f=f===t?g:fe(f)),hn(o,l,f)):[]}function YR(o,l){return Ca(o,l)}function XR(o,l,f){return cu(o,l,te(f,2))}function ZR(o,l){var f=o==null?0:o.length;if(f){var g=Ca(o,l);if(g<f&&On(o[g],l))return g}return-1}function QR(o,l){return Ca(o,l,!0)}function eI(o,l,f){return cu(o,l,te(f,2),!0)}function tI(o,l){var f=o==null?0:o.length;if(f){var g=Ca(o,l,!0)-1;if(On(o[g],l))return g}return-1}function nI(o){return o&&o.length?vg(o):[]}function rI(o,l){return o&&o.length?vg(o,te(l,2)):[]}function iI(o){var l=o==null?0:o.length;return l?hn(o,1,l):[]}function oI(o,l,f){return o&&o.length?(l=f||l===t?1:fe(l),hn(o,0,l<0?0:l)):[]}function sI(o,l,f){var g=o==null?0:o.length;return g?(l=f||l===t?1:fe(l),l=g-l,hn(o,l<0?0:l,g)):[]}function aI(o,l){return o&&o.length?Oa(o,te(l,3),!1,!0):[]}function lI(o,l){return o&&o.length?Oa(o,te(l,3)):[]}var cI=ge(function(o){return Rr(pt(o,1,Ge,!0))}),uI=ge(function(o){var l=mn(o);return Ge(l)&&(l=t),Rr(pt(o,1,Ge,!0),te(l,2))}),fI=ge(function(o){var l=mn(o);return l=typeof l=="function"?l:t,Rr(pt(o,1,Ge,!0),t,l)});function dI(o){return o&&o.length?Rr(o):[]}function pI(o,l){return o&&o.length?Rr(o,te(l,2)):[]}function hI(o,l){return l=typeof l=="function"?l:t,o&&o.length?Rr(o,t,l):[]}function Ou(o){if(!(o&&o.length))return[];var l=0;return o=Tr(o,function(f){if(Ge(f))return l=nt(f.length,l),!0}),jc(l,function(f){return We(o,zc(f))})}function oy(o,l){if(!(o&&o.length))return[];var f=Ou(o);return l==null?f:We(f,function(g){return Gt(l,t,g)})}var mI=ge(function(o,l){return Ge(o)?Xo(o,l):[]}),gI=ge(function(o){return fu(Tr(o,Ge))}),yI=ge(function(o){var l=mn(o);return Ge(l)&&(l=t),fu(Tr(o,Ge),te(l,2))}),bI=ge(function(o){var l=mn(o);return l=typeof l=="function"?l:t,fu(Tr(o,Ge),t,l)}),vI=ge(Ou);function wI(o,l){return Sg(o||[],l||[],Yo)}function xI(o,l){return Sg(o||[],l||[],es)}var EI=ge(function(o){var l=o.length,f=l>1?o[l-1]:t;return f=typeof f=="function"?(o.pop(),f):t,oy(o,f)});function sy(o){var l=w(o);return l.__chain__=!0,l}function SI(o,l){return l(o),o}function Ba(o,l){return l(o)}var kI=nr(function(o){var l=o.length,f=l?o[0]:0,g=this.__wrapped__,v=function(x){return Zc(x,o)};return l>1||this.__actions__.length||!(g instanceof we)||!rr(f)?this.thru(v):(g=g.slice(f,+f+(l?1:0)),g.__actions__.push({func:Ba,args:[v],thisArg:t}),new dn(g,this.__chain__).thru(function(x){return l&&!x.length&&x.push(t),x}))});function _I(){return sy(this)}function CI(){return new dn(this.value(),this.__chain__)}function OI(){this.__values__===t&&(this.__values__=wy(this.value()));var o=this.__index__>=this.__values__.length,l=o?t:this.__values__[this.__index__++];return{done:o,value:l}}function TI(){return this}function NI(o){for(var l,f=this;f instanceof xa;){var g=Qg(f);g.__index__=0,g.__values__=t,l?v.__wrapped__=g:l=g;var v=g;f=f.__wrapped__}return v.__wrapped__=o,l}function MI(){var o=this.__wrapped__;if(o instanceof we){var l=o;return this.__actions__.length&&(l=new we(this)),l=l.reverse(),l.__actions__.push({func:Ba,args:[Cu],thisArg:t}),new dn(l,this.__chain__)}return this.thru(Cu)}function AI(){return Eg(this.__wrapped__,this.__actions__)}var DI=Ta(function(o,l,f){Ie.call(o,f)?++o[f]:er(o,f,1)});function RI(o,l,f){var g=ce(o)?Pm:SD;return f&&Nt(o,l,f)&&(l=t),g(o,te(l,3))}function II(o,l){var f=ce(o)?Tr:og;return f(o,te(l,3))}var PI=Rg(ey),BI=Rg(ty);function LI(o,l){return pt(La(o,l),1)}function VI(o,l){return pt(La(o,l),Pe)}function $I(o,l,f){return f=f===t?1:fe(f),pt(La(o,l),f)}function ay(o,l){var f=ce(o)?un:Dr;return f(o,te(l,3))}function ly(o,l){var f=ce(o)?iA:ig;return f(o,te(l,3))}var FI=Ta(function(o,l,f){Ie.call(o,f)?o[f].push(l):er(o,f,[l])});function zI(o,l,f,g){o=zt(o)?o:ro(o),f=f&&!g?fe(f):0;var v=o.length;return f<0&&(f=nt(v+f,0)),Ha(o)?f<=v&&o.indexOf(l,f)>-1:!!v&&Ui(o,l,f)>-1}var HI=ge(function(o,l,f){var g=-1,v=typeof l=="function",x=zt(o)?A(o.length):[];return Dr(o,function(k){x[++g]=v?Gt(l,k,f):Zo(k,l,f)}),x}),WI=Ta(function(o,l,f){er(o,f,l)});function La(o,l){var f=ce(o)?We:fg;return f(o,te(l,3))}function jI(o,l,f,g){return o==null?[]:(ce(l)||(l=l==null?[]:[l]),f=g?t:f,ce(f)||(f=f==null?[]:[f]),mg(o,l,f))}var UI=Ta(function(o,l,f){o[f?0:1].push(l)},function(){return[[],[]]});function qI(o,l,f){var g=ce(o)?$c:$m,v=arguments.length<3;return g(o,te(l,4),f,v,Dr)}function KI(o,l,f){var g=ce(o)?oA:$m,v=arguments.length<3;return g(o,te(l,4),f,v,ig)}function JI(o,l){var f=ce(o)?Tr:og;return f(o,Fa(te(l,3)))}function GI(o){var l=ce(o)?eg:zD;return l(o)}function YI(o,l,f){(f?Nt(o,l,f):l===t)?l=1:l=fe(l);var g=ce(o)?bD:HD;return g(o,l)}function XI(o){var l=ce(o)?vD:jD;return l(o)}function ZI(o){if(o==null)return 0;if(zt(o))return Ha(o)?Ki(o):o.length;var l=vt(o);return l==He||l==Ze?o.size:iu(o).length}function QI(o,l,f){var g=ce(o)?Fc:UD;return f&&Nt(o,l,f)&&(l=t),g(o,te(l,3))}var eP=ge(function(o,l){if(o==null)return[];var f=l.length;return f>1&&Nt(o,l[0],l[1])?l=[]:f>2&&Nt(l[0],l[1],l[2])&&(l=[l[0]]),mg(o,pt(l,1),[])}),Va=IA||function(){return dt.Date.now()};function tP(o,l){if(typeof l!="function")throw new fn(a);return o=fe(o),function(){if(--o<1)return l.apply(this,arguments)}}function cy(o,l,f){return l=f?t:l,l=o&&l==null?o.length:l,tr(o,Y,t,t,t,t,l)}function uy(o,l){var f;if(typeof l!="function")throw new fn(a);return o=fe(o),function(){return--o>0&&(f=l.apply(this,arguments)),o<=1&&(l=t),f}}var Tu=ge(function(o,l,f){var g=O;if(f.length){var v=Mr(f,to(Tu));g|=H}return tr(o,g,l,f,v)}),fy=ge(function(o,l,f){var g=O|M;if(f.length){var v=Mr(f,to(fy));g|=H}return tr(l,g,o,f,v)});function dy(o,l,f){l=f?t:l;var g=tr(o,z,t,t,t,t,t,l);return g.placeholder=dy.placeholder,g}function py(o,l,f){l=f?t:l;var g=tr(o,_,t,t,t,t,t,l);return g.placeholder=py.placeholder,g}function hy(o,l,f){var g,v,x,k,C,N,B=0,L=!1,$=!1,q=!0;if(typeof o!="function")throw new fn(a);l=gn(l)||0,Ue(f)&&(L=!!f.leading,$="maxWait"in f,x=$?nt(gn(f.maxWait)||0,l):x,q="trailing"in f?!!f.trailing:q);function Q(Ye){var Tn=g,sr=v;return g=v=t,B=Ye,k=o.apply(sr,Tn),k}function ne(Ye){return B=Ye,C=rs(ve,l),L?Q(Ye):k}function he(Ye){var Tn=Ye-N,sr=Ye-B,Ry=l-Tn;return $?bt(Ry,x-sr):Ry}function re(Ye){var Tn=Ye-N,sr=Ye-B;return N===t||Tn>=l||Tn<0||$&&sr>=x}function ve(){var Ye=Va();if(re(Ye))return ke(Ye);C=rs(ve,he(Ye))}function ke(Ye){return C=t,q&&g?Q(Ye):(g=v=t,k)}function Qt(){C!==t&&kg(C),B=0,g=N=v=C=t}function Mt(){return C===t?k:ke(Va())}function en(){var Ye=Va(),Tn=re(Ye);if(g=arguments,v=this,N=Ye,Tn){if(C===t)return ne(N);if($)return kg(C),C=rs(ve,l),Q(N)}return C===t&&(C=rs(ve,l)),k}return en.cancel=Qt,en.flush=Mt,en}var nP=ge(function(o,l){return rg(o,1,l)}),rP=ge(function(o,l,f){return rg(o,gn(l)||0,f)});function iP(o){return tr(o,be)}function $a(o,l){if(typeof o!="function"||l!=null&&typeof l!="function")throw new fn(a);var f=function(){var g=arguments,v=l?l.apply(this,g):g[0],x=f.cache;if(x.has(v))return x.get(v);var k=o.apply(this,g);return f.cache=x.set(v,k)||x,k};return f.cache=new($a.Cache||Qn),f}$a.Cache=Qn;function Fa(o){if(typeof o!="function")throw new fn(a);return function(){var l=arguments;switch(l.length){case 0:return!o.call(this);case 1:return!o.call(this,l[0]);case 2:return!o.call(this,l[0],l[1]);case 3:return!o.call(this,l[0],l[1],l[2])}return!o.apply(this,l)}}function oP(o){return uy(2,o)}var sP=qD(function(o,l){l=l.length==1&&ce(l[0])?We(l[0],Yt(te())):We(pt(l,1),Yt(te()));var f=l.length;return ge(function(g){for(var v=-1,x=bt(g.length,f);++v<x;)g[v]=l[v].call(this,g[v]);return Gt(o,this,g)})}),Nu=ge(function(o,l){var f=Mr(l,to(Nu));return tr(o,H,t,l,f)}),my=ge(function(o,l){var f=Mr(l,to(my));return tr(o,V,t,l,f)}),aP=nr(function(o,l){return tr(o,U,t,t,t,l)});function lP(o,l){if(typeof o!="function")throw new fn(a);return l=l===t?l:fe(l),ge(o,l)}function cP(o,l){if(typeof o!="function")throw new fn(a);return l=l==null?0:nt(fe(l),0),ge(function(f){var g=f[l],v=Pr(f,0,l);return g&&Nr(v,g),Gt(o,this,v)})}function uP(o,l,f){var g=!0,v=!0;if(typeof o!="function")throw new fn(a);return Ue(f)&&(g="leading"in f?!!f.leading:g,v="trailing"in f?!!f.trailing:v),hy(o,l,{leading:g,maxWait:l,trailing:v})}function fP(o){return cy(o,1)}function dP(o,l){return Nu(pu(l),o)}function pP(){if(!arguments.length)return[];var o=arguments[0];return ce(o)?o:[o]}function hP(o){return pn(o,b)}function mP(o,l){return l=typeof l=="function"?l:t,pn(o,b,l)}function gP(o){return pn(o,m|b)}function yP(o,l){return l=typeof l=="function"?l:t,pn(o,m|b,l)}function bP(o,l){return l==null||ng(o,l,at(l))}function On(o,l){return o===l||o!==o&&l!==l}var vP=Da(tu),wP=Da(function(o,l){return o>=l}),li=lg(function(){return arguments}())?lg:function(o){return Je(o)&&Ie.call(o,"callee")&&!Jm.call(o,"callee")},ce=A.isArray,xP=Nm?Yt(Nm):ND;function zt(o){return o!=null&&za(o.length)&&!ir(o)}function Ge(o){return Je(o)&&zt(o)}function EP(o){return o===!0||o===!1||Je(o)&&Tt(o)==K}var Br=BA||Fu,SP=Mm?Yt(Mm):MD;function kP(o){return Je(o)&&o.nodeType===1&&!is(o)}function _P(o){if(o==null)return!0;if(zt(o)&&(ce(o)||typeof o=="string"||typeof o.splice=="function"||Br(o)||no(o)||li(o)))return!o.length;var l=vt(o);if(l==He||l==Ze)return!o.size;if(ns(o))return!iu(o).length;for(var f in o)if(Ie.call(o,f))return!1;return!0}function CP(o,l){return Qo(o,l)}function OP(o,l,f){f=typeof f=="function"?f:t;var g=f?f(o,l):t;return g===t?Qo(o,l,t,f):!!g}function Mu(o){if(!Je(o))return!1;var l=Tt(o);return l==ie||l==De||typeof o.message=="string"&&typeof o.name=="string"&&!is(o)}function TP(o){return typeof o=="number"&&Ym(o)}function ir(o){if(!Ue(o))return!1;var l=Tt(o);return l==oe||l==Ne||l==j||l==Fi}function gy(o){return typeof o=="number"&&o==fe(o)}function za(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=Be}function Ue(o){var l=typeof o;return o!=null&&(l=="object"||l=="function")}function Je(o){return o!=null&&typeof o=="object"}var yy=Am?Yt(Am):DD;function NP(o,l){return o===l||ru(o,l,wu(l))}function MP(o,l,f){return f=typeof f=="function"?f:t,ru(o,l,wu(l),f)}function AP(o){return by(o)&&o!=+o}function DP(o){if(mR(o))throw new le(s);return cg(o)}function RP(o){return o===null}function IP(o){return o==null}function by(o){return typeof o=="number"||Je(o)&&Tt(o)==$e}function is(o){if(!Je(o)||Tt(o)!=Ct)return!1;var l=ha(o);if(l===null)return!0;var f=Ie.call(l,"constructor")&&l.constructor;return typeof f=="function"&&f instanceof f&&ua.call(f)==MA}var Au=Dm?Yt(Dm):RD;function PP(o){return gy(o)&&o>=-Be&&o<=Be}var vy=Rm?Yt(Rm):ID;function Ha(o){return typeof o=="string"||!ce(o)&&Je(o)&&Tt(o)==Sn}function Zt(o){return typeof o=="symbol"||Je(o)&&Tt(o)==ln}var no=Im?Yt(Im):PD;function BP(o){return o===t}function LP(o){return Je(o)&&vt(o)==$n}function VP(o){return Je(o)&&Tt(o)==zi}var $P=Da(ou),FP=Da(function(o,l){return o<=l});function wy(o){if(!o)return[];if(zt(o))return Ha(o)?_n(o):Ft(o);if(Uo&&o[Uo])return bA(o[Uo]());var l=vt(o),f=l==He?qc:l==Ze?aa:ro;return f(o)}function or(o){if(!o)return o===0?o:0;if(o=gn(o),o===Pe||o===-Pe){var l=o<0?-1:1;return l*gt}return o===o?o:0}function fe(o){var l=or(o),f=l%1;return l===l?f?l-f:l:0}function xy(o){return o?ii(fe(o),0,Ke):0}function gn(o){if(typeof o=="number")return o;if(Zt(o))return st;if(Ue(o)){var l=typeof o.valueOf=="function"?o.valueOf():o;o=Ue(l)?l+"":l}if(typeof o!="string")return o===0?o:+o;o=Fm(o);var f=xM.test(o);return f||SM.test(o)?tA(o.slice(2),f?2:8):wM.test(o)?st:+o}function Ey(o){return Hn(o,Ht(o))}function zP(o){return o?ii(fe(o),-Be,Be):o===0?o:0}function Re(o){return o==null?"":Xt(o)}var HP=Qi(function(o,l){if(ns(l)||zt(l)){Hn(l,at(l),o);return}for(var f in l)Ie.call(l,f)&&Yo(o,f,l[f])}),Sy=Qi(function(o,l){Hn(l,Ht(l),o)}),Wa=Qi(function(o,l,f,g){Hn(l,Ht(l),o,g)}),WP=Qi(function(o,l,f,g){Hn(l,at(l),o,g)}),jP=nr(Zc);function UP(o,l){var f=Zi(o);return l==null?f:tg(f,l)}var qP=ge(function(o,l){o=Ve(o);var f=-1,g=l.length,v=g>2?l[2]:t;for(v&&Nt(l[0],l[1],v)&&(g=1);++f<g;)for(var x=l[f],k=Ht(x),C=-1,N=k.length;++C<N;){var B=k[C],L=o[B];(L===t||On(L,Gi[B])&&!Ie.call(o,B))&&(o[B]=x[B])}return o}),KP=ge(function(o){return o.push(t,Fg),Gt(ky,t,o)});function JP(o,l){return Bm(o,te(l,3),zn)}function GP(o,l){return Bm(o,te(l,3),eu)}function YP(o,l){return o==null?o:Qc(o,te(l,3),Ht)}function XP(o,l){return o==null?o:sg(o,te(l,3),Ht)}function ZP(o,l){return o&&zn(o,te(l,3))}function QP(o,l){return o&&eu(o,te(l,3))}function eB(o){return o==null?[]:ka(o,at(o))}function tB(o){return o==null?[]:ka(o,Ht(o))}function Du(o,l,f){var g=o==null?t:oi(o,l);return g===t?f:g}function nB(o,l){return o!=null&&Wg(o,l,_D)}function Ru(o,l){return o!=null&&Wg(o,l,CD)}var rB=Pg(function(o,l,f){l!=null&&typeof l.toString!="function"&&(l=fa.call(l)),o[l]=f},Pu(Wt)),iB=Pg(function(o,l,f){l!=null&&typeof l.toString!="function"&&(l=fa.call(l)),Ie.call(o,l)?o[l].push(f):o[l]=[f]},te),oB=ge(Zo);function at(o){return zt(o)?Qm(o):iu(o)}function Ht(o){return zt(o)?Qm(o,!0):BD(o)}function sB(o,l){var f={};return l=te(l,3),zn(o,function(g,v,x){er(f,l(g,v,x),g)}),f}function aB(o,l){var f={};return l=te(l,3),zn(o,function(g,v,x){er(f,v,l(g,v,x))}),f}var lB=Qi(function(o,l,f){_a(o,l,f)}),ky=Qi(function(o,l,f,g){_a(o,l,f,g)}),cB=nr(function(o,l){var f={};if(o==null)return f;var g=!1;l=We(l,function(x){return x=Ir(x,o),g||(g=x.length>1),x}),Hn(o,bu(o),f),g&&(f=pn(f,m|y|b,rR));for(var v=l.length;v--;)uu(f,l[v]);return f});function uB(o,l){return _y(o,Fa(te(l)))}var fB=nr(function(o,l){return o==null?{}:VD(o,l)});function _y(o,l){if(o==null)return{};var f=We(bu(o),function(g){return[g]});return l=te(l),gg(o,f,function(g,v){return l(g,v[0])})}function dB(o,l,f){l=Ir(l,o);var g=-1,v=l.length;for(v||(v=1,o=t);++g<v;){var x=o==null?t:o[Wn(l[g])];x===t&&(g=v,x=f),o=ir(x)?x.call(o):x}return o}function pB(o,l,f){return o==null?o:es(o,l,f)}function hB(o,l,f,g){return g=typeof g=="function"?g:t,o==null?o:es(o,l,f,g)}var Cy=Vg(at),Oy=Vg(Ht);function mB(o,l,f){var g=ce(o),v=g||Br(o)||no(o);if(l=te(l,4),f==null){var x=o&&o.constructor;v?f=g?new x:[]:Ue(o)?f=ir(x)?Zi(ha(o)):{}:f={}}return(v?un:zn)(o,function(k,C,N){return l(f,k,C,N)}),f}function gB(o,l){return o==null?!0:uu(o,l)}function yB(o,l,f){return o==null?o:xg(o,l,pu(f))}function bB(o,l,f,g){return g=typeof g=="function"?g:t,o==null?o:xg(o,l,pu(f),g)}function ro(o){return o==null?[]:Uc(o,at(o))}function vB(o){return o==null?[]:Uc(o,Ht(o))}function wB(o,l,f){return f===t&&(f=l,l=t),f!==t&&(f=gn(f),f=f===f?f:0),l!==t&&(l=gn(l),l=l===l?l:0),ii(gn(o),l,f)}function xB(o,l,f){return l=or(l),f===t?(f=l,l=0):f=or(f),o=gn(o),OD(o,l,f)}function EB(o,l,f){if(f&&typeof f!="boolean"&&Nt(o,l,f)&&(l=f=t),f===t&&(typeof l=="boolean"?(f=l,l=t):typeof o=="boolean"&&(f=o,o=t)),o===t&&l===t?(o=0,l=1):(o=or(o),l===t?(l=o,o=0):l=or(l)),o>l){var g=o;o=l,l=g}if(f||o%1||l%1){var v=Xm();return bt(o+v*(l-o+eA("1e-"+((v+"").length-1))),l)}return au(o,l)}var SB=eo(function(o,l,f){return l=l.toLowerCase(),o+(f?Ty(l):l)});function Ty(o){return Iu(Re(o).toLowerCase())}function Ny(o){return o=Re(o),o&&o.replace(_M,pA).replace(jM,"")}function kB(o,l,f){o=Re(o),l=Xt(l);var g=o.length;f=f===t?g:ii(fe(f),0,g);var v=f;return f-=l.length,f>=0&&o.slice(f,v)==l}function _B(o){return o=Re(o),o&&Ho.test(o)?o.replace(zo,hA):o}function CB(o){return o=Re(o),o&&fM.test(o)?o.replace(Nc,"\\$&"):o}var OB=eo(function(o,l,f){return o+(f?"-":"")+l.toLowerCase()}),TB=eo(function(o,l,f){return o+(f?" ":"")+l.toLowerCase()}),NB=Dg("toLowerCase");function MB(o,l,f){o=Re(o),l=fe(l);var g=l?Ki(o):0;if(!l||g>=l)return o;var v=(l-g)/2;return Aa(ba(v),f)+o+Aa(ya(v),f)}function AB(o,l,f){o=Re(o),l=fe(l);var g=l?Ki(o):0;return l&&g<l?o+Aa(l-g,f):o}function DB(o,l,f){o=Re(o),l=fe(l);var g=l?Ki(o):0;return l&&g<l?Aa(l-g,f)+o:o}function RB(o,l,f){return f||l==null?l=0:l&&(l=+l),FA(Re(o).replace(Mc,""),l||0)}function IB(o,l,f){return(f?Nt(o,l,f):l===t)?l=1:l=fe(l),lu(Re(o),l)}function PB(){var o=arguments,l=Re(o[0]);return o.length<3?l:l.replace(o[1],o[2])}var BB=eo(function(o,l,f){return o+(f?"_":"")+l.toLowerCase()});function LB(o,l,f){return f&&typeof f!="number"&&Nt(o,l,f)&&(l=f=t),f=f===t?Ke:f>>>0,f?(o=Re(o),o&&(typeof l=="string"||l!=null&&!Au(l))&&(l=Xt(l),!l&&qi(o))?Pr(_n(o),0,f):o.split(l,f)):[]}var VB=eo(function(o,l,f){return o+(f?" ":"")+Iu(l)});function $B(o,l,f){return o=Re(o),f=f==null?0:ii(fe(f),0,o.length),l=Xt(l),o.slice(f,f+l.length)==l}function FB(o,l,f){var g=w.templateSettings;f&&Nt(o,l,f)&&(l=t),o=Re(o),l=Wa({},l,g,$g);var v=Wa({},l.imports,g.imports,$g),x=at(v),k=Uc(v,x),C,N,B=0,L=l.interpolate||na,$="__p += '",q=Kc((l.escape||na).source+"|"+L.source+"|"+(L===ta?vM:na).source+"|"+(l.evaluate||na).source+"|$","g"),Q="//# sourceURL="+(Ie.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++GM+"]")+`
`;o.replace(q,function(re,ve,ke,Qt,Mt,en){return ke||(ke=Qt),$+=o.slice(B,en).replace(CM,mA),ve&&(C=!0,$+=`' +
__e(`+ve+`) +
'`),Mt&&(N=!0,$+=`';
`+Mt+`;
__p += '`),ke&&($+=`' +
((__t = (`+ke+`)) == null ? '' : __t) +
'`),B=en+re.length,re}),$+=`';
`;var ne=Ie.call(l,"variable")&&l.variable;if(!ne)$=`with (obj) {
`+$+`
}
`;else if(yM.test(ne))throw new le(c);$=(N?$.replace(Se,""):$).replace(ft,"$1").replace($t,"$1;"),$="function("+(ne||"obj")+`) {
`+(ne?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(C?", __e = _.escape":"")+(N?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+$+`return __p
}`;var he=Ay(function(){return Me(x,Q+"return "+$).apply(t,k)});if(he.source=$,Mu(he))throw he;return he}function zB(o){return Re(o).toLowerCase()}function HB(o){return Re(o).toUpperCase()}function WB(o,l,f){if(o=Re(o),o&&(f||l===t))return Fm(o);if(!o||!(l=Xt(l)))return o;var g=_n(o),v=_n(l),x=zm(g,v),k=Hm(g,v)+1;return Pr(g,x,k).join("")}function jB(o,l,f){if(o=Re(o),o&&(f||l===t))return o.slice(0,jm(o)+1);if(!o||!(l=Xt(l)))return o;var g=_n(o),v=Hm(g,_n(l))+1;return Pr(g,0,v).join("")}function UB(o,l,f){if(o=Re(o),o&&(f||l===t))return o.replace(Mc,"");if(!o||!(l=Xt(l)))return o;var g=_n(o),v=zm(g,_n(l));return Pr(g,v).join("")}function qB(o,l){var f=Oe,g=Ee;if(Ue(l)){var v="separator"in l?l.separator:v;f="length"in l?fe(l.length):f,g="omission"in l?Xt(l.omission):g}o=Re(o);var x=o.length;if(qi(o)){var k=_n(o);x=k.length}if(f>=x)return o;var C=f-Ki(g);if(C<1)return g;var N=k?Pr(k,0,C).join(""):o.slice(0,C);if(v===t)return N+g;if(k&&(C+=N.length-C),Au(v)){if(o.slice(C).search(v)){var B,L=N;for(v.global||(v=Kc(v.source,Re(lm.exec(v))+"g")),v.lastIndex=0;B=v.exec(L);)var $=B.index;N=N.slice(0,$===t?C:$)}}else if(o.indexOf(Xt(v),C)!=C){var q=N.lastIndexOf(v);q>-1&&(N=N.slice(0,q))}return N+g}function KB(o){return o=Re(o),o&&Xn.test(o)?o.replace(Yn,EA):o}var JB=eo(function(o,l,f){return o+(f?" ":"")+l.toUpperCase()}),Iu=Dg("toUpperCase");function My(o,l,f){return o=Re(o),l=f?t:l,l===t?yA(o)?_A(o):lA(o):o.match(l)||[]}var Ay=ge(function(o,l){try{return Gt(o,t,l)}catch(f){return Mu(f)?f:new le(f)}}),GB=nr(function(o,l){return un(l,function(f){f=Wn(f),er(o,f,Tu(o[f],o))}),o});function YB(o){var l=o==null?0:o.length,f=te();return o=l?We(o,function(g){if(typeof g[1]!="function")throw new fn(a);return[f(g[0]),g[1]]}):[],ge(function(g){for(var v=-1;++v<l;){var x=o[v];if(Gt(x[0],this,g))return Gt(x[1],this,g)}})}function XB(o){return ED(pn(o,m))}function Pu(o){return function(){return o}}function ZB(o,l){return o==null||o!==o?l:o}var QB=Ig(),eL=Ig(!0);function Wt(o){return o}function Bu(o){return ug(typeof o=="function"?o:pn(o,m))}function tL(o){return dg(pn(o,m))}function nL(o,l){return pg(o,pn(l,m))}var rL=ge(function(o,l){return function(f){return Zo(f,o,l)}}),iL=ge(function(o,l){return function(f){return Zo(o,f,l)}});function Lu(o,l,f){var g=at(l),v=ka(l,g);f==null&&!(Ue(l)&&(v.length||!g.length))&&(f=l,l=o,o=this,v=ka(l,at(l)));var x=!(Ue(f)&&"chain"in f)||!!f.chain,k=ir(o);return un(v,function(C){var N=l[C];o[C]=N,k&&(o.prototype[C]=function(){var B=this.__chain__;if(x||B){var L=o(this.__wrapped__),$=L.__actions__=Ft(this.__actions__);return $.push({func:N,args:arguments,thisArg:o}),L.__chain__=B,L}return N.apply(o,Nr([this.value()],arguments))})}),o}function oL(){return dt._===this&&(dt._=AA),this}function Vu(){}function sL(o){return o=fe(o),ge(function(l){return hg(l,o)})}var aL=mu(We),lL=mu(Pm),cL=mu(Fc);function Dy(o){return Eu(o)?zc(Wn(o)):$D(o)}function uL(o){return function(l){return o==null?t:oi(o,l)}}var fL=Bg(),dL=Bg(!0);function $u(){return[]}function Fu(){return!1}function pL(){return{}}function hL(){return""}function mL(){return!0}function gL(o,l){if(o=fe(o),o<1||o>Be)return[];var f=Ke,g=bt(o,Ke);l=te(l),o-=Ke;for(var v=jc(g,l);++f<o;)l(f);return v}function yL(o){return ce(o)?We(o,Wn):Zt(o)?[o]:Ft(Zg(Re(o)))}function bL(o){var l=++NA;return Re(o)+l}var vL=Ma(function(o,l){return o+l},0),wL=gu("ceil"),xL=Ma(function(o,l){return o/l},1),EL=gu("floor");function SL(o){return o&&o.length?Sa(o,Wt,tu):t}function kL(o,l){return o&&o.length?Sa(o,te(l,2),tu):t}function _L(o){return Vm(o,Wt)}function CL(o,l){return Vm(o,te(l,2))}function OL(o){return o&&o.length?Sa(o,Wt,ou):t}function TL(o,l){return o&&o.length?Sa(o,te(l,2),ou):t}var NL=Ma(function(o,l){return o*l},1),ML=gu("round"),AL=Ma(function(o,l){return o-l},0);function DL(o){return o&&o.length?Wc(o,Wt):0}function RL(o,l){return o&&o.length?Wc(o,te(l,2)):0}return w.after=tP,w.ary=cy,w.assign=HP,w.assignIn=Sy,w.assignInWith=Wa,w.assignWith=WP,w.at=jP,w.before=uy,w.bind=Tu,w.bindAll=GB,w.bindKey=fy,w.castArray=pP,w.chain=sy,w.chunk=ER,w.compact=SR,w.concat=kR,w.cond=YB,w.conforms=XB,w.constant=Pu,w.countBy=DI,w.create=UP,w.curry=dy,w.curryRight=py,w.debounce=hy,w.defaults=qP,w.defaultsDeep=KP,w.defer=nP,w.delay=rP,w.difference=_R,w.differenceBy=CR,w.differenceWith=OR,w.drop=TR,w.dropRight=NR,w.dropRightWhile=MR,w.dropWhile=AR,w.fill=DR,w.filter=II,w.flatMap=LI,w.flatMapDeep=VI,w.flatMapDepth=$I,w.flatten=ny,w.flattenDeep=RR,w.flattenDepth=IR,w.flip=iP,w.flow=QB,w.flowRight=eL,w.fromPairs=PR,w.functions=eB,w.functionsIn=tB,w.groupBy=FI,w.initial=LR,w.intersection=VR,w.intersectionBy=$R,w.intersectionWith=FR,w.invert=rB,w.invertBy=iB,w.invokeMap=HI,w.iteratee=Bu,w.keyBy=WI,w.keys=at,w.keysIn=Ht,w.map=La,w.mapKeys=sB,w.mapValues=aB,w.matches=tL,w.matchesProperty=nL,w.memoize=$a,w.merge=lB,w.mergeWith=ky,w.method=rL,w.methodOf=iL,w.mixin=Lu,w.negate=Fa,w.nthArg=sL,w.omit=cB,w.omitBy=uB,w.once=oP,w.orderBy=jI,w.over=aL,w.overArgs=sP,w.overEvery=lL,w.overSome=cL,w.partial=Nu,w.partialRight=my,w.partition=UI,w.pick=fB,w.pickBy=_y,w.property=Dy,w.propertyOf=uL,w.pull=jR,w.pullAll=iy,w.pullAllBy=UR,w.pullAllWith=qR,w.pullAt=KR,w.range=fL,w.rangeRight=dL,w.rearg=aP,w.reject=JI,w.remove=JR,w.rest=lP,w.reverse=Cu,w.sampleSize=YI,w.set=pB,w.setWith=hB,w.shuffle=XI,w.slice=GR,w.sortBy=eP,w.sortedUniq=nI,w.sortedUniqBy=rI,w.split=LB,w.spread=cP,w.tail=iI,w.take=oI,w.takeRight=sI,w.takeRightWhile=aI,w.takeWhile=lI,w.tap=SI,w.throttle=uP,w.thru=Ba,w.toArray=wy,w.toPairs=Cy,w.toPairsIn=Oy,w.toPath=yL,w.toPlainObject=Ey,w.transform=mB,w.unary=fP,w.union=cI,w.unionBy=uI,w.unionWith=fI,w.uniq=dI,w.uniqBy=pI,w.uniqWith=hI,w.unset=gB,w.unzip=Ou,w.unzipWith=oy,w.update=yB,w.updateWith=bB,w.values=ro,w.valuesIn=vB,w.without=mI,w.words=My,w.wrap=dP,w.xor=gI,w.xorBy=yI,w.xorWith=bI,w.zip=vI,w.zipObject=wI,w.zipObjectDeep=xI,w.zipWith=EI,w.entries=Cy,w.entriesIn=Oy,w.extend=Sy,w.extendWith=Wa,Lu(w,w),w.add=vL,w.attempt=Ay,w.camelCase=SB,w.capitalize=Ty,w.ceil=wL,w.clamp=wB,w.clone=hP,w.cloneDeep=gP,w.cloneDeepWith=yP,w.cloneWith=mP,w.conformsTo=bP,w.deburr=Ny,w.defaultTo=ZB,w.divide=xL,w.endsWith=kB,w.eq=On,w.escape=_B,w.escapeRegExp=CB,w.every=RI,w.find=PI,w.findIndex=ey,w.findKey=JP,w.findLast=BI,w.findLastIndex=ty,w.findLastKey=GP,w.floor=EL,w.forEach=ay,w.forEachRight=ly,w.forIn=YP,w.forInRight=XP,w.forOwn=ZP,w.forOwnRight=QP,w.get=Du,w.gt=vP,w.gte=wP,w.has=nB,w.hasIn=Ru,w.head=ry,w.identity=Wt,w.includes=zI,w.indexOf=BR,w.inRange=xB,w.invoke=oB,w.isArguments=li,w.isArray=ce,w.isArrayBuffer=xP,w.isArrayLike=zt,w.isArrayLikeObject=Ge,w.isBoolean=EP,w.isBuffer=Br,w.isDate=SP,w.isElement=kP,w.isEmpty=_P,w.isEqual=CP,w.isEqualWith=OP,w.isError=Mu,w.isFinite=TP,w.isFunction=ir,w.isInteger=gy,w.isLength=za,w.isMap=yy,w.isMatch=NP,w.isMatchWith=MP,w.isNaN=AP,w.isNative=DP,w.isNil=IP,w.isNull=RP,w.isNumber=by,w.isObject=Ue,w.isObjectLike=Je,w.isPlainObject=is,w.isRegExp=Au,w.isSafeInteger=PP,w.isSet=vy,w.isString=Ha,w.isSymbol=Zt,w.isTypedArray=no,w.isUndefined=BP,w.isWeakMap=LP,w.isWeakSet=VP,w.join=zR,w.kebabCase=OB,w.last=mn,w.lastIndexOf=HR,w.lowerCase=TB,w.lowerFirst=NB,w.lt=$P,w.lte=FP,w.max=SL,w.maxBy=kL,w.mean=_L,w.meanBy=CL,w.min=OL,w.minBy=TL,w.stubArray=$u,w.stubFalse=Fu,w.stubObject=pL,w.stubString=hL,w.stubTrue=mL,w.multiply=NL,w.nth=WR,w.noConflict=oL,w.noop=Vu,w.now=Va,w.pad=MB,w.padEnd=AB,w.padStart=DB,w.parseInt=RB,w.random=EB,w.reduce=qI,w.reduceRight=KI,w.repeat=IB,w.replace=PB,w.result=dB,w.round=ML,w.runInContext=T,w.sample=GI,w.size=ZI,w.snakeCase=BB,w.some=QI,w.sortedIndex=YR,w.sortedIndexBy=XR,w.sortedIndexOf=ZR,w.sortedLastIndex=QR,w.sortedLastIndexBy=eI,w.sortedLastIndexOf=tI,w.startCase=VB,w.startsWith=$B,w.subtract=AL,w.sum=DL,w.sumBy=RL,w.template=FB,w.times=gL,w.toFinite=or,w.toInteger=fe,w.toLength=xy,w.toLower=zB,w.toNumber=gn,w.toSafeInteger=zP,w.toString=Re,w.toUpper=HB,w.trim=WB,w.trimEnd=jB,w.trimStart=UB,w.truncate=qB,w.unescape=KB,w.uniqueId=bL,w.upperCase=JB,w.upperFirst=Iu,w.each=ay,w.eachRight=ly,w.first=ry,Lu(w,function(){var o={};return zn(w,function(l,f){Ie.call(w.prototype,f)||(o[f]=l)}),o}(),{chain:!1}),w.VERSION=r,un(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){w[o].placeholder=w}),un(["drop","take"],function(o,l){we.prototype[o]=function(f){f=f===t?1:nt(fe(f),0);var g=this.__filtered__&&!l?new we(this):this.clone();return g.__filtered__?g.__takeCount__=bt(f,g.__takeCount__):g.__views__.push({size:bt(f,Ke),type:o+(g.__dir__<0?"Right":"")}),g},we.prototype[o+"Right"]=function(f){return this.reverse()[o](f).reverse()}}),un(["filter","map","takeWhile"],function(o,l){var f=l+1,g=f==Xe||f==je;we.prototype[o]=function(v){var x=this.clone();return x.__iteratees__.push({iteratee:te(v,3),type:f}),x.__filtered__=x.__filtered__||g,x}}),un(["head","last"],function(o,l){var f="take"+(l?"Right":"");we.prototype[o]=function(){return this[f](1).value()[0]}}),un(["initial","tail"],function(o,l){var f="drop"+(l?"":"Right");we.prototype[o]=function(){return this.__filtered__?new we(this):this[f](1)}}),we.prototype.compact=function(){return this.filter(Wt)},we.prototype.find=function(o){return this.filter(o).head()},we.prototype.findLast=function(o){return this.reverse().find(o)},we.prototype.invokeMap=ge(function(o,l){return typeof o=="function"?new we(this):this.map(function(f){return Zo(f,o,l)})}),we.prototype.reject=function(o){return this.filter(Fa(te(o)))},we.prototype.slice=function(o,l){o=fe(o);var f=this;return f.__filtered__&&(o>0||l<0)?new we(f):(o<0?f=f.takeRight(-o):o&&(f=f.drop(o)),l!==t&&(l=fe(l),f=l<0?f.dropRight(-l):f.take(l-o)),f)},we.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},we.prototype.toArray=function(){return this.take(Ke)},zn(we.prototype,function(o,l){var f=/^(?:filter|find|map|reject)|While$/.test(l),g=/^(?:head|last)$/.test(l),v=w[g?"take"+(l=="last"?"Right":""):l],x=g||/^find/.test(l);!v||(w.prototype[l]=function(){var k=this.__wrapped__,C=g?[1]:arguments,N=k instanceof we,B=C[0],L=N||ce(k),$=function(ve){var ke=v.apply(w,Nr([ve],C));return g&&q?ke[0]:ke};L&&f&&typeof B=="function"&&B.length!=1&&(N=L=!1);var q=this.__chain__,Q=!!this.__actions__.length,ne=x&&!q,he=N&&!Q;if(!x&&L){k=he?k:new we(this);var re=o.apply(k,C);return re.__actions__.push({func:Ba,args:[$],thisArg:t}),new dn(re,q)}return ne&&he?o.apply(this,C):(re=this.thru($),ne?g?re.value()[0]:re.value():re)})}),un(["pop","push","shift","sort","splice","unshift"],function(o){var l=la[o],f=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",g=/^(?:pop|shift)$/.test(o);w.prototype[o]=function(){var v=arguments;if(g&&!this.__chain__){var x=this.value();return l.apply(ce(x)?x:[],v)}return this[f](function(k){return l.apply(ce(k)?k:[],v)})}}),zn(we.prototype,function(o,l){var f=w[l];if(f){var g=f.name+"";Ie.call(Xi,g)||(Xi[g]=[]),Xi[g].push({name:l,func:f})}}),Xi[Na(t,M).name]=[{name:"wrapper",func:t}],we.prototype.clone=KA,we.prototype.reverse=JA,we.prototype.value=GA,w.prototype.at=kI,w.prototype.chain=_I,w.prototype.commit=CI,w.prototype.next=OI,w.prototype.plant=NI,w.prototype.reverse=MI,w.prototype.toJSON=w.prototype.valueOf=w.prototype.value=AI,w.prototype.first=w.prototype.head,Uo&&(w.prototype[Uo]=TI),w},Ji=CA();ei?((ei.exports=Ji)._=Ji,Bc._=Ji):dt._=Ji}).call(uo)})(wt,wt.exports);const $b={name:"LaravelCmsAdminPagesListItem",props:["component"],setup(n,{emit:e}){async function t(){e("delete",n.component.id)}return{onDeleteClick:t}}};function Fb(n,e,t,r,i,s){const a=d.resolveComponent("router-link");return d.openBlock(),d.createElementBlock("tr",null,[d.createElementVNode("td",null,d.toDisplayString(t.component.id),1),d.createElementVNode("td",null,[d.createVNode(a,{to:"/components/"+t.component.id},{default:d.withCtx(()=>[d.createTextVNode(d.toDisplayString(t.component.component),1)]),_:1},8,["to"])]),d.createElementVNode("td",null,[d.createElementVNode("button",{onClick:e[0]||(e[0]=d.withModifiers((...c)=>r.onDeleteClick&&r.onDeleteClick(...c),["prevent"])),class:"btn btn-link text-error"}," Delete ")])])}const zb=ye($b,[["render",Fb]]),Hb={name:"LaravelCmsAdminComponentAddForm",components:{},emits:["add"],setup(n,{emit:e}){const t=d.ref({});async function r(){!this.valid||(e("add",t.value),t.value={})}const i=d.computed(()=>t.value.name!=null&&t.value.identifier!=null);return{newPath:t,onSubmit:r,valid:i}}},Wb={class:"form-group form-inline mx-2"},jb=d.createElementVNode("label",{class:"form-label",for:"name"},"Name",-1),Ub={class:"form-group form-inline mx-2"},qb=d.createElementVNode("label",{class:"form-label",for:"identifier"},"Identifier",-1),Kb=["disabled"];function Jb(n,e,t,r,i,s){return d.openBlock(),d.createElementBlock("form",{onSubmit:e[2]||(e[2]=d.withModifiers((...a)=>r.onSubmit&&r.onSubmit(...a),["prevent"]))},[d.createElementVNode("fieldset",null,[d.createElementVNode("div",Wb,[jb,d.withDirectives(d.createElementVNode("input",{class:"form-input",type:"text",name:"name",id:"name","onUpdate:modelValue":e[0]||(e[0]=a=>r.newPath.name=a)},null,512),[[d.vModelText,r.newPath.name]])]),d.createElementVNode("div",Ub,[qb,d.withDirectives(d.createElementVNode("input",{class:"form-input",type:"text",name:"identifier",id:"identifier","onUpdate:modelValue":e[1]||(e[1]=a=>r.newPath.identifier=a)},null,512),[[d.vModelText,r.newPath.identifier]])]),d.createElementVNode("button",{class:"btn btn-primary mx-2",disabled:!r.valid}," Add Path ",8,Kb)])],32)}const Gb={name:"LaravelCmsAdminComponents",components:{ListItem:zb,AddForm:ye(Hb,[["render",Jb]])},setup(n,{emit:e}){const t=d.ref([]),r=d.ref(!1);async function i(){let u="/api/cms-components?"+new URLSearchParams({"q[]":["is_global[eq]=TRUE"]}).toString();const p=await(await fetch(u)).json();t.value=p.data,r.value=!0}async function s(u){const h=await fetch("/api/cms-components",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(template)}),p=await h.json();if(!h.ok){ue({title:p.message,type:"error"});return}t.value.push(p.data),ue({title:"New component added.",type:"success"}),t.value.push(Object.assign(u,p.data))}async function a(u){if(!(await fetch("/api/cms-components/"+u,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"DELETE"})).ok){ue({title:json.message,type:"error"});return}ue({title:"Template deleted.",type:"warn"});var p=t.value.map(m=>m.id).indexOf(u);~p&&t.value.splice(p,1)}return i(),{componentsSorted:d.computed(()=>wt.exports.sortBy(t.value||[],u=>u.component)),loaded:r,onAdd:s,onDelete:a}}},Yb=d.createElementVNode("h2",null,"Components",-1),Xb={key:0,class:"table"},Zb={key:1},Qb={key:2};function ev(n,e,t,r,i,s){const a=d.resolveComponent("add-form"),c=d.resolveComponent("list-item");return d.openBlock(),d.createElementBlock(d.Fragment,null,[Yb,d.createVNode(a,{onAdd:r.onAdd},null,8,["onAdd"]),r.loaded&&r.componentsSorted.length?(d.openBlock(),d.createElementBlock("table",Xb,[(d.openBlock(!0),d.createElementBlock(d.Fragment,null,d.renderList(r.componentsSorted,u=>(d.openBlock(),d.createBlock(c,{key:u.id,component:u,onDelete:r.onDelete},null,8,["component","onDelete"]))),128))])):r.loaded?(d.openBlock(),d.createElementBlock("p",Zb,"There are no components.")):(d.openBlock(),d.createElementBlock("p",Qb,"Loading..."))],64)}const tv=ye(Gb,[["render",ev]]),nv={};function rv(n,e){return null}const iv=ye(nv,[["render",rv]]),ov={name:"LaravelCmsAdminMediaAddForm",components:{},emits:["add"],setup(n,{emit:e}){const t=d.ref({});async function r(){!this.valid||(e("add",t.value),t.value={})}function i(){t.value.file="Set"}const s=d.computed(()=>t.value.caption!=null&&t.value.file!=null);return{newMedia:t,onSubmit:r,onFileChanged:i,valid:s}}},sv={class:"form-group form-inline mx-2"},av=d.createElementVNode("label",{class:"form-label",for:"caption"},"Caption",-1),lv={class:"form-group form-inline mx-2"},cv=d.createElementVNode("label",{class:"form-label",for:"file"},"File",-1),uv=["disabled"];function fv(n,e,t,r,i,s){return d.openBlock(),d.createElementBlock("form",{onSubmit:e[2]||(e[2]=d.withModifiers((...a)=>r.onSubmit&&r.onSubmit(...a),["prevent"]))},[d.createElementVNode("fieldset",null,[d.createElementVNode("div",sv,[av,d.withDirectives(d.createElementVNode("input",{class:"form-input",type:"text",name:"caption",id:"caption","onUpdate:modelValue":e[0]||(e[0]=a=>r.newMedia.caption=a)},null,512),[[d.vModelText,r.newMedia.caption]])]),d.createElementVNode("div",lv,[cv,d.createElementVNode("input",{class:"form-input",type:"file",name:"file",id:"file",onChange:e[1]||(e[1]=(...a)=>r.onFileChanged&&r.onFileChanged(...a))},null,32)]),d.createElementVNode("button",{class:"btn btn-primary mx-2",disabled:!r.valid}," Add Media ",8,uv)])],32)}const dv={name:"LaravelCmsAdminMedia",components:{ListItem:iv,AddForm:ye(ov,[["render",fv]])},setup(n,{emit:e}){const t=d.ref([]),r=d.ref(!1);async function i(){const h=await(await fetch("/api/cms-media")).json();t.value=h.data,r.value=!0}async function s(u){const h=await fetch("/api/cms-media",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(template)}),p=await h.json();if(!h.ok){ue({title:p.message,type:"error"});return}t.value.push(p.data),ue({title:"New path added.",type:"success"}),paths.value.push(Object.assign(u,p.data))}async function a(u){if(!(await fetch("/api/cms-media/"+u,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"DELETE"})).ok){ue({title:json.message,type:"error"});return}ue({title:"Media deleted.",type:"warn"});var p=paths.value.map(m=>m.id).indexOf(u);~p&&paths.value.splice(p,1)}return i(),{mediaSorted:d.computed(()=>wt.exports.sortBy(t.value||[],u=>u.created_at)),loaded:r,onAdd:s,onDelete:a}}},pv=d.createElementVNode("h2",null,"Media",-1),hv={key:0,class:"table"},mv={key:1},gv={key:2};function yv(n,e,t,r,i,s){const a=d.resolveComponent("add-form"),c=d.resolveComponent("list-item");return d.openBlock(),d.createElementBlock(d.Fragment,null,[pv,d.createVNode(a,{onAdd:r.onAdd},null,8,["onAdd"]),r.loaded&&r.mediaSorted.length?(d.openBlock(),d.createElementBlock("table",hv,[(d.openBlock(!0),d.createElementBlock(d.Fragment,null,d.renderList(r.mediaSorted,u=>(d.openBlock(),d.createBlock(c,{key:u.id,media:u,onDelete:r.onDelete},null,8,["media","onDelete"]))),128))])):r.loaded?(d.openBlock(),d.createElementBlock("p",mv,"There is no uploaded media.")):(d.openBlock(),d.createElementBlock("p",gv,"Loading..."))],64)}const bv=ye(dv,[["render",yv]]),vv={name:"LaravelCmsAdminPagesListItem",props:["page"],setup(n,{emit:e}){async function t(){e("delete",n.page.id)}return{onDeleteClick:t}}};function wv(n,e,t,r,i,s){var c;const a=d.resolveComponent("router-link");return d.openBlock(),d.createElementBlock("tr",null,[d.createElementVNode("td",null,d.toDisplayString(t.page.id),1),d.createElementVNode("td",null,[d.createVNode(a,{to:"/pages/"+t.page.id},{default:d.withCtx(()=>[d.createTextVNode(d.toDisplayString(t.page.name),1)]),_:1},8,["to"])]),d.createElementVNode("td",null,d.toDisplayString(t.page.title),1),d.createElementVNode("td",null,d.toDisplayString(t.page.path),1),d.createElementVNode("td",null,d.toDisplayString((c=t.page.template)==null?void 0:c.name),1),d.createElementVNode("td",null,[d.createElementVNode("button",{onClick:e[0]||(e[0]=d.withModifiers((...u)=>r.onDeleteClick&&r.onDeleteClick(...u),["prevent"])),class:"btn btn-link text-error"}," Delete ")])])}const xv=ye(vv,[["render",wv]]),Ev={name:"LaravelCmsAdminPageAddForm",components:{},emits:["add"],setup(n,{emit:e}){const t=d.ref({}),r=d.ref([]);async function i(){const h=await(await fetch("/api/cms-templates")).json();r.value=h.data}async function s(){!this.valid||(e("add",t.value),t.value={})}function a(){t.value.path||(t.value.path="/"+t.value.title.toLowerCase().replace(/[^\w ]+/g,"").replace(/ +/g,"-"))}i();const c=d.computed(()=>t.value.name!=null&&t.value.title!=null&&t.value.path!=null&&t.value.cms_template_id!=null);return{newPage:t,templates:r,onSubmit:s,onTitleBlur:a,valid:c}}},Sv={class:"form-group form-inline mx-2"},kv=d.createElementVNode("label",{class:"form-label",for:"name"},"Name",-1),_v={class:"form-group form-inline mx-2"},Cv=d.createElementVNode("label",{class:"form-label",for:"title"},"Title",-1),Ov={class:"form-group form-inline mx-2"},Tv=d.createElementVNode("label",{class:"form-label",for:"template"},"Template",-1),Nv=d.createElementVNode("option",null,null,-1),Mv=["value"],Av={class:"form-group form-inline mx-2"},Dv=d.createElementVNode("label",{class:"form-label",for:"path"},"Path",-1),Rv=["disabled"],Iv={key:1};function Pv(n,e,t,r,i,s){const a=d.resolveComponent("router-link");return r.templates.length?(d.openBlock(),d.createElementBlock("form",{key:0,onSubmit:e[5]||(e[5]=d.withModifiers((...c)=>r.onSubmit&&r.onSubmit(...c),["prevent"]))},[d.createElementVNode("fieldset",null,[d.createElementVNode("div",Sv,[kv,d.withDirectives(d.createElementVNode("input",{class:"form-input",type:"text",name:"name",id:"name","onUpdate:modelValue":e[0]||(e[0]=c=>r.newPage.name=c)},null,512),[[d.vModelText,r.newPage.name]])]),d.createElementVNode("div",_v,[Cv,d.withDirectives(d.createElementVNode("input",{class:"form-input",type:"text",name:"title",id:"title",onBlur:e[1]||(e[1]=(...c)=>r.onTitleBlur&&r.onTitleBlur(...c)),"onUpdate:modelValue":e[2]||(e[2]=c=>r.newPage.title=c)},null,544),[[d.vModelText,r.newPage.title]])]),d.createElementVNode("div",Ov,[Tv,d.withDirectives(d.createElementVNode("select",{class:"form-select",name:"template",id:"template","onUpdate:modelValue":e[3]||(e[3]=c=>r.newPage.cms_template_id=c)},[Nv,(d.openBlock(!0),d.createElementBlock(d.Fragment,null,d.renderList(r.templates,c=>(d.openBlock(),d.createElementBlock("option",{key:c.id,value:c.id},d.toDisplayString(c.name),9,Mv))),128))],512),[[d.vModelSelect,r.newPage.cms_template_id,void 0,{number:!0}]])]),d.createElementVNode("div",Av,[Dv,d.withDirectives(d.createElementVNode("input",{class:"form-input",type:"text",name:"path",id:"path","onUpdate:modelValue":e[4]||(e[4]=c=>r.newPage.path=c)},null,512),[[d.vModelText,r.newPage.path]])]),d.createElementVNode("button",{class:"mx-2 btn btn-link",disabled:!r.valid}," Add Page ",8,Rv)])],32)):(d.openBlock(),d.createElementBlock("p",Iv,[d.createTextVNode(" You must set up "),d.createVNode(a,{to:"/templates"},{default:d.withCtx(()=>[d.createTextVNode("templates")]),_:1}),d.createTextVNode(" before adding a page. ")]))}const Bv={name:"LaravelCmsAdminPages",components:{ListItem:xv,AddForm:ye(Ev,[["render",Pv]])},setup(){const n=kf(),e=d.ref([]),t=d.ref(!1);async function r(){let c="/api/cms-pages?"+new URLSearchParams({"include[]":["template"]}).toString();const h=await(await fetch(c)).json();e.value=h.data,t.value=!0}async function i(c){const u=await fetch("/api/cms-pages",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(c)}),h=await u.json();if(!u.ok){ue({title:h.message,type:"error"});return}e.value.push(h.data),ue({title:"New page created.",type:"success"}),n.push("/pages/"+h.data.id)}async function s(c){if(!(await fetch("/api/cms-pages/"+c,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"DELETE"})).ok){ue({title:json.message,type:"error"});return}ue({title:"Page deleted.",type:"warn"});var h=e.value.map(p=>p.id).indexOf(c);~h&&e.value.splice(h,1)}return r(),{pagesSorted:d.computed(()=>wt.exports.sortBy(e.value||[],c=>c.name)),loaded:t,onAdd:i,onDelete:s}}},Lv=d.createElementVNode("h2",null,"Add Page",-1),Vv=d.createElementVNode("h2",null,"Existing Pages",-1),$v={key:0,class:"table"},Fv=d.createElementVNode("tr",null,[d.createElementVNode("th",null,"Id"),d.createElementVNode("th",null,"Name"),d.createElementVNode("th",null,"Title"),d.createElementVNode("th",null,"Path"),d.createElementVNode("th",null,"Template"),d.createElementVNode("th")],-1),zv={key:1},Hv={key:2};function Wv(n,e,t,r,i,s){const a=d.resolveComponent("add-form"),c=d.resolveComponent("list-item");return d.openBlock(),d.createElementBlock(d.Fragment,null,[Lv,d.createVNode(a,{onAdd:r.onAdd},null,8,["onAdd"]),Vv,r.loaded&&r.pagesSorted.length?(d.openBlock(),d.createElementBlock("table",$v,[Fv,(d.openBlock(!0),d.createElementBlock(d.Fragment,null,d.renderList(r.pagesSorted,u=>(d.openBlock(),d.createBlock(c,{key:u.id,page:u,onDelete:r.onDelete},null,8,["page","onDelete"]))),128))])):r.loaded?(d.openBlock(),d.createElementBlock("p",zv,"There are no pages.")):(d.openBlock(),d.createElementBlock("p",Hv,"Loading..."))],64)}const jv=ye(Bv,[["render",Wv]]),Uv={name:"LaravelCmsAdminPagePathsListItem",props:["path"],setup(n,{emit:e}){async function t(){e("delete",n.path.id)}return{onDeleteClick:t}}};function qv(n,e,t,r,i,s){return d.openBlock(),d.createElementBlock("tr",null,[d.createElementVNode("td",null,d.toDisplayString(t.path.id),1),d.createElementVNode("td",null,d.toDisplayString(t.path.path),1),d.createElementVNode("td",null,[d.createElementVNode("button",{onClick:e[0]||(e[0]=d.withModifiers((...a)=>r.onDeleteClick&&r.onDeleteClick(...a),["prevent"])),class:"btn btn-link text-error"}," Delete ")])])}const Kv=ye(Uv,[["render",qv]]),Jv={name:"LaravelCmsAdminPagePathsAddForm",components:{},emits:["add"],setup(n,{emit:e}){const t=d.ref({});async function r(){!this.valid||(e("add",t.value),t.value={})}const i=d.computed(()=>t.value.path!=null);return{newPath:t,onSubmit:r,valid:i}}},Gv={class:"form-group form-inline mx-2"},Yv=d.createElementVNode("label",{class:"form-label",for:"path"},"Path",-1),Xv=["disabled"];function Zv(n,e,t,r,i,s){return d.openBlock(),d.createElementBlock("form",{onSubmit:e[1]||(e[1]=d.withModifiers((...a)=>r.onSubmit&&r.onSubmit(...a),["prevent"]))},[d.createElementVNode("fieldset",null,[d.createElementVNode("div",Gv,[Yv,d.withDirectives(d.createElementVNode("input",{class:"form-input",type:"text",name:"path",id:"path","onUpdate:modelValue":e[0]||(e[0]=a=>r.newPath.path=a)},null,512),[[d.vModelText,r.newPath.path]])]),d.createElementVNode("button",{class:"btn btn-primary mx-2",disabled:!r.valid}," Add Path ",8,Xv)])],32)}const Qv={name:"LaravelCmsAdminPaths",components:{ListItem:Kv,AddForm:ye(Jv,[["render",Zv]])},props:["page"],setup(n,{emit:e}){const t=d.ref([]),r=d.ref(!1);async function i(){const h=await(await fetch("/api/cms-paths?cms_page_id="+n.page.id)).json();t.value=h.data,r.value=!0}async function s(u){u.cms_page_id=n.page.id;const h=await fetch("/api/cms-paths",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(u)}),p=await h.json();if(!h.ok){ue({title:p.message,type:"error"});return}ue({title:"New path added.",type:"success"}),t.value.push(Object.assign(u,p.data))}async function a(u){if(!(await fetch("/api/cms-paths/"+u,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"DELETE"})).ok){ue({title:json.message,type:"error"});return}ue({title:"Path deleted.",type:"warn"});var p=t.value.map(m=>m.id).indexOf(u);~p&&t.value.splice(p,1)}return i(),{pathsSorted:d.computed(()=>wt.exports.sortBy(t.value||[],u=>u.path)),loaded:r,onAdd:s,onDelete:a}}},e1={key:0,class:"table"},t1=d.createElementVNode("tr",null,[d.createElementVNode("th",null,"Id"),d.createElementVNode("th",{colspan:"2"},"Path")],-1),n1={key:1},r1={key:2};function i1(n,e,t,r,i,s){const a=d.resolveComponent("add-form"),c=d.resolveComponent("list-item");return d.openBlock(),d.createElementBlock(d.Fragment,null,[d.createVNode(a,{onAdd:r.onAdd},null,8,["onAdd"]),r.loaded&&r.pathsSorted.length?(d.openBlock(),d.createElementBlock("table",e1,[t1,(d.openBlock(!0),d.createElementBlock(d.Fragment,null,d.renderList(r.pathsSorted,u=>(d.openBlock(),d.createBlock(c,{key:u.id,path:u,onDelete:r.onDelete},null,8,["path","onDelete"]))),128))])):r.loaded?(d.openBlock(),d.createElementBlock("p",n1,"There are no paths.")):(d.openBlock(),d.createElementBlock("p",r1,"Loading..."))],64)}const o1=ye(Qv,[["render",i1]]),s1={name:"LaravelCmsAdminPageComponent",props:["component"],components:{},emits:["edit"],setup(n,{emit:e}){function t(){e("edit",n.component)}function r(){e("delete",n.component)}const i=d.computed(()=>n.component.html);return{onEditClick:t,onDeleteClick:r,preview:i}}},a1={class:"card mb-2"},l1={class:"card-header"},c1={class:"card-title h5"},u1={class:"card-subtitle text-gray"},f1=["innerHTML"],d1={class:"card-footer"};function p1(n,e,t,r,i,s){return d.openBlock(),d.createElementBlock("div",a1,[d.createElementVNode("div",l1,[d.createElementVNode("div",c1,d.toDisplayString(t.component.name),1),d.createElementVNode("div",u1,d.toDisplayString(t.component.view),1)]),d.createElementVNode("div",{class:"card-body",innerHTML:r.preview},null,8,f1),d.createElementVNode("div",d1,[d.createElementVNode("button",{class:"btn btn-link",onClick:e[0]||(e[0]=d.withModifiers((...a)=>r.onEditClick&&r.onEditClick(...a),["prevent"]))}," Edit "),d.createElementVNode("button",{class:"btn btn-link text-error float-right",onClick:e[1]||(e[1]=d.withModifiers((...a)=>r.onDeleteClick&&r.onDeleteClick(...a),["prevent"]))}," Delete ")])])}const Tf=ye(s1,[["render",p1]]),h1={name:"LaravelCmsAdminPageUnsortedComponents",components:{Component:Tf},props:["templateSections","components"],emits:["select","delete"],setup(n,{emit:e}){function t(i){e("select",i)}function r(i){e("delete",i)}return{onEdit:t,onDelete:r}}},m1=d.createElementVNode("p",null,"Unsorted Components",-1),g1={class:"table mb-2"};function y1(n,e,t,r,i,s){const a=d.resolveComponent("component");return d.openBlock(),d.createElementBlock(d.Fragment,null,[m1,d.createElementVNode("table",g1,[(d.openBlock(!0),d.createElementBlock(d.Fragment,null,d.renderList(t.components,c=>(d.openBlock(),d.createBlock(a,{key:c.id,component:c,onEdit:r.onEdit,onDelete:r.onDelete},null,8,["component","onEdit","onDelete"]))),128))])],64)}const b1=ye(h1,[["render",y1]]),v1={name:"LaravelCmsAdminPageTemplateSection",props:["templateSection","components"],components:{Component:Tf},setup(n,{emit:e}){async function t(s){e("select",s)}function r(s){e("delete",s)}return{includedComponents:d.computed(()=>{const s=wt.exports.filter(n.components,a=>a.cms_template_section_id==n.templateSection.id);return wt.exports.sortBy(s,"sort_order")}),onEdit:t,onDelete:r}}};function w1(n,e,t,r,i,s){const a=d.resolveComponent("component");return d.openBlock(),d.createElementBlock("fieldset",null,[d.createElementVNode("legend",null," Section: "+d.toDisplayString(t.templateSection.name)+" "+d.toDisplayString(t.templateSection.id),1),(d.openBlock(!0),d.createElementBlock(d.Fragment,null,d.renderList(r.includedComponents,c=>(d.openBlock(),d.createBlock(a,{key:c.id,component:c,onEdit:r.onEdit,onDelete:r.onDelete},null,8,["component","onEdit","onDelete"]))),128))])}const x1={name:"LaravelCmsAdminPageTemplateSections",components:{ListItem:ye(v1,[["render",w1]])},props:["templateSections","components"],setup(n,{emit:e}){async function t(i){e("select",i)}function r(i){e("delete",i)}return{onSelect:t,onDelete:r}}};function E1(n,e,t,r,i,s){const a=d.resolveComponent("list-item");return d.openBlock(),d.createElementBlock("form",null,[d.createElementVNode("fieldset",null,[(d.openBlock(!0),d.createElementBlock(d.Fragment,null,d.renderList(t.templateSections,c=>(d.openBlock(),d.createBlock(a,{key:c.id,"template-section":c,components:t.components,onSelect:r.onSelect,onDelete:r.onDelete},null,8,["template-section","components","onSelect","onDelete"]))),128))])])}const S1=ye(x1,[["render",E1]]);function lt(n){this.content=n}lt.prototype={constructor:lt,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var r=t&&t!=n?this.remove(t):this,i=r.find(n),s=r.content.slice();return i==-1?s.push(t||n,e):(s[i+1]=e,t&&(s[i]=t)),new lt(s)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new lt(t)},addToStart:function(n,e){return new lt([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new lt(t)},addBefore:function(n,e,t){var r=this.remove(e),i=r.content.slice(),s=r.find(n);return i.splice(s==-1?i.length:s,0,e,t),new lt(i)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=lt.from(n),n.size?new lt(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=lt.from(n),n.size?new lt(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=lt.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}},lt.from=function(n){if(n instanceof lt)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new lt(e)};function Nf(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let i=n.child(r),s=e.child(r);if(i==s){t+=i.nodeSize;continue}if(!i.sameMarkup(s))return t;if(i.isText&&i.text!=s.text){for(let a=0;i.text[a]==s.text[a];a++)t++;return t}if(i.content.size||s.content.size){let a=Nf(i.content,s.content,t+1);if(a!=null)return a}t+=i.nodeSize}}function Mf(n,e,t,r){for(let i=n.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:t,b:r};let a=n.child(--i),c=e.child(--s),u=a.nodeSize;if(a==c){t-=u,r-=u;continue}if(!a.sameMarkup(c))return{a:t,b:r};if(a.isText&&a.text!=c.text){let h=0,p=Math.min(a.text.length,c.text.length);for(;h<p&&a.text[a.text.length-h-1]==c.text[c.text.length-h-1];)h++,t--,r--;return{a:t,b:r}}if(a.content.size||c.content.size){let h=Mf(a.content,c.content,t-1,r-1);if(h)return h}t-=u,r-=u}}class F{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,i=0,s){for(let a=0,c=0;c<t;a++){let u=this.content[a],h=c+u.nodeSize;if(h>e&&r(u,i+c,s||null,a)!==!1&&u.content.size){let p=c+1;u.nodesBetween(Math.max(0,e-p),Math.min(u.content.size,t-p),r,i+p)}c=h}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,i){let s="",a=!0;return this.nodesBetween(e,t,(c,u)=>{c.isText?(s+=c.text.slice(Math.max(e,u)-u,t-u),a=!r):c.isLeaf?(i?s+=typeof i=="function"?i(c):i:c.type.spec.leafText&&(s+=c.type.spec.leafText(c)),a=!r):!a&&c.isBlock&&(s+=r,a=!0)},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(t.isText&&t.sameMarkup(r)&&(i[i.length-1]=t.withText(t.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new F(i,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],i=0;if(t>e)for(let s=0,a=0;a<t;s++){let c=this.content[s],u=a+c.nodeSize;u>e&&((a<e||u>t)&&(c.isText?c=c.cut(Math.max(0,e-a),Math.min(c.text.length,t-a)):c=c.cut(Math.max(0,e-a-1),Math.min(c.content.size,t-a-1))),r.push(c),i+=c.nodeSize),a=u}return new F(r,i)}cutByIndex(e,t){return e==t?F.empty:e==0&&t==this.content.length?this:new F(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let i=this.content.slice(),s=this.size+t.nodeSize-r.nodeSize;return i[e]=t,new F(i,s)}addToStart(e){return new F([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new F(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let i=this.content[t];e(i,r,t),r+=i.nodeSize}}findDiffStart(e,t=0){return Nf(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return Mf(this,e,t,r)}findIndex(e,t=-1){if(e==0)return ds(0,e);if(e==this.size)return ds(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let s=this.child(r),a=i+s.nodeSize;if(a>=e)return a==e||t>0?ds(r+1,a):ds(r,i);i=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return F.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new F(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return F.empty;let t,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(t||(t=e.slice(0,i)),t[t.length-1]=s.withText(t[t.length-1].text+s.text)):t&&t.push(s)}return new F(t||e,r)}static from(e){if(!e)return F.empty;if(e instanceof F)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new F([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}F.empty=new F([],0);const il={index:0,offset:0};function ds(n,e){return il.index=n,il.offset=e,il}function ps(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!ps(n[r],e[r]))return!1}else{for(let r in n)if(!(r in e)||!ps(n[r],e[r]))return!1;for(let r in e)if(!(r in n))return!1}return!0}class Ae{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))t||(t=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(t||(t=e.slice(0,i)),t.push(this),r=!0),t&&t.push(s)}}return t||(t=e.slice()),r||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&ps(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[t.type];if(!r)throw new RangeError(`There is no mark type ${t.type} in this schema`);return r.create(t.attrs)}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(t[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Ae.none;if(e instanceof Ae)return[e];let t=e.slice();return t.sort((r,i)=>r.type.rank-i.type.rank),t}}Ae.none=[];class hs extends Error{}class J{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=Df(this.content,e+this.openStart,t);return r&&new J(r,this.openStart,this.openEnd)}removeBetween(e,t){return new J(Af(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return J.empty;let r=t.openStart||0,i=t.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new J(F.fromJSON(e,t.content),r,i)}static maxOpen(e,t=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.lastChild)i++;return new J(e,r,i)}}J.empty=new J(F.empty,0,0);function Af(n,e,t){let{index:r,offset:i}=n.findIndex(e),s=n.maybeChild(r),{index:a,offset:c}=n.findIndex(t);if(i==e||s.isText){if(c!=t&&!n.child(a).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=a)throw new RangeError("Removing non-flat range");return n.replaceChild(r,s.copy(Af(s.content,e-i-1,t-i-1)))}function Df(n,e,t,r){let{index:i,offset:s}=n.findIndex(e),a=n.maybeChild(i);if(s==e||a.isText)return r&&!r.canReplace(i,i,t)?null:n.cut(0,e).append(t).append(n.cut(e));let c=Df(a.content,e-s-1,t);return c&&n.replaceChild(i,a.copy(c))}function k1(n,e,t){if(t.openStart>n.depth)throw new hs("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new hs("Inconsistent open depths");return Rf(n,e,t,0)}function Rf(n,e,t,r){let i=n.index(r),s=n.node(r);if(i==e.index(r)&&r<n.depth-t.openStart){let a=Rf(n,e,t,r+1);return s.copy(s.content.replaceChild(i,a))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==r&&e.depth==r){let a=n.parent,c=a.content;return Vr(a,c.cut(0,n.parentOffset).append(t.content).append(c.cut(e.parentOffset)))}else{let{start:a,end:c}=_1(t,n);return Vr(s,Pf(n,a,c,e,r))}else return Vr(s,ms(n,e,r))}function If(n,e){if(!e.type.compatibleContent(n.type))throw new hs("Cannot join "+e.type.name+" onto "+n.type.name)}function ol(n,e,t){let r=n.node(t);return If(r,e.node(t)),r}function Lr(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function fo(n,e,t,r){let i=(e||n).node(t),s=0,a=e?e.index(t):i.childCount;n&&(s=n.index(t),n.depth>t?s++:n.textOffset&&(Lr(n.nodeAfter,r),s++));for(let c=s;c<a;c++)Lr(i.child(c),r);e&&e.depth==t&&e.textOffset&&Lr(e.nodeBefore,r)}function Vr(n,e){return n.type.checkContent(e),n.copy(e)}function Pf(n,e,t,r,i){let s=n.depth>i&&ol(n,e,i+1),a=r.depth>i&&ol(t,r,i+1),c=[];return fo(null,n,i,c),s&&a&&e.index(i)==t.index(i)?(If(s,a),Lr(Vr(s,Pf(n,e,t,r,i+1)),c)):(s&&Lr(Vr(s,ms(n,e,i+1)),c),fo(e,t,i,c),a&&Lr(Vr(a,ms(t,r,i+1)),c)),fo(r,null,i,c),new F(c)}function ms(n,e,t){let r=[];if(fo(null,n,t,r),n.depth>t){let i=ol(n,e,t+1);Lr(Vr(i,ms(n,e,t+1)),r)}return fo(e,null,t,r),new F(r)}function _1(n,e){let t=e.depth-n.openStart,i=e.node(t).copy(n.content);for(let s=t-1;s>=0;s--)i=e.node(s).copy(F.from(i));return{start:i.resolveNoCache(n.openStart+t),end:i.resolveNoCache(i.content.size-n.openEnd-t)}}class po{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(t);return r?e.child(t).cut(r):i}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[t*3],i=t==0?0:this.path[t*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return Ae.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),i=e.maybeChild(t);if(!r){let c=r;r=i,i=c}let s=r.marks;for(var a=0;a<s.length;a++)s[a].type.spec.inclusive===!1&&(!i||!s[a].isInSet(i.marks))&&(s=s[a--].removeFromSet(s));return s}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new gs(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],i=0,s=t;for(let a=e;;){let{index:c,offset:u}=a.content.findIndex(s),h=s-u;if(r.push(a,c,i+u),!h||(a=a.child(c),a.isText))break;s=h-1,i+=u+1}return new po(t,r,s)}static resolveCached(e,t){for(let i=0;i<sl.length;i++){let s=sl[i];if(s.pos==t&&s.doc==e)return s}let r=sl[al]=po.resolve(e,t);return al=(al+1)%C1,r}}let sl=[],al=0,C1=12;class gs{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const O1=Object.create(null);class Nn{constructor(e,t,r,i=Ae.none){this.type=e,this.attrs=t,this.marks=i,this.content=r||F.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,i=0){this.content.nodesBetween(e,t,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,i){return this.content.textBetween(e,t,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&ps(this.attrs,t||e.defaultAttrs||O1)&&Ae.sameSet(this.marks,r||Ae.none)}copy(e=null){return e==this.content?this:new Nn(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Nn(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return J.empty;let i=this.resolve(e),s=this.resolve(t),a=r?0:i.sharedDepth(t),c=i.start(a),h=i.node(a).content.cut(i.pos-c,s.pos-c);return new J(h,i.depth-a,s.depth-a)}replace(e,t,r){return k1(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:i}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(i==e||t.isText)return t;e-=i+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let i=this.content.child(t-1);return{node:i,index:t-1,offset:r-i.nodeSize}}resolve(e){return po.resolveCached(this,e)}resolveNoCache(e){return po.resolve(this,e)}rangeHasMark(e,t,r){let i=!1;return t>e&&this.nodesBetween(e,t,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),Bf(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=F.empty,i=0,s=r.childCount){let a=this.contentMatchAt(e).matchFragment(r,i,s),c=a&&a.matchFragment(this.content,t);if(!c||!c.validEnd)return!1;for(let u=i;u<s;u++)if(!this.type.allowsMarks(r.child(u).marks))return!1;return!0}canReplaceWith(e,t,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),a=s&&s.matchFragment(this.content,t);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content);let e=Ae.none;for(let t=0;t<this.marks.length;t++)e=this.marks[t].addToSet(e);if(!Ae.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let i=F.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,i,r)}}Nn.prototype.text=void 0;class ys extends Nn{constructor(e,t,r,i){if(super(e,t,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Bf(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new ys(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new ys(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function Bf(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class $r{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new T1(e,t);if(r.next==null)return $r.empty;let i=Lf(r);r.next&&r.err("Unexpected trailing text");let s=P1(I1(i));return B1(s,r),s}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let i=this;for(let s=t;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let i=[this];function s(a,c){let u=a.matchFragment(e,r);if(u&&(!t||u.validEnd))return F.from(c.map(h=>h.createAndFill()));for(let h=0;h<a.next.length;h++){let{type:p,next:m}=a.next[h];if(!(p.isText||p.hasRequiredAttrs())&&i.indexOf(m)==-1){i.push(m);let y=s(m,c.concat(p));if(y)return y}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let a=[];for(let c=i;c.type;c=c.via)a.push(c.type);return a.reverse()}for(let a=0;a<s.next.length;a++){let{type:c,next:u}=s.next[a];!c.isLeaf&&!c.hasRequiredAttrs()&&!(c.name in t)&&(!i.type||u.validEnd)&&(r.push({match:c.contentMatch,type:c,via:i}),t[c.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&t(r.next[i].next)}return t(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)s+=(a?", ":"")+r.next[a].type.name+"->"+e.indexOf(r.next[a].next);return s}).join(`
`)}}$r.empty=new $r(!0);class T1{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function Lf(n){let e=[];do e.push(N1(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function N1(n){let e=[];do e.push(M1(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function M1(n){let e=R1(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=A1(n,e);else break;return e}function Vf(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function A1(n,e){let t=Vf(n),r=t;return n.eat(",")&&(n.next!="}"?r=Vf(n):r=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function D1(n,e){let t=n.nodeTypes,r=t[e];if(r)return[r];let i=[];for(let s in t){let a=t[s];a.groups.indexOf(e)>-1&&i.push(a)}return i.length==0&&n.err("No node type or group '"+e+"' found"),i}function R1(n){if(n.eat("(")){let e=Lf(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=D1(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function I1(n){let e=[[]];return i(s(n,0),t()),e;function t(){return e.push([])-1}function r(a,c,u){let h={term:u,to:c};return e[a].push(h),h}function i(a,c){a.forEach(u=>u.to=c)}function s(a,c){if(a.type=="choice")return a.exprs.reduce((u,h)=>u.concat(s(h,c)),[]);if(a.type=="seq")for(let u=0;;u++){let h=s(a.exprs[u],c);if(u==a.exprs.length-1)return h;i(h,c=t())}else if(a.type=="star"){let u=t();return r(c,u),i(s(a.expr,u),u),[r(u)]}else if(a.type=="plus"){let u=t();return i(s(a.expr,c),u),i(s(a.expr,u),u),[r(u)]}else{if(a.type=="opt")return[r(c)].concat(s(a.expr,c));if(a.type=="range"){let u=c;for(let h=0;h<a.min;h++){let p=t();i(s(a.expr,u),p),u=p}if(a.max==-1)i(s(a.expr,u),u);else for(let h=a.min;h<a.max;h++){let p=t();r(u,p),i(s(a.expr,u),p),u=p}return[r(u)]}else{if(a.type=="name")return[r(c,void 0,a.value)];throw new Error("Unknown expr type")}}}}function $f(n,e){return e-n}function Ff(n,e){let t=[];return r(e),t.sort($f);function r(i){let s=n[i];if(s.length==1&&!s[0].term)return r(s[0].to);t.push(i);for(let a=0;a<s.length;a++){let{term:c,to:u}=s[a];!c&&t.indexOf(u)==-1&&r(u)}}}function P1(n){let e=Object.create(null);return t(Ff(n,0));function t(r){let i=[];r.forEach(a=>{n[a].forEach(({term:c,to:u})=>{if(!c)return;let h;for(let p=0;p<i.length;p++)i[p][0]==c&&(h=i[p][1]);Ff(n,u).forEach(p=>{h||i.push([c,h=[]]),h.indexOf(p)==-1&&h.push(p)})})});let s=e[r.join(",")]=new $r(r.indexOf(n.length-1)>-1);for(let a=0;a<i.length;a++){let c=i[a][1].sort($f);s.next.push({type:i[a][0],next:e[c.join(",")]||t(c)})}return s}}function B1(n,e){for(let t=0,r=[n];t<r.length;t++){let i=r[t],s=!i.validEnd,a=[];for(let c=0;c<i.next.length;c++){let{type:u,next:h}=i.next[c];a.push(u.name),s&&!(u.isText||u.hasRequiredAttrs())&&(s=!1),r.indexOf(h)==-1&&r.push(h)}s&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function zf(n){let e=Object.create(null);for(let t in n){let r=n[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function Hf(n,e){let t=Object.create(null);for(let r in n){let i=e&&e[r];if(i===void 0){let s=n[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}t[r]=i}return t}function Wf(n){let e=Object.create(null);if(n)for(let t in n)e[t]=new L1(n[t]);return e}class bs{constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=Wf(r.attrs),this.defaultAttrs=zf(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==$r.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:Hf(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Nn(this,this.computeAttrs(e),F.from(t),Ae.setFrom(r))}createChecked(e=null,t,r){return t=F.from(t),this.checkContent(t),new Nn(this,this.computeAttrs(e),t,Ae.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),t=F.from(t),t.size){let a=this.contentMatch.fillBefore(t);if(!a)return null;t=a.append(t)}let i=this.contentMatch.matchFragment(t),s=i&&i.fillBefore(F.empty,!0);return s?new Nn(this,e,t.append(s),Ae.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:Ae.none:e}static compile(e,t){let r=Object.create(null);e.forEach((s,a)=>r[s]=new bs(s,t,a));let i=t.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}}class L1{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class vs{constructor(e,t,r,i){this.name=e,this.rank=t,this.schema=r,this.spec=i,this.attrs=Wf(i.attrs),this.excluded=null;let s=zf(this.attrs);this.instance=s?new Ae(this,s):null}create(e=null){return!e&&this.instance?this.instance:new Ae(this,Hf(this.attrs,e))}static compile(e,t){let r=Object.create(null),i=0;return e.forEach((s,a)=>r[s]=new vs(s,i++,t,a)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}excludes(e){return this.excluded.indexOf(e)>-1}}class V1{constructor(e){this.cached=Object.create(null),this.spec={nodes:lt.from(e.nodes),marks:lt.from(e.marks||{}),topNode:e.topNode},this.nodes=bs.compile(this.spec.nodes,this),this.marks=vs.compile(this.spec.marks,this);let t=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let i=this.nodes[r],s=i.spec.content||"",a=i.spec.marks;i.contentMatch=t[s]||(t[s]=$r.parse(s,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.markSet=a=="_"?null:a?jf(this,a.split(" ")):a==""||!i.inlineContent?[]:null}for(let r in this.marks){let i=this.marks[r],s=i.spec.excludes;i.excluded=s==null?[i]:s==""?[]:jf(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof bs){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,r,i)}text(e,t){let r=this.nodes.text;return new ys(r,r.defaultAttrs,e,Ae.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return Nn.fromJSON(this,e)}markFromJSON(e){return Ae.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function jf(n,e){let t=[];for(let r=0;r<e.length;r++){let i=e[r],s=n.marks[i],a=s;if(s)t.push(s);else for(let c in n.marks){let u=n.marks[c];(i=="_"||u.spec.group&&u.spec.group.split(" ").indexOf(i)>-1)&&t.push(a=u)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}class di{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[],t.forEach(r=>{r.tag?this.tags.push(r):r.style&&this.styles.push(r)}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let i=e.nodes[r.node];return i.contentMatch.matchType(i)})}parse(e,t={}){let r=new Jf(this,t,!1);return r.addAll(e,t.from,t.to),r.finish()}parseSlice(e,t={}){let r=new Jf(this,t,!0);return r.addAll(e,t.from,t.to),J.maxOpen(r.finish())}matchTag(e,t,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(z1(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||t.matchesContext(s.context))){if(s.getAttrs){let a=s.getAttrs(e);if(a===!1)continue;s.attrs=a||void 0}return s}}}matchStyle(e,t,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let a=this.styles[s],c=a.style;if(!(c.indexOf(e)!=0||a.context&&!r.matchesContext(a.context)||c.length>e.length&&(c.charCodeAt(e.length)!=61||c.slice(e.length+1)!=t))){if(a.getAttrs){let u=a.getAttrs(t);if(u===!1)continue;a.attrs=u||void 0}return a}}}static schemaRules(e){let t=[];function r(i){let s=i.priority==null?50:i.priority,a=0;for(;a<t.length;a++){let c=t[a];if((c.priority==null?50:c.priority)<s)break}t.splice(a,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(a=>{r(a=Gf(a)),a.mark=i})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(a=>{r(a=Gf(a)),a.node=i})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new di(e,di.schemaRules(e)))}}const Uf={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},$1={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},qf={ol:!0,ul:!0},ws=1,xs=2,ho=4;function Kf(n,e,t){return e!=null?(e?ws:0)|(e==="full"?xs:0):n&&n.whitespace=="pre"?ws|xs:t&~ho}class Es{constructor(e,t,r,i,s,a,c){this.type=e,this.attrs=t,this.marks=r,this.pendingMarks=i,this.solid=s,this.options=c,this.content=[],this.activeMarks=Ae.none,this.stashMarks=[],this.match=a||(c&ho?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(F.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&ws)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let t=F.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(F.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}popFromStashMark(e){for(let t=this.stashMarks.length-1;t>=0;t--)if(e.eq(this.stashMarks[t]))return this.stashMarks.splice(t,1)[0]}applyPending(e){for(let t=0,r=this.pendingMarks;t<r.length;t++){let i=r[t];(this.type?this.type.allowsMarkType(i.type):W1(i.type,e))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Uf.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Jf{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0;let i=t.topNode,s,a=Kf(null,t.preserveWhitespace,0)|(r?ho:0);i?s=new Es(i.type,i.attrs,Ae.none,Ae.none,!0,t.topMatch||i.type.contentMatch,a):r?s=new Es(null,null,Ae.none,Ae.none,!0,null,a):s=new Es(e.schema.topNodeType,null,Ae.none,Ae.none,!0,null,a),this.nodes=[s],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){if(e.nodeType==3)this.addTextNode(e);else if(e.nodeType==1){let t=e.getAttribute("style"),r=t?this.readStyles(H1(t)):null,i=this.top;if(r!=null)for(let s=0;s<r.length;s++)this.addPendingMark(r[s]);if(this.addElement(e),r!=null)for(let s=0;s<r.length;s++)this.removePendingMark(r[s],i)}}addTextNode(e){let t=e.nodeValue,r=this.top;if(r.options&xs||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(t)){if(r.options&ws)r.options&xs?t=t.replace(/\r\n?/g,`
`):t=t.replace(/\r?\n|\r/g," ");else if(t=t.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1){let i=r.content[r.content.length-1],s=e.previousSibling;(!i||s&&s.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(t=t.slice(1))}t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e)}else this.findInside(e)}addElement(e,t){let r=e.nodeName.toLowerCase(),i;qf.hasOwnProperty(r)&&this.parser.normalizeLists&&F1(e);let s=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,t));if(s?s.ignore:$1.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!s||s.skip||s.closeParent){s&&s.closeParent?this.open=Math.max(0,this.open-1):s&&s.skip.nodeType&&(e=s.skip);let a,c=this.top,u=this.needsBlock;if(Uf.hasOwnProperty(r))c.content.length&&c.content[0].isInline&&this.open&&(this.open--,c=this.top),a=!0,c.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}this.addAll(e),a&&this.sync(c),this.needsBlock=u}else this.addElementByRule(e,s,s.consuming===!1?i:void 0)}leafFallback(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))}ignoreFallback(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let t=Ae.none;e:for(let r=0;r<e.length;r+=2)for(let i=void 0;;){let s=this.parser.matchStyle(e[r],e[r+1],this,i);if(!s)continue e;if(s.ignore)return null;if(t=this.parser.schema.marks[s.mark].create(s.attrs).addToSet(t),s.consuming===!1)i=s;else break}return t}addElementByRule(e,t,r){let i,s,a;t.node?(s=this.parser.schema.nodes[t.node],s.isLeaf?this.insertNode(s.create(t.attrs))||this.leafFallback(e):i=this.enter(s,t.attrs||null,t.preserveWhitespace)):(a=this.parser.schema.marks[t.mark].create(t.attrs),this.addPendingMark(a));let c=this.top;if(s&&s.isLeaf)this.findInside(e);else if(r)this.addElement(e,r);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(u=>this.insertNode(u));else{let u=e;typeof t.contentElement=="string"?u=e.querySelector(t.contentElement):typeof t.contentElement=="function"?u=t.contentElement(e):t.contentElement&&(u=t.contentElement),this.findAround(e,u,!0),this.addAll(u)}i&&this.sync(c)&&this.open--,a&&this.removePendingMark(a,c)}addAll(e,t,r){let i=t||0;for(let s=t?e.childNodes[t]:e.firstChild,a=r==null?null:e.childNodes[r];s!=a;s=s.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(s);this.findAtPoint(e,i)}findPlace(e){let t,r;for(let i=this.open;i>=0;i--){let s=this.nodes[i],a=s.findWrapping(e);if(a&&(!t||t.length>a.length)&&(t=a,r=s,!a.length)||s.solid)break}if(!t)return!1;this.sync(r);for(let i=0;i<t.length;i++)this.enterInner(t[i],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let t=this.textblockFromContext();t&&this.enterInner(t)}if(this.findPlace(e)){this.closeExtra();let t=this.top;t.applyPending(e.type),t.match&&(t.match=t.match.matchType(e.type));let r=t.activeMarks;for(let i=0;i<e.marks.length;i++)(!t.type||t.type.allowsMarkType(e.marks[i].type))&&(r=e.marks[i].addToSet(r));return t.content.push(e.mark(r)),!0}return!1}enter(e,t,r){let i=this.findPlace(e.create(t));return i&&this.enterInner(e,t,!0,r),i}enterInner(e,t=null,r=!1,i){this.closeExtra();let s=this.top;s.applyPending(e),s.match=s.match&&s.match.matchType(e);let a=Kf(e,i,s.options);s.options&ho&&s.content.length==0&&(a|=ho),this.nodes.push(new Es(e,t,s.activeMarks,s.pendingMarks,r,null,a)),this.open++}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let t=this.open;t>=0;t--)if(this.nodes[t]==e)return this.open=t,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&t.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),a=(c,u)=>{for(;c>=0;c--){let h=t[c];if(h==""){if(c==t.length-1||c==0)continue;for(;u>=s;u--)if(a(c-1,u))return!0;return!1}else{let p=u>0||u==0&&i?this.nodes[u].type:r&&u>=s?r.node(u-s).type:null;if(!p||p.name!=h&&p.groups.indexOf(h)==-1)return!1;u--}}return!0};return a(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(e){let t=j1(e,this.top.pendingMarks);t&&this.top.stashMarks.push(t),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,t){for(let r=this.open;r>=0;r--){let i=this.nodes[r];if(i.pendingMarks.lastIndexOf(e)>-1)i.pendingMarks=e.removeFromSet(i.pendingMarks);else{i.activeMarks=e.removeFromSet(i.activeMarks);let a=i.popFromStashMark(e);a&&i.type&&i.type.allowsMarkType(a.type)&&(i.activeMarks=a.addToSet(i.activeMarks))}if(i==t)break}}}function F1(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&qf.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):r=="li"?t=e:r&&(t=null)}}function z1(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function H1(n){let e=/\s*([\w-]+)\s*:\s*([^;]+)/g,t,r=[];for(;t=e.exec(n);)r.push(t[1],t[2].trim());return r}function Gf(n){let e={};for(let t in n)e[t]=n[t];return e}function W1(n,e){let t=e.schema.nodes;for(let r in t){let i=t[r];if(!i.allowsMarkType(n))continue;let s=[],a=c=>{s.push(c);for(let u=0;u<c.edgeCount;u++){let{type:h,next:p}=c.edge(u);if(h==e||s.indexOf(p)<0&&a(p))return!0}};if(a(i.contentMatch))return!0}}function j1(n,e){for(let t=0;t<e.length;t++)if(n.eq(e[t]))return e[t]}class Mn{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},r){r||(r=ll(t).createDocumentFragment());let i=r,s=[];return e.forEach(a=>{if(s.length||a.marks.length){let c=0,u=0;for(;c<s.length&&u<a.marks.length;){let h=a.marks[u];if(!this.marks[h.type.name]){u++;continue}if(!h.eq(s[c][0])||h.type.spec.spanning===!1)break;c++,u++}for(;c<s.length;)i=s.pop()[1];for(;u<a.marks.length;){let h=a.marks[u++],p=this.serializeMark(h,a.isInline,t);p&&(s.push([h,i]),i.appendChild(p.dom),i=p.contentDOM||p.dom)}}i.appendChild(this.serializeNodeInner(a,t))}),r}serializeNodeInner(e,t){let{dom:r,contentDOM:i}=Mn.renderSpec(ll(t),this.nodes[e.type.name](e));if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,i)}return r}serializeNode(e,t={}){let r=this.serializeNodeInner(e,t);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,t);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,t,r={}){let i=this.marks[e.type.name];return i&&Mn.renderSpec(ll(r),i(e,t))}static renderSpec(e,t,r=null){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let i=t[0],s=i.indexOf(" ");s>0&&(r=i.slice(0,s),i=i.slice(s+1));let a,c=r?e.createElementNS(r,i):e.createElement(i),u=t[1],h=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){h=2;for(let p in u)if(u[p]!=null){let m=p.indexOf(" ");m>0?c.setAttributeNS(p.slice(0,m),p.slice(m+1),u[p]):c.setAttribute(p,u[p])}}for(let p=h;p<t.length;p++){let m=t[p];if(m===0){if(p<t.length-1||p>h)throw new RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}else{let{dom:y,contentDOM:b}=Mn.renderSpec(e,m,r);if(c.appendChild(y),b){if(a)throw new RangeError("Multiple content holes");a=b}}}return{dom:c,contentDOM:a}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Mn(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=Yf(e.nodes);return t.text||(t.text=r=>r.text),t}static marksFromSchema(e){return Yf(e.marks)}}function Yf(n){let e={};for(let t in n){let r=n[t].spec.toDOM;r&&(e[t]=r)}return e}function ll(n){return n.document||window.document}const Xf=65535,Zf=Math.pow(2,16);function U1(n,e){return n+e*Zf}function Qf(n){return n&Xf}function q1(n){return(n-(n&Xf))/Zf}const ed=1,td=2,Ss=4,nd=8;class cl{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&nd)>0}get deletedBefore(){return(this.delInfo&(ed|Ss))>0}get deletedAfter(){return(this.delInfo&(td|Ss))>0}get deletedAcross(){return(this.delInfo&Ss)>0}}class tn{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&tn.empty)return tn.empty}recover(e){let t=0,r=Qf(e);if(!this.inverted)for(let i=0;i<r;i++)t+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+t+q1(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let i=0,s=this.inverted?2:1,a=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let u=this.ranges[c]-(this.inverted?i:0);if(u>e)break;let h=this.ranges[c+s],p=this.ranges[c+a],m=u+h;if(e<=m){let y=h?e==u?-1:e==m?1:t:t,b=u+i+(y<0?0:p);if(r)return b;let E=e==(t<0?u:m)?null:U1(c/3,e-u),S=e==u?td:e==m?ed:Ss;return(t<0?e!=u:e!=m)&&(S|=nd),new cl(b,S,E)}i+=p-h}return r?e+i:new cl(e+i,0,null)}touches(e,t){let r=0,i=Qf(t),s=this.inverted?2:1,a=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let u=this.ranges[c]-(this.inverted?r:0);if(u>e)break;let h=this.ranges[c+s],p=u+h;if(e<=p&&c==i*3)return!0;r+=this.ranges[c+a]-h}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let a=this.ranges[i],c=a-(this.inverted?s:0),u=a+(this.inverted?0:s),h=this.ranges[i+t],p=this.ranges[i+r];e(c,c+h,u,u+p),s+=p-h}}invert(){return new tn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?tn.empty:new tn(e<0?[0,-e,0]:[0,0,e])}}tn.empty=new tn([]);class pi{constructor(e=[],t,r=0,i=e.length){this.maps=e,this.mirror=t,this.from=r,this.to=i}slice(e=0,t=this.maps.length){return new pi(this.maps,this.mirror,e,t)}copy(){return new pi(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,t){this.to=this.maps.push(e),t!=null&&this.setMirror(this.maps.length-1,t)}appendMapping(e){for(let t=0,r=this.maps.length;t<e.maps.length;t++){let i=e.getMirror(t);this.appendMap(e.maps[t],i!=null&&i<t?r+i:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this.maps.length+e.maps.length;t>=0;t--){let i=e.getMirror(t);this.appendMap(e.maps[t].invert(),i!=null&&i>t?r-i-1:void 0)}}invert(){let e=new pi;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let i=0;for(let s=this.from;s<this.to;s++){let a=this.maps[s],c=a.mapResult(e,t);if(c.recover!=null){let u=this.getMirror(s);if(u!=null&&u>s&&u<this.to){s=u,e=this.maps[u].recover(c.recover);continue}}i|=c.delInfo,e=c.pos}return r?e:new cl(e,i,null)}}const ul=Object.create(null);class At{getMap(){return tn.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=ul[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in ul)throw new RangeError("Duplicate use of step JSON ID "+e);return ul[e]=t,t.prototype.jsonID=e,t}}class Qe{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new Qe(e,null)}static fail(e){return new Qe(null,e)}static fromReplace(e,t,r,i){try{return Qe.ok(e.replace(t,r,i))}catch(s){if(s instanceof hs)return Qe.fail(s.message);throw s}}}function fl(n,e,t){let r=[];for(let i=0;i<n.childCount;i++){let s=n.child(i);s.content.size&&(s=s.copy(fl(s.content,e,s))),s.isInline&&(s=e(s,t,i)),r.push(s)}return F.fromArray(r)}class ur extends At{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new J(fl(t.content,(a,c)=>!a.isAtom||!c.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),i),t.openStart,t.openEnd);return Qe.fromReplace(e,this.from,this.to,s)}invert(){return new An(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new ur(t.pos,r.pos,this.mark)}merge(e){return e instanceof ur&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ur(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new ur(t.from,t.to,e.markFromJSON(t.mark))}}At.jsonID("addMark",ur);class An extends At{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new J(fl(t.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),t.openStart,t.openEnd);return Qe.fromReplace(e,this.from,this.to,r)}invert(){return new ur(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new An(t.pos,r.pos,this.mark)}merge(e){return e instanceof An&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new An(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new An(t.from,t.to,e.markFromJSON(t.mark))}}At.jsonID("removeMark",An);class fr extends At{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Qe.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return Qe.fromReplace(e,this.pos,this.pos+1,new J(F.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let i=0;i<t.marks.length;i++)if(!t.marks[i].isInSet(r))return new fr(this.pos,t.marks[i]);return new fr(this.pos,this.mark)}}return new hi(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new fr(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new fr(t.pos,e.markFromJSON(t.mark))}}At.jsonID("addNodeMark",fr);class hi extends At{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Qe.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return Qe.fromReplace(e,this.pos,this.pos+1,new J(F.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new fr(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new hi(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new hi(t.pos,e.markFromJSON(t.mark))}}At.jsonID("removeNodeMark",hi);class ht extends At{constructor(e,t,r,i=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=i}apply(e){return this.structure&&dl(e,this.from,this.to)?Qe.fail("Structure replace would overwrite content"):Qe.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new tn([this.from,this.to-this.from,this.slice.size])}invert(e){return new ht(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new ht(t.pos,Math.max(t.pos,r.pos),this.slice)}merge(e){if(!(e instanceof ht)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?J.empty:new J(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new ht(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?J.empty:new J(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new ht(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ht(t.from,t.to,J.fromJSON(e,t.slice),!!t.structure)}}At.jsonID("replace",ht);class rt extends At{constructor(e,t,r,i,s,a,c=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=a,this.structure=c}apply(e){if(this.structure&&(dl(e,this.from,this.gapFrom)||dl(e,this.gapTo,this.to)))return Qe.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return Qe.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?Qe.fromReplace(e,this.from,this.to,r):Qe.fail("Content does not fit in gap")}getMap(){return new tn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new rt(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=e.map(this.gapFrom,-1),s=e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||i<t.pos||s>r.pos?null:new rt(t.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new rt(t.from,t.to,t.gapFrom,t.gapTo,J.fromJSON(e,t.slice),t.insert,!!t.structure)}}At.jsonID("replaceAround",rt);function dl(n,e,t){let r=n.resolve(e),i=t-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let a=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,i--}}return!1}function K1(n,e,t,r){let i=[],s=[],a,c;n.doc.nodesBetween(e,t,(u,h,p)=>{if(!u.isInline)return;let m=u.marks;if(!r.isInSet(m)&&p.type.allowsMarkType(r.type)){let y=Math.max(h,e),b=Math.min(h+u.nodeSize,t),E=r.addToSet(m);for(let S=0;S<m.length;S++)m[S].isInSet(E)||(a&&a.to==y&&a.mark.eq(m[S])?a.to=b:i.push(a=new An(y,b,m[S])));c&&c.to==y?c.to=b:s.push(c=new ur(y,b,r))}}),i.forEach(u=>n.step(u)),s.forEach(u=>n.step(u))}function J1(n,e,t,r){let i=[],s=0;n.doc.nodesBetween(e,t,(a,c)=>{if(!a.isInline)return;s++;let u=null;if(r instanceof vs){let h=a.marks,p;for(;p=r.isInSet(h);)(u||(u=[])).push(p),h=p.removeFromSet(h)}else r?r.isInSet(a.marks)&&(u=[r]):u=a.marks;if(u&&u.length){let h=Math.min(c+a.nodeSize,t);for(let p=0;p<u.length;p++){let m=u[p],y;for(let b=0;b<i.length;b++){let E=i[b];E.step==s-1&&m.eq(i[b].style)&&(y=E)}y?(y.to=h,y.step=s):i.push({style:m,from:Math.max(c,e),to:h,step:s})}}}),i.forEach(a=>n.step(new An(a.from,a.to,a.style)))}function G1(n,e,t,r=t.contentMatch){let i=n.doc.nodeAt(e),s=[],a=e+1;for(let c=0;c<i.childCount;c++){let u=i.child(c),h=a+u.nodeSize,p=r.matchType(u.type);if(!p)s.push(new ht(a,h,J.empty));else{r=p;for(let m=0;m<u.marks.length;m++)t.allowsMarkType(u.marks[m].type)||n.step(new An(a,h,u.marks[m]))}a=h}if(!r.validEnd){let c=r.fillBefore(F.empty,!0);n.replace(a,a,new J(c,0,0))}for(let c=s.length-1;c>=0;c--)n.step(s[c])}function Y1(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function mi(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth;;--r){let i=n.$from.node(r),s=n.$from.index(r),a=n.$to.indexAfter(r);if(r<n.depth&&i.canReplace(s,a,t))return r;if(r==0||i.type.spec.isolating||!Y1(i,s,a))break}return null}function X1(n,e,t){let{$from:r,$to:i,depth:s}=e,a=r.before(s+1),c=i.after(s+1),u=a,h=c,p=F.empty,m=0;for(let E=s,S=!1;E>t;E--)S||r.index(E)>0?(S=!0,p=F.from(r.node(E).copy(p)),m++):u--;let y=F.empty,b=0;for(let E=s,S=!1;E>t;E--)S||i.after(E+1)<i.end(E)?(S=!0,y=F.from(i.node(E).copy(y)),b++):h++;n.step(new rt(u,h,a,c,new J(p.append(y),m,b),p.size-m,!0))}function pl(n,e,t=null,r=n){let i=Z1(n,e),s=i&&Q1(r,e);return s?i.map(rd).concat({type:e,attrs:t}).concat(s.map(rd)):null}function rd(n){return{type:n,attrs:null}}function Z1(n,e){let{parent:t,startIndex:r,endIndex:i}=n,s=t.contentMatchAt(r).findWrapping(e);if(!s)return null;let a=s.length?s[0]:e;return t.canReplaceWith(r,i,a)?s:null}function Q1(n,e){let{parent:t,startIndex:r,endIndex:i}=n,s=t.child(r),a=e.contentMatch.findWrapping(s.type);if(!a)return null;let u=(a.length?a[a.length-1]:e).contentMatch;for(let h=r;u&&h<i;h++)u=u.matchType(t.child(h).type);return!u||!u.validEnd?null:a}function ew(n,e,t){let r=F.empty;for(let a=t.length-1;a>=0;a--){if(r.size){let c=t[a].type.contentMatch.matchFragment(r);if(!c||!c.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=F.from(t[a].type.create(t[a].attrs,r))}let i=e.start,s=e.end;n.step(new rt(i,s,i,s,new J(r,0,0),t.length,!0))}function tw(n,e,t,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=n.steps.length;n.doc.nodesBetween(e,t,(a,c)=>{if(a.isTextblock&&!a.hasMarkup(r,i)&&nw(n.doc,n.mapping.slice(s).map(c),r)){n.clearIncompatible(n.mapping.slice(s).map(c,1),r);let u=n.mapping.slice(s),h=u.map(c,1),p=u.map(c+a.nodeSize,1);return n.step(new rt(h,p,h+1,p-1,new J(F.from(r.create(i,null,a.marks)),0,0),1,!0)),!1}})}function nw(n,e,t){let r=n.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,t)}function rw(n,e,t,r,i){let s=n.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");t||(t=s.type);let a=t.create(r,null,i||s.marks);if(s.isLeaf)return n.replaceWith(e,e+s.nodeSize,a);if(!t.validContent(s.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new rt(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new J(F.from(a),0,0),1,!0))}function gi(n,e,t=1,r){let i=n.resolve(e),s=i.depth-t,a=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let h=i.depth-1,p=t-2;h>s;h--,p--){let m=i.node(h),y=i.index(h);if(m.type.spec.isolating)return!1;let b=m.content.cutByIndex(y,m.childCount),E=r&&r[p]||m;if(E!=m&&(b=b.replaceChild(0,E.type.create(E.attrs))),!m.canReplace(y+1,m.childCount)||!E.type.validContent(b))return!1}let c=i.indexAfter(s),u=r&&r[0];return i.node(s).canReplaceWith(c,c,u?u.type:i.node(s+1).type)}function iw(n,e,t=1,r){let i=n.doc.resolve(e),s=F.empty,a=F.empty;for(let c=i.depth,u=i.depth-t,h=t-1;c>u;c--,h--){s=F.from(i.node(c).copy(s));let p=r&&r[h];a=F.from(p?p.type.create(p.attrs,a):i.node(c).copy(a))}n.step(new ht(e,e,new J(s.append(a),t,t),!0))}function yi(n,e){let t=n.resolve(e),r=t.index();return ow(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function ow(n,e){return!!(n&&e&&!n.isLeaf&&n.canAppend(e))}function sw(n,e,t){let r=new ht(e-t,e+t,J.empty,!0);n.step(r)}function aw(n,e,t){let r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,t))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,t))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function id(n,e,t){let r=n.resolve(e);if(!t.content.size)return e;let i=t.content;for(let s=0;s<t.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(t.openStart==0&&t.size?2:1);s++)for(let a=r.depth;a>=0;a--){let c=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,u=r.index(a)+(c>0?1:0),h=r.node(a),p=!1;if(s==1)p=h.canReplace(u,u,i);else{let m=h.contentMatchAt(u).findWrapping(i.firstChild.type);p=m&&h.canReplaceWith(u,u,m[0])}if(p)return c==0?r.pos:c<0?r.before(a+1):r.after(a+1)}return null}function hl(n,e,t=e,r=J.empty){if(e==t&&!r.size)return null;let i=n.resolve(e),s=n.resolve(t);return od(i,s,r)?new ht(e,t,r):new lw(i,s,r).fit()}function od(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class lw{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=F.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=F.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let h=this.findFittable();h?this.placeNodes(h):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,a=r.depth,c=i.depth;for(;a&&c&&s.childCount==1;)s=s.firstChild.content,a--,c--;let u=new J(s,a,c);return e>-1?new rt(r.pos,e,this.$to.pos,this.$to.end(),u,t):u.size||r.pos!=this.$to.pos?new ht(r.pos,i.pos,u):null}findFittable(){for(let e=1;e<=2;e++)for(let t=this.unplaced.openStart;t>=0;t--){let r,i=null;t?(i=ml(this.unplaced.content,t-1).firstChild,r=i.content):r=this.unplaced.content;let s=r.firstChild;for(let a=this.depth;a>=0;a--){let{type:c,match:u}=this.frontier[a],h,p=null;if(e==1&&(s?u.matchType(s.type)||(p=u.fillBefore(F.from(s),!1)):i&&c.compatibleContent(i.type)))return{sliceDepth:t,frontierDepth:a,parent:i,inject:p};if(e==2&&s&&(h=u.findWrapping(s.type)))return{sliceDepth:t,frontierDepth:a,parent:i,wrap:h};if(i&&u.matchType(i.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=ml(e,t);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new J(e,t+1,Math.max(r,i.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=ml(e,t);if(i.childCount<=1&&t>0){let s=e.size-t<=t+i.size;this.unplaced=new J(mo(e,t-1,1),t-1,s?t-1:r)}else this.unplaced=new J(mo(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:i,wrap:s}){for(;this.depth>t;)this.closeFrontierNode();if(s)for(let S=0;S<s.length;S++)this.openFrontierNode(s[S]);let a=this.unplaced,c=r?r.content:a.content,u=a.openStart-e,h=0,p=[],{match:m,type:y}=this.frontier[t];if(i){for(let S=0;S<i.childCount;S++)p.push(i.child(S));m=m.matchFragment(i)}let b=c.size+e-(a.content.size-a.openEnd);for(;h<c.childCount;){let S=c.child(h),O=m.matchType(S.type);if(!O)break;h++,(h>1||u==0||S.content.size)&&(m=O,p.push(sd(S.mark(y.allowedMarks(S.marks)),h==1?u:0,h==c.childCount?b:-1)))}let E=h==c.childCount;E||(b=-1),this.placed=go(this.placed,t,F.from(p)),this.frontier[t].match=m,E&&b<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let S=0,O=c;S<b;S++){let M=O.lastChild;this.frontier.push({type:M.type,match:M.contentMatchAt(M.childCount)}),O=M.content}this.unplaced=E?e==0?J.empty:new J(mo(a.content,e-1,1),e-1,b<0?a.openEnd:e-1):new J(mo(a.content,e,h),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!gl(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:i}=this.frontier[t],s=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),a=gl(e,t,i,r,s);if(!!a){for(let c=t-1;c>=0;c--){let{match:u,type:h}=this.frontier[c],p=gl(e,c,h,u,!0);if(!p||p.childCount)continue e}return{depth:t,fit:a,move:s?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=go(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,t=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=go(this.placed,this.depth,F.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(F.empty,!0);t.childCount&&(this.placed=go(this.placed,this.frontier.length,t))}}function mo(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(mo(n.firstChild.content,e-1,t)))}function go(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(go(n.lastChild.content,e-1,t)))}function ml(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function sd(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,sd(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(F.empty,!0)))),n.copy(r)}function gl(n,e,t,r,i){let s=n.node(e),a=i?n.indexAfter(e):n.index(e);if(a==s.childCount&&!t.compatibleContent(s.type))return null;let c=r.fillBefore(s.content,!0,a);return c&&!cw(t,s.content,a)?c:null}function cw(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}function uw(n){return n.spec.defining||n.spec.definingForContent}function fw(n,e,t,r){if(!r.size)return n.deleteRange(e,t);let i=n.doc.resolve(e),s=n.doc.resolve(t);if(od(i,s,r))return n.step(new ht(e,t,r));let a=ld(i,n.doc.resolve(t));a[a.length-1]==0&&a.pop();let c=-(i.depth+1);a.unshift(c);for(let y=i.depth,b=i.pos-1;y>0;y--,b--){let E=i.node(y).type.spec;if(E.defining||E.definingAsContext||E.isolating)break;a.indexOf(y)>-1?c=y:i.before(y)==b&&a.splice(1,0,-y)}let u=a.indexOf(c),h=[],p=r.openStart;for(let y=r.content,b=0;;b++){let E=y.firstChild;if(h.push(E),b==r.openStart)break;y=E.content}for(let y=p-1;y>=0;y--){let b=h[y].type,E=uw(b);if(E&&i.node(u).type!=b)p=y;else if(E||!b.isTextblock)break}for(let y=r.openStart;y>=0;y--){let b=(y+p+1)%(r.openStart+1),E=h[b];if(!!E)for(let S=0;S<a.length;S++){let O=a[(S+u)%a.length],M=!0;O<0&&(M=!1,O=-O);let I=i.node(O-1),z=i.index(O-1);if(I.canReplaceWith(z,z,E.type,E.marks))return n.replace(i.before(O),M?s.after(O):t,new J(ad(r.content,0,r.openStart,b),b,r.openEnd))}}let m=n.steps.length;for(let y=a.length-1;y>=0&&(n.replace(e,t,r),!(n.steps.length>m));y--){let b=a[y];b<0||(e=i.before(b),t=s.after(b))}}function ad(n,e,t,r,i){if(e<t){let s=n.firstChild;n=n.replaceChild(0,s.copy(ad(s.content,e+1,t,r,s)))}if(e>r){let s=i.contentMatchAt(0),a=s.fillBefore(n).append(n);n=a.append(s.matchFragment(a).fillBefore(F.empty,!0))}return n}function dw(n,e,t,r){if(!r.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let i=aw(n.doc,e,r.type);i!=null&&(e=t=i)}n.replaceRange(e,t,new J(F.from(r),0,0))}function pw(n,e,t){let r=n.doc.resolve(e),i=n.doc.resolve(t),s=ld(r,i);for(let a=0;a<s.length;a++){let c=s[a],u=a==s.length-1;if(u&&c==0||r.node(c).type.contentMatch.validEnd)return n.delete(r.start(c),i.end(c));if(c>0&&(u||r.node(c-1).canReplace(r.index(c-1),i.indexAfter(c-1))))return n.delete(r.before(c),i.after(c))}for(let a=1;a<=r.depth&&a<=i.depth;a++)if(e-r.start(a)==r.depth-a&&t>r.end(a)&&i.end(a)-t!=i.depth-a)return n.delete(r.before(a),t);n.delete(e,t)}function ld(n,e){let t=[],r=Math.min(n.depth,e.depth);for(let i=r;i>=0;i--){let s=n.start(i);if(s<n.pos-(n.depth-i)||e.end(i)>e.pos+(e.depth-i)||n.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==n.depth&&i==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&t.push(i)}return t}class bi extends At{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return Qe.fail("No node at attribute step's position");let r=Object.create(null);for(let s in t.attrs)r[s]=t.attrs[s];r[this.attr]=this.value;let i=t.type.create(r,null,t.marks);return Qe.fromReplace(e,this.pos,this.pos+1,new J(F.from(i),0,t.isLeaf?0:1))}getMap(){return tn.empty}invert(e){return new bi(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new bi(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new bi(t.pos,t.attr,t.value)}}At.jsonID("attr",bi);let vi=class extends Error{};vi=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t},vi.prototype=Object.create(Error.prototype),vi.prototype.constructor=vi,vi.prototype.name="TransformError";class hw{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new pi}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new vi(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=J.empty){let i=hl(this.doc,e,t,r);return i&&this.step(i),this}replaceWith(e,t,r){return this.replace(e,t,new J(F.from(r),0,0))}delete(e,t){return this.replace(e,t,J.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return fw(this,e,t,r),this}replaceRangeWith(e,t,r){return dw(this,e,t,r),this}deleteRange(e,t){return pw(this,e,t),this}lift(e,t){return X1(this,e,t),this}join(e,t=1){return sw(this,e,t),this}wrap(e,t){return ew(this,e,t),this}setBlockType(e,t=e,r,i=null){return tw(this,e,t,r,i),this}setNodeMarkup(e,t,r=null,i=[]){return rw(this,e,t,r,i),this}setNodeAttribute(e,t,r){return this.step(new bi(e,t,r)),this}addNodeMark(e,t){return this.step(new fr(e,t)),this}removeNodeMark(e,t){if(!(t instanceof Ae)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t=t.isInSet(r.marks),!t)return this}return this.step(new hi(e,t)),this}split(e,t=1,r){return iw(this,e,t,r),this}addMark(e,t,r){return K1(this,e,t,r),this}removeMark(e,t,r){return J1(this,e,t,r),this}clearIncompatible(e,t,r){return G1(this,e,t,r),this}}const yl=Object.create(null);class de{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new mw(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=J.empty){let r=t.content.lastChild,i=null;for(let c=0;c<t.openEnd;c++)i=r,r=r.lastChild;let s=e.steps.length,a=this.ranges;for(let c=0;c<a.length;c++){let{$from:u,$to:h}=a[c],p=e.mapping.slice(s);e.replaceRange(p.map(u.pos),p.map(h.pos),c?J.empty:t),c==0&&fd(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:a,$to:c}=i[s],u=e.mapping.slice(r),h=u.map(a.pos),p=u.map(c.pos);s?e.deleteRange(h,p):(e.replaceRangeWith(h,p,t),fd(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let i=e.parent.inlineContent?new me(e):wi(e.node(0),e.parent,e.pos,e.index(),t,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let a=t<0?wi(e.node(0),e.node(s),e.before(s+1),e.index(s),t,r):wi(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,t,r);if(a)return a}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new yn(e.node(0))}static atStart(e){return wi(e,e,0,0,1)||new yn(e)}static atEnd(e){return wi(e,e,e.content.size,e.childCount,-1)||new yn(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=yl[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in yl)throw new RangeError("Duplicate use of selection JSON ID "+e);return yl[e]=t,t.prototype.jsonID=e,t}getBookmark(){return me.between(this.$anchor,this.$head).getBookmark()}}de.prototype.visible=!0;class mw{constructor(e,t){this.$from=e,this.$to=t}}let cd=!1;function ud(n){!cd&&!n.parent.inlineContent&&(cd=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class me extends de{constructor(e,t=e){ud(e),ud(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return de.near(r);let i=e.resolve(t.map(this.anchor));return new me(i.parent.inlineContent?i:r,r)}replace(e,t=J.empty){if(super.replace(e,t),t==J.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof me&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new ks(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new me(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let i=e.resolve(t);return new this(i,r==t?i:e.resolve(r))}static between(e,t,r){let i=e.pos-t.pos;if((!r||i)&&(r=i>=0?1:-1),!t.parent.inlineContent){let s=de.findFrom(t,r,!0)||de.findFrom(t,-r,!0);if(s)t=s.$head;else return de.near(t,r)}return e.parent.inlineContent||(i==0?e=t:(e=(de.findFrom(e,-r,!0)||de.findFrom(e,r,!0)).$anchor,e.pos<t.pos!=i<0&&(e=t))),new me(e,t)}}de.jsonID("text",me);class ks{constructor(e,t){this.anchor=e,this.head=t}map(e){return new ks(e.map(this.anchor),e.map(this.head))}resolve(e){return me.between(e.resolve(this.anchor),e.resolve(this.head))}}class se extends de{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:i}=t.mapResult(this.anchor),s=e.resolve(i);return r?de.near(s):new se(s)}content(){return new J(F.from(this.node),0,0)}eq(e){return e instanceof se&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new bl(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new se(e.resolve(t.anchor))}static create(e,t){return new se(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}se.prototype.visible=!1,de.jsonID("node",se);class bl{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new ks(r,r):new bl(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&se.isSelectable(r)?new se(t):de.near(t)}}class yn extends de{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=J.empty){if(t==J.empty){e.delete(0,e.doc.content.size);let r=de.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new yn(e)}map(e){return new yn(e)}eq(e){return e instanceof yn}getBookmark(){return gw}}de.jsonID("all",yn);const gw={map(){return this},resolve(n){return new yn(n)}};function wi(n,e,t,r,i,s=!1){if(e.inlineContent)return me.create(n,t);for(let a=r-(i>0?0:1);i>0?a<e.childCount:a>=0;a+=i){let c=e.child(a);if(c.isAtom){if(!s&&se.isSelectable(c))return se.create(n,t-(i<0?c.nodeSize:0))}else{let u=wi(n,c,t+i,i<0?c.childCount:0,i,s);if(u)return u}t+=c.nodeSize*i}return null}function fd(n,e,t){let r=n.steps.length-1;if(r<e)return;let i=n.steps[r];if(!(i instanceof ht||i instanceof rt))return;let s=n.mapping.maps[r],a;s.forEach((c,u,h,p)=>{a==null&&(a=p)}),n.setSelection(de.near(n.doc.resolve(a),t))}const dd=1,_s=2,pd=4;class yw extends hw{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|dd)&~_s,this.storedMarks=null,this}get selectionSet(){return(this.updated&dd)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=_s,this}ensureMarks(e){return Ae.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&_s)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~_s,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Ae.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let i=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=t),r=r==null?t:r,!e)return this.deleteRange(t,r);let s=this.storedMarks;if(!s){let a=this.doc.resolve(t);s=r==t?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,i.text(e,s)),this.selection.empty||this.setSelection(de.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=pd,this}get scrolledIntoView(){return(this.updated&pd)>0}}function hd(n,e){return!e||!n?n:n.bind(e)}class yo{constructor(e,t,r){this.name=e,this.init=hd(t.init,r),this.apply=hd(t.apply,r)}}const bw=[new yo("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new yo("selection",{init(n,e){return n.selection||de.atStart(e.doc)},apply(n){return n.selection}}),new yo("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,r){return r.selection.$cursor?n.storedMarks:null}}),new yo("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class vl{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=bw.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new yo(r.key,r.spec.state,r))})}}class xi{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=t){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let a=0;a<this.config.plugins.length;a++){let c=this.config.plugins[a];if(c.spec.appendTransaction){let u=i?i[a].n:0,h=i?i[a].state:this,p=u<t.length&&c.spec.appendTransaction.call(c,u?t.slice(u):t,h,r);if(p&&r.filterTransaction(p,a)){if(p.setMeta("appendedTransaction",e),!i){i=[];for(let m=0;m<this.config.plugins.length;m++)i.push(m<a?{state:r,n:t.length}:{state:this,n:0})}t.push(p),r=r.applyInner(p),s=!0}i&&(i[a]={state:r,n:t.length})}}if(!s)return{state:r,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new xi(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];t[s.name]=s.apply(e,this[s.name],this,t)}return t}get tr(){return new yw(this)}static create(e){let t=new vl(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new xi(t);for(let i=0;i<t.fields.length;i++)r[t.fields[i].name]=t.fields[i].init(e,r);return r}reconfigure(e){let t=new vl(this.schema,e.plugins),r=t.fields,i=new xi(t);for(let s=0;s<r.length;s++){let a=r[s].name;i[a]=this.hasOwnProperty(a)?this[a]:r[s].init(e,i)}return i}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(t[r]=s.toJSON.call(i,this[i.key]))}return t}static fromJSON(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new vl(e.schema,e.plugins),s=new xi(i);return i.fields.forEach(a=>{if(a.name=="doc")s.doc=Nn.fromJSON(e.schema,t.doc);else if(a.name=="selection")s.selection=de.fromJSON(s.doc,t.selection);else if(a.name=="storedMarks")t.storedMarks&&(s.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let c in r){let u=r[c],h=u.spec.state;if(u.key==a.name&&h&&h.fromJSON&&Object.prototype.hasOwnProperty.call(t,c)){s[a.name]=h.fromJSON.call(u,e,t[c],s);return}}s[a.name]=a.init(e,s)}}),s}}function md(n,e,t){for(let r in n){let i=n[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=md(i,e,{})),t[r]=i}return t}class Dt{constructor(e){this.spec=e,this.props={},e.props&&md(e.props,this,this.props),this.key=e.key?e.key.key:gd("plugin")}getState(e){return e[this.key]}}const wl=Object.create(null);function gd(n){return n in wl?n+"$"+ ++wl[n]:(wl[n]=0,n+"$")}class Dn{constructor(e="key"){this.key=gd(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Ut=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},bo=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let yd=null;const qn=function(n,e,t){let r=yd||(yd=document.createRange());return r.setEnd(n,t==null?n.nodeValue.length:t),r.setStart(n,e||0),r},Fr=function(n,e,t,r){return t&&(bd(n,e,t,r,-1)||bd(n,e,t,r,1))},vw=/^(img|br|input|textarea|hr)$/i;function bd(n,e,t,r,i){for(;;){if(n==t&&e==r)return!0;if(e==(i<0?0:Rn(n))){let s=n.parentNode;if(!s||s.nodeType!=1||xw(n)||vw.test(n.nodeName)||n.contentEditable=="false")return!1;e=Ut(n)+(i<0?0:1),n=s}else if(n.nodeType==1){if(n=n.childNodes[e+(i<0?-1:0)],n.contentEditable=="false")return!1;e=i<0?Rn(n):0}else return!1}}function Rn(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function ww(n,e,t){for(let r=e==0,i=e==Rn(n);r||i;){if(n==t)return!0;let s=Ut(n);if(n=n.parentNode,!n)return!1;r=r&&s==0,i=i&&s==Rn(n)}}function xw(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const Cs=function(n){return n.focusNode&&Fr(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function Ei(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function Ew(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}const dr=typeof navigator<"u"?navigator:null,vd=typeof document<"u"?document:null,pr=dr&&dr.userAgent||"",xl=/Edge\/(\d+)/.exec(pr),wd=/MSIE \d/.exec(pr),El=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(pr),Rt=!!(wd||El||xl),hr=wd?document.documentMode:El?+El[1]:xl?+xl[1]:0,bn=!Rt&&/gecko\/(\d+)/i.test(pr);bn&&+(/Firefox\/(\d+)/.exec(pr)||[0,0])[1];const Sl=!Rt&&/Chrome\/(\d+)/.exec(pr),It=!!Sl,Sw=Sl?+Sl[1]:0,xt=!Rt&&!!dr&&/Apple Computer/.test(dr.vendor),Si=xt&&(/Mobile\/\w+/.test(pr)||!!dr&&dr.maxTouchPoints>2),nn=Si||(dr?/Mac/.test(dr.platform):!1),In=/Android \d/.test(pr),Os=!!vd&&"webkitFontSmoothing"in vd.documentElement.style,kw=Os?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function _w(n){return{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function mr(n,e){return typeof n=="number"?n:n[e]}function Cw(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,r=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*r}}function xd(n,e,t){let r=n.someProp("scrollThreshold")||0,i=n.someProp("scrollMargin")||5,s=n.dom.ownerDocument;for(let a=t||n.dom;a;a=bo(a)){if(a.nodeType!=1)continue;let c=a,u=c==s.body,h=u?_w(s):Cw(c),p=0,m=0;if(e.top<h.top+mr(r,"top")?m=-(h.top-e.top+mr(i,"top")):e.bottom>h.bottom-mr(r,"bottom")&&(m=e.bottom-h.bottom+mr(i,"bottom")),e.left<h.left+mr(r,"left")?p=-(h.left-e.left+mr(i,"left")):e.right>h.right-mr(r,"right")&&(p=e.right-h.right+mr(i,"right")),p||m)if(u)s.defaultView.scrollBy(p,m);else{let y=c.scrollLeft,b=c.scrollTop;m&&(c.scrollTop+=m),p&&(c.scrollLeft+=p);let E=c.scrollLeft-y,S=c.scrollTop-b;e={left:e.left-E,top:e.top-S,right:e.right-E,bottom:e.bottom-S}}if(u)break}}function Ow(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,a=t+1;a<Math.min(innerHeight,e.bottom);a+=5){let c=n.root.elementFromPoint(s,a);if(!c||c==n.dom||!n.dom.contains(c))continue;let u=c.getBoundingClientRect();if(u.top>=t-20){r=c,i=u.top;break}}return{refDOM:r,refTop:i,stack:Ed(n.dom)}}function Ed(n){let e=[],t=n.ownerDocument;for(let r=n;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=t);r=bo(r));return e}function Tw({refDOM:n,refTop:e,stack:t}){let r=n?n.getBoundingClientRect().top:0;Sd(t,r==0?0:r-e)}function Sd(n,e){for(let t=0;t<n.length;t++){let{dom:r,top:i,left:s}=n[t];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let ki=null;function Nw(n){if(n.setActive)return n.setActive();if(ki)return n.focus(ki);let e=Ed(n);n.focus(ki==null?{get preventScroll(){return ki={preventScroll:!0},!0}}:void 0),ki||(ki=!1,Sd(e,0))}function kd(n,e){let t,r=2e8,i,s=0,a=e.top,c=e.top;for(let u=n.firstChild,h=0;u;u=u.nextSibling,h++){let p;if(u.nodeType==1)p=u.getClientRects();else if(u.nodeType==3)p=qn(u).getClientRects();else continue;for(let m=0;m<p.length;m++){let y=p[m];if(y.top<=a&&y.bottom>=c){a=Math.max(y.bottom,a),c=Math.min(y.top,c);let b=y.left>e.left?y.left-e.left:y.right<e.left?e.left-y.right:0;if(b<r){t=u,r=b,i=b&&t.nodeType==3?{left:y.right<e.left?y.right:y.left,top:e.top}:e,u.nodeType==1&&b&&(s=h+(e.left>=(y.left+y.right)/2?1:0));continue}}!t&&(e.left>=y.right&&e.top>=y.top||e.left>=y.left&&e.top>=y.bottom)&&(s=h+1)}}return t&&t.nodeType==3?Mw(t,i):!t||r&&t.nodeType==1?{node:n,offset:s}:kd(t,i)}function Mw(n,e){let t=n.nodeValue.length,r=document.createRange();for(let i=0;i<t;i++){r.setEnd(n,i+1),r.setStart(n,i);let s=gr(r,1);if(s.top!=s.bottom&&kl(e,s))return{node:n,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:n,offset:0}}function kl(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function Aw(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function Dw(n,e,t){let{node:r,offset:i}=kd(e,t),s=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();s=a.left!=a.right&&t.left>(a.left+a.right)/2?1:-1}return n.docView.posFromDOM(r,i,s)}function Rw(n,e,t,r){let i=-1;for(let s=e;s!=n.dom;){let a=n.docView.nearestDesc(s,!0);if(!a)return null;if(a.node.isBlock&&a.parent){let c=a.dom.getBoundingClientRect();if(c.left>r.left||c.top>r.top)i=a.posBefore;else if(c.right<r.left||c.bottom<r.top)i=a.posAfter;else break}s=a.dom.parentNode}return i>-1?i:n.docView.posFromDOM(e,t,1)}function _d(n,e,t){let r=n.childNodes.length;if(r&&t.top<t.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),s=i;;){let a=n.childNodes[s];if(a.nodeType==1){let c=a.getClientRects();for(let u=0;u<c.length;u++){let h=c[u];if(kl(e,h))return _d(a,e,h)}}if((s=(s+1)%r)==i)break}return n}function Iw(n,e){let t=n.dom.ownerDocument,r,i=0;if(t.caretPositionFromPoint)try{let u=t.caretPositionFromPoint(e.left,e.top);u&&({offsetNode:r,offset:i}=u)}catch{}if(!r&&t.caretRangeFromPoint){let u=t.caretRangeFromPoint(e.left,e.top);u&&({startContainer:r,startOffset:i}=u)}let s=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),a;if(!s||!n.dom.contains(s.nodeType!=1?s.parentNode:s)){let u=n.dom.getBoundingClientRect();if(!kl(e,u)||(s=_d(n.dom,e,u),!s))return null}if(xt)for(let u=s;r&&u;u=bo(u))u.draggable&&(r=void 0);if(s=Aw(s,e),r){if(bn&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let u=r.childNodes[i],h;u.nodeName=="IMG"&&(h=u.getBoundingClientRect()).right<=e.left&&h.bottom>e.top&&i++}r==n.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?a=n.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(a=Rw(n,r,i,e))}a==null&&(a=Dw(n,s,e));let c=n.docView.nearestDesc(s,!0);return{pos:a,inside:c?c.posAtStart-c.border:-1}}function gr(n,e){let t=n.getClientRects();return t.length?t[e<0?0:t.length-1]:n.getBoundingClientRect()}const Pw=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Cd(n,e,t){let{node:r,offset:i,atom:s}=n.docView.domFromPos(e,t<0?-1:1),a=Os||bn;if(r.nodeType==3)if(a&&(Pw.test(r.nodeValue)||(t<0?!i:i==r.nodeValue.length))){let u=gr(qn(r,i,i),t);if(bn&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let h=gr(qn(r,i-1,i-1),-1);if(h.top==u.top){let p=gr(qn(r,i,i+1),-1);if(p.top!=u.top)return vo(p,p.left<h.left)}}return u}else{let u=i,h=i,p=t<0?1:-1;return t<0&&!i?(h++,p=-1):t>=0&&i==r.nodeValue.length?(u--,p=1):t<0?u--:h++,vo(gr(qn(r,u,h),1),p<0)}if(!n.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(t<0||i==Rn(r))){let u=r.childNodes[i-1];if(u.nodeType==1)return _l(u.getBoundingClientRect(),!1)}if(s==null&&i<Rn(r)){let u=r.childNodes[i];if(u.nodeType==1)return _l(u.getBoundingClientRect(),!0)}return _l(r.getBoundingClientRect(),t>=0)}if(s==null&&i&&(t<0||i==Rn(r))){let u=r.childNodes[i-1],h=u.nodeType==3?qn(u,Rn(u)-(a?0:1)):u.nodeType==1&&(u.nodeName!="BR"||!u.nextSibling)?u:null;if(h)return vo(gr(h,1),!1)}if(s==null&&i<Rn(r)){let u=r.childNodes[i];for(;u.pmViewDesc&&u.pmViewDesc.ignoreForCoords;)u=u.nextSibling;let h=u?u.nodeType==3?qn(u,0,a?0:1):u.nodeType==1?u:null:null;if(h)return vo(gr(h,-1),!0)}return vo(gr(r.nodeType==3?qn(r):r,-t),t>=0)}function vo(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function _l(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function Od(n,e,t){let r=n.state,i=n.root.activeElement;r!=e&&n.updateState(e),i!=n.dom&&n.focus();try{return t()}finally{r!=e&&n.updateState(r),i!=n.dom&&i&&i.focus()}}function Bw(n,e,t){let r=e.selection,i=t=="up"?r.$from:r.$to;return Od(n,e,()=>{let{node:s}=n.docView.domFromPos(i.pos,t=="up"?-1:1);for(;;){let c=n.docView.nearestDesc(s,!0);if(!c)break;if(c.node.isBlock){s=c.dom;break}s=c.dom.parentNode}let a=Cd(n,i.pos,1);for(let c=s.firstChild;c;c=c.nextSibling){let u;if(c.nodeType==1)u=c.getClientRects();else if(c.nodeType==3)u=qn(c,0,c.nodeValue.length).getClientRects();else continue;for(let h=0;h<u.length;h++){let p=u[h];if(p.bottom>p.top+1&&(t=="up"?a.top-p.top>(p.bottom-a.top)*2:p.bottom-a.bottom>(a.bottom-p.top)*2))return!1}}return!0})}const Lw=/[\u0590-\u08ac]/;function Vw(n,e,t){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,a=i==r.parent.content.size,c=n.domSelection();return!Lw.test(r.parent.textContent)||!c.modify?t=="left"||t=="backward"?s:a:Od(n,e,()=>{let{focusNode:u,focusOffset:h,anchorNode:p,anchorOffset:m}=n.domSelectionRange(),y=c.caretBidiLevel;c.modify("move",t,"character");let b=r.depth?n.docView.domAfterPos(r.before()):n.dom,{focusNode:E,focusOffset:S}=n.domSelectionRange(),O=E&&!b.contains(E.nodeType==1?E:E.parentNode)||u==E&&h==S;try{c.collapse(p,m),u&&(u!=p||h!=m)&&c.extend&&c.extend(u,h)}catch{}return y!=null&&(c.caretBidiLevel=y),O})}let Td=null,Nd=null,Md=!1;function $w(n,e,t){return Td==e&&Nd==t?Md:(Td=e,Nd=t,Md=t=="up"||t=="down"?Bw(n,e,t):Vw(n,e,t))}const vn=0,Ad=1,_i=2,Pn=3;class wo{constructor(e,t,r,i){this.parent=e,this.children=t,this.dom=r,this.contentDOM=i,this.dirty=vn,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let i=this.children[t];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,a;if(e==this.contentDOM)s=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(a)+a.size:this.posAtStart}else{let s,a;if(e==this.contentDOM)s=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(a):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=t>Ut(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&t==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return(i==null?r>0:i)?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),a;if(s&&(!t||s.node))if(r&&(a=s.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))r=!1;else return s}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let i=this.children[t],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let a=this.children[r],c=s+a.size;if(c>e||a instanceof Id){i=e-s;break}s=c}if(i)return this.children[r].domFromPos(i-this.children[r].border,t);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof Dd&&s.side>=0;r--);if(t<=0){let s,a=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,a=!1);return s&&t&&a&&!s.border&&!s.domAtom?s.domFromPos(s.size,t):{node:this.contentDOM,offset:s?Ut(s.dom)+1:0}}else{let s,a=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,a=!1);return s&&a&&!s.border&&!s.domAtom?s.domFromPos(0,t):{node:this.contentDOM,offset:s?Ut(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let a=r,c=0;;c++){let u=this.children[c],h=a+u.size;if(i==-1&&e<=h){let p=a+u.border;if(e>=p&&t<=h-u.border&&u.node&&u.contentDOM&&this.contentDOM.contains(u.contentDOM))return u.parseRange(e,t,p);e=a;for(let m=c;m>0;m--){let y=this.children[m-1];if(y.size&&y.dom.parentNode==this.contentDOM&&!y.emptyChildAt(1)){i=Ut(y.dom)+1;break}e-=y.size}i==-1&&(i=0)}if(i>-1&&(h>t||c==this.children.length-1)){t=h;for(let p=c+1;p<this.children.length;p++){let m=this.children[p];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){s=Ut(m.dom);break}t+=m.size}s==-1&&(s=this.contentDOM.childNodes.length);break}a=h}return{node:this.contentDOM,from:e,to:t,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(t.nodeType!=1||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,i=!1){let s=Math.min(e,t),a=Math.max(e,t);for(let y=0,b=0;y<this.children.length;y++){let E=this.children[y],S=b+E.size;if(s>b&&a<S)return E.setSelection(e-b-E.border,t-b-E.border,r,i);b=S}let c=this.domFromPos(e,e?-1:1),u=t==e?c:this.domFromPos(t,t?-1:1),h=r.getSelection(),p=!1;if((bn||xt)&&e==t){let{node:y,offset:b}=c;if(y.nodeType==3){if(p=!!(b&&y.nodeValue[b-1]==`
`),p&&b==y.nodeValue.length)for(let E=y,S;E;E=E.parentNode){if(S=E.nextSibling){S.nodeName=="BR"&&(c=u={node:S.parentNode,offset:Ut(S)+1});break}let O=E.pmViewDesc;if(O&&O.node&&O.node.isBlock)break}}else{let E=y.childNodes[b-1];p=E&&(E.nodeName=="BR"||E.contentEditable=="false")}}if(bn&&h.focusNode&&h.focusNode!=u.node&&h.focusNode.nodeType==1){let y=h.focusNode.childNodes[h.focusOffset];y&&y.contentEditable=="false"&&(i=!0)}if(!(i||p&&xt)&&Fr(c.node,c.offset,h.anchorNode,h.anchorOffset)&&Fr(u.node,u.offset,h.focusNode,h.focusOffset))return;let m=!1;if((h.extend||e==t)&&!p){h.collapse(c.node,c.offset);try{e!=t&&h.extend(u.node,u.offset),m=!0}catch{}}if(!m){if(e>t){let b=c;c=u,u=b}let y=document.createRange();y.setEnd(u.node,u.offset),y.setStart(c.node,c.offset),h.removeAllRanges(),h.addRange(y)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],a=r+s.size;if(r==a?e<=a&&t>=r:e<a&&t>r){let c=r+s.border,u=a-s.border;if(e>=c&&t<=u){this.dirty=e==r||t==a?_i:Ad,e==c&&t==u&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=Pn:s.markDirty(e-c,t-c);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?_i:Pn}r=a}this.dirty=_i}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=e==1?_i:Ad;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class Dd extends wo{constructor(e,t,r,i){let s,a=t.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!t.type.spec.raw){if(a.nodeType!=1){let c=document.createElement("span");c.appendChild(a),a=c}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=t,this.widget=t,s=this}matchesWidget(e){return this.dirty==vn&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class Fw extends wo{constructor(e,t,r,i){super(e,[],t,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class zr extends wo{constructor(e,t,r,i){super(e,[],r,i),this.mark=t}static create(e,t,r,i){let s=i.nodeViews[t.type.name],a=s&&s(t,i,r);return(!a||!a.dom)&&(a=Mn.renderSpec(document,t.type.spec.toDOM(t,r))),new zr(e,t,a.dom,a.contentDOM||a.dom)}parseRule(){return this.dirty&Pn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(e){return this.dirty!=Pn&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=vn){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=vn}}slice(e,t,r){let i=zr.create(this.parent,this.mark,!0,r),s=this.children,a=this.size;t<a&&(s=Tl(s,t,a,r)),e>0&&(s=Tl(s,0,e,r));for(let c=0;c<s.length;c++)s[c].parent=i;return i.children=s,i}}class Hr extends wo{constructor(e,t,r,i,s,a,c,u,h){super(e,[],s,a),this.node=t,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=c,a&&this.updateChildren(u,h)}static create(e,t,r,i,s,a){let c=s.nodeViews[t.type.name],u,h=c&&c(t,s,()=>{if(!u)return a;if(u.parent)return u.parent.posBeforeChild(u)},r,i),p=h&&h.dom,m=h&&h.contentDOM;if(t.isText){if(!p)p=document.createTextNode(t.text);else if(p.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else p||({dom:p,contentDOM:m}=Mn.renderSpec(document,t.type.spec.toDOM(t)));!m&&!t.isText&&p.nodeName!="BR"&&(p.hasAttribute("contenteditable")||(p.contentEditable="false"),t.type.spec.draggable&&(p.draggable=!0));let y=p;return p=Ld(p,r,t),h?u=new zw(e,t,r,i,p,m||null,y,h,s,a+1):t.isText?new Ts(e,t,r,i,p,y,s):new Hr(e,t,r,i,p,m||null,y,s,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let r=this.children[t];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>F.empty)}return e}matchesNode(e,t,r){return this.dirty==vn&&e.eq(this.node)&&Ol(t,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let r=this.node.inlineContent,i=t,s=e.composing?this.localCompositionInfo(e,t):null,a=s&&s.pos>-1?s:null,c=s&&s.pos<0,u=new Ww(this,a&&a.node,e);qw(this.node,this.innerDeco,(h,p,m)=>{h.spec.marks?u.syncToMarks(h.spec.marks,r,e):h.type.side>=0&&!m&&u.syncToMarks(p==this.node.childCount?Ae.none:this.node.child(p).marks,r,e),u.placeWidget(h,e,i)},(h,p,m,y)=>{u.syncToMarks(h.marks,r,e);let b;u.findNodeMatch(h,p,m,y)||c&&e.state.selection.from>i&&e.state.selection.to<i+h.nodeSize&&(b=u.findIndexWithChild(s.node))>-1&&u.updateNodeAt(h,p,m,b,e)||u.updateNextNode(h,p,m,e,y)||u.addNode(h,p,m,e,i),i+=h.nodeSize}),u.syncToMarks([],r,e),this.node.isTextblock&&u.addTextblockHacks(),u.destroyRest(),(u.changed||this.dirty==_i)&&(a&&this.protectLocalComposition(e,a),Pd(this.contentDOM,this.children,e),Si&&Kw(this.dom))}localCompositionInfo(e,t){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof me)||r<t||i>t+this.node.content.size)return null;let s=e.domSelectionRange(),a=Jw(s.focusNode,s.focusOffset);if(!a||!this.dom.contains(a.parentNode))return null;if(this.node.inlineContent){let c=a.nodeValue,u=Gw(this.node.content,c,r-t,i-t);return u<0?null:{node:a,pos:u,text:c}}else return{node:a,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:r,text:i}){if(this.getDesc(t))return;let s=t;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let a=new Fw(this,s,t,i);e.input.compositionNodes.push(a),this.children=Tl(this.children,r,r+i.length,e,a)}update(e,t,r,i){return this.dirty==Pn||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,r,i),!0)}updateInner(e,t,r,i){this.updateOuterDeco(t),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=vn}updateOuterDeco(e){if(Ol(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=Bd(this.dom,this.nodeDOM,Cl(this.outerDeco,this.node,t),Cl(e,this.node,t)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function Rd(n,e,t,r,i){return Ld(r,e,n),new Hr(void 0,n,e,t,r,r,r,i,0)}class Ts extends Hr{constructor(e,t,r,i,s,a,c){super(e,t,r,i,s,null,a,c,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,r,i){return this.dirty==Pn||this.dirty!=vn&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=vn||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=vn,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,r){let i=this.node.cut(e,t),s=document.createTextNode(i.text);return new Ts(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=Pn)}get domAtom(){return!1}}class Id extends wo{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==vn&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class zw extends Hr{constructor(e,t,r,i,s,a,c,u,h,p){super(e,t,r,i,s,a,c,h,p),this.spec=u}update(e,t,r,i){if(this.dirty==Pn)return!1;if(this.spec.update){let s=this.spec.update(e,t,r);return s&&this.updateInner(e,t,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,i){this.spec.setSelection?this.spec.setSelection(e,t,r):super.setSelection(e,t,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function Pd(n,e,t){let r=n.firstChild,i=!1;for(let s=0;s<e.length;s++){let a=e[s],c=a.dom;if(c.parentNode==n){for(;c!=r;)r=Vd(r),i=!0;r=r.nextSibling}else i=!0,n.insertBefore(c,r);if(a instanceof zr){let u=r?r.previousSibling:n.lastChild;Pd(a.contentDOM,a.children,t),r=u?u.nextSibling:n.firstChild}}for(;r;)r=Vd(r),i=!0;i&&t.trackWrites==n&&(t.trackWrites=null)}const xo=function(n){n&&(this.nodeName=n)};xo.prototype=Object.create(null);const Wr=[new xo];function Cl(n,e,t){if(n.length==0)return Wr;let r=t?Wr[0]:new xo,i=[r];for(let s=0;s<n.length;s++){let a=n[s].type.attrs;if(!!a){a.nodeName&&i.push(r=new xo(a.nodeName));for(let c in a){let u=a[c];u!=null&&(t&&i.length==1&&i.push(r=new xo(e.isInline?"span":"div")),c=="class"?r.class=(r.class?r.class+" ":"")+u:c=="style"?r.style=(r.style?r.style+";":"")+u:c!="nodeName"&&(r[c]=u))}}}return i}function Bd(n,e,t,r){if(t==Wr&&r==Wr)return e;let i=e;for(let s=0;s<r.length;s++){let a=r[s],c=t[s];if(s){let u;c&&c.nodeName==a.nodeName&&i!=n&&(u=i.parentNode)&&u.nodeName.toLowerCase()==a.nodeName||(u=document.createElement(a.nodeName),u.pmIsDeco=!0,u.appendChild(i),c=Wr[0]),i=u}Hw(i,c||Wr[0],a)}return i}function Hw(n,e,t){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in t)&&n.removeAttribute(r);for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&t[r]!=e[r]&&n.setAttribute(r,t[r]);if(e.class!=t.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=t.class?t.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&n.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&n.classList.add(i[s]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)n.style.removeProperty(i[1])}t.style&&(n.style.cssText+=t.style)}}function Ld(n,e,t){return Bd(n,n,Wr,Cl(e,t,n.nodeType!=1))}function Ol(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function Vd(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class Ww{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=jw(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r){let i=0,s=this.stack.length>>1,a=Math.min(s,e.length);for(;i<a&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=vn,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let c=-1;for(let u=this.index;u<Math.min(this.index+3,this.top.children.length);u++)if(this.top.children[u].matchesMark(e[s])){c=u;break}if(c>-1)c>this.index&&(this.changed=!0,this.destroyBetween(this.index,c)),this.top=this.top.children[this.index];else{let u=zr.create(this.top,e[s],t,r);this.top.children.splice(this.index,0,u),this.top=u,this.changed=!0}this.index=0,s++}}findNodeMatch(e,t,r,i){let s=-1,a;if(i>=this.preMatch.index&&(a=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&a.matchesNode(e,t,r))s=this.top.children.indexOf(a,this.index);else for(let c=this.index,u=Math.min(this.top.children.length,c+5);c<u;c++){let h=this.top.children[c];if(h.matchesNode(e,t,r)&&!this.preMatch.matched.has(h)){s=c;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,t,r,i,s){let a=this.top.children[i];return a.dirty==Pn&&a.dom==a.contentDOM&&(a.dirty=_i),a.update(e,t,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=t}}updateNextNode(e,t,r,i,s){for(let a=this.index;a<this.top.children.length;a++){let c=this.top.children[a];if(c instanceof Hr){let u=this.preMatch.matched.get(c);if(u!=null&&u!=s)return!1;let h=c.dom;if(!(this.lock&&(h==this.lock||h.nodeType==1&&h.contains(this.lock.parentNode))&&!(e.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==e.text&&c.dirty!=Pn&&Ol(t,c.outerDeco)))&&c.update(e,t,r,i))return this.destroyBetween(this.index,a),c.dom!=h&&(this.changed=!0),this.index++,!0;break}}return!1}addNode(e,t,r,i,s){this.top.children.splice(this.index++,0,Hr.create(this.top,e,t,r,i,s)),this.changed=!0}placeWidget(e,t,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new Dd(this.top,e,t,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof zr;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof Ts)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((xt||It)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new Id(this.top,[],r,null);t!=this.top?t.children.push(i):t.children.splice(this.index++,0,i),this.changed=!0}}}function jw(n,e){let t=e,r=t.children.length,i=n.childCount,s=new Map,a=[];e:for(;i>0;){let c;for(;;)if(r){let h=t.children[r-1];if(h instanceof zr)t=h,r=h.children.length;else{c=h,r--;break}}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}let u=c.node;if(!!u){if(u!=n.child(i-1))break;--i,s.set(c,i),a.push(c)}}return{index:i,matched:s,matches:a.reverse()}}function Uw(n,e){return n.type.side-e.type.side}function qw(n,e,t,r){let i=e.locals(n),s=0;if(i.length==0){for(let h=0;h<n.childCount;h++){let p=n.child(h);r(p,i,e.forChild(s,p),h),s+=p.nodeSize}return}let a=0,c=[],u=null;for(let h=0;;){if(a<i.length&&i[a].to==s){let E=i[a++],S;for(;a<i.length&&i[a].to==s;)(S||(S=[E])).push(i[a++]);if(S){S.sort(Uw);for(let O=0;O<S.length;O++)t(S[O],h,!!u)}else t(E,h,!!u)}let p,m;if(u)m=-1,p=u,u=null;else if(h<n.childCount)m=h,p=n.child(h++);else break;for(let E=0;E<c.length;E++)c[E].to<=s&&c.splice(E--,1);for(;a<i.length&&i[a].from<=s&&i[a].to>s;)c.push(i[a++]);let y=s+p.nodeSize;if(p.isText){let E=y;a<i.length&&i[a].from<E&&(E=i[a].from);for(let S=0;S<c.length;S++)c[S].to<E&&(E=c[S].to);E<y&&(u=p.cut(E-s),p=p.cut(0,E-s),y=E,m=-1)}let b=p.isInline&&!p.isLeaf?c.filter(E=>!E.inline):c.slice();r(p,b,e.forChild(s,p),m),s=y}}function Kw(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function Jw(n,e){for(;;){if(n.nodeType==3)return n;if(n.nodeType==1&&e>0){if(n.childNodes.length>e&&n.childNodes[e].nodeType==3)return n.childNodes[e];n=n.childNodes[e-1],e=Rn(n)}else if(n.nodeType==1&&e<n.childNodes.length)n=n.childNodes[e],e=0;else return null}}function Gw(n,e,t,r){for(let i=0,s=0;i<n.childCount&&s<=r;){let a=n.child(i++),c=s;if(s+=a.nodeSize,!a.isText)continue;let u=a.text;for(;i<n.childCount;){let h=n.child(i++);if(s+=h.nodeSize,!h.isText)break;u+=h.text}if(s>=t){let h=c<r?u.lastIndexOf(e,r-c-1):-1;if(h>=0&&h+e.length+c>=t)return c+h;if(t==r&&u.length>=r+e.length-c&&u.slice(r-c,r-c+e.length)==e)return r}}return-1}function Tl(n,e,t,r,i){let s=[];for(let a=0,c=0;a<n.length;a++){let u=n[a],h=c,p=c+=u.size;h>=t||p<=e?s.push(u):(h<e&&s.push(u.slice(0,e-h,r)),i&&(s.push(i),i=void 0),p>t&&s.push(u.slice(t-h,u.size,r)))}return s}function Nl(n,e=null){let t=n.domSelectionRange(),r=n.state.doc;if(!t.focusNode)return null;let i=n.docView.nearestDesc(t.focusNode),s=i&&i.size==0,a=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(a<0)return null;let c=r.resolve(a),u,h;if(Cs(t)){for(u=c;i&&!i.node;)i=i.parent;let p=i.node;if(i&&p.isAtom&&se.isSelectable(p)&&i.parent&&!(p.isInline&&ww(t.focusNode,t.focusOffset,i.dom))){let m=i.posBefore;h=new se(a==m?c:r.resolve(m))}}else{let p=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(p<0)return null;u=r.resolve(p)}if(!h){let p=e=="pointer"||n.state.selection.head<c.pos&&!s?1:-1;h=Al(n,u,c,p)}return h}function $d(n){return n.editable?n.hasFocus():qd(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function Kn(n,e=!1){let t=n.state.selection;if(Wd(n,t),!!$d(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&It){let r=n.domSelectionRange(),i=n.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Fr(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)Xw(n);else{let{anchor:r,head:i}=t,s,a;Fd&&!(t instanceof me)&&(t.$from.parent.inlineContent||(s=zd(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(a=zd(n,t.to))),n.docView.setSelection(r,i,n.root,e),Fd&&(s&&Hd(s),a&&Hd(a)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Yw(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const Fd=xt||It&&Sw<63;function zd(n,e){let{node:t,offset:r}=n.docView.domFromPos(e,0),i=r<t.childNodes.length?t.childNodes[r]:null,s=r?t.childNodes[r-1]:null;if(xt&&i&&i.contentEditable=="false")return Ml(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return Ml(i);if(s)return Ml(s)}}function Ml(n){return n.contentEditable="true",xt&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function Hd(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function Yw(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),r=t.anchorNode,i=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=r||t.anchorOffset!=i)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!$d(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function Xw(n){let e=n.domSelection(),t=document.createRange(),r=n.cursorWrapper.dom,i=r.nodeName=="IMG";i?t.setEnd(r.parentNode,Ut(r)+1):t.setEnd(r,0),t.collapse(!1),e.removeAllRanges(),e.addRange(t),!i&&!n.state.selection.visible&&Rt&&hr<=11&&(r.disabled=!0,r.disabled=!1)}function Wd(n,e){if(e instanceof se){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(jd(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else jd(n)}function jd(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function Al(n,e,t,r){return n.someProp("createSelectionBetween",i=>i(n,e,t))||me.between(e,t,r)}function Ud(n){return n.editable&&!n.hasFocus()?!1:qd(n)}function qd(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function Zw(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return Fr(e.node,e.offset,t.anchorNode,t.anchorOffset)}function Dl(n,e){let{$anchor:t,$head:r}=n.selection,i=e>0?t.max(r):t.min(r),s=i.parent.inlineContent?i.depth?n.doc.resolve(e>0?i.after():i.before()):null:i;return s&&de.findFrom(s,e)}function jr(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function Kd(n,e,t){let r=n.state.selection;if(r instanceof me){if(!r.empty||t.indexOf("s")>-1)return!1;if(n.endOfTextblock(e>0?"right":"left")){let i=Dl(n.state,e);return i&&i instanceof se?jr(n,i):!1}else if(!(nn&&t.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,a;if(!s||s.isText)return!1;let c=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(a=n.docView.descAt(c))&&!a.contentDOM?se.isSelectable(s)?jr(n,new se(e<0?n.state.doc.resolve(i.pos-s.nodeSize):i)):Os?jr(n,new me(n.state.doc.resolve(e<0?c:c+s.nodeSize))):!1:!1}}else{if(r instanceof se&&r.node.isInline)return jr(n,new me(e>0?r.$to:r.$from));{let i=Dl(n.state,e);return i?jr(n,i):!1}}}function Ns(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Eo(n){let e=n.pmViewDesc;return e&&e.size==0&&(n.nextSibling||n.nodeName!="BR")}function Rl(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i,s,a=!1;for(bn&&t.nodeType==1&&r<Ns(t)&&Eo(t.childNodes[r])&&(a=!0);;)if(r>0){if(t.nodeType!=1)break;{let c=t.childNodes[r-1];if(Eo(c))i=t,s=--r;else if(c.nodeType==3)t=c,r=t.nodeValue.length;else break}}else{if(Jd(t))break;{let c=t.previousSibling;for(;c&&Eo(c);)i=t.parentNode,s=Ut(c),c=c.previousSibling;if(c)t=c,r=Ns(t);else{if(t=t.parentNode,t==n.dom)break;r=0}}}a?Pl(n,t,r):i&&Pl(n,i,s)}function Il(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i=Ns(t),s,a;for(;;)if(r<i){if(t.nodeType!=1)break;let c=t.childNodes[r];if(Eo(c))s=t,a=++r;else break}else{if(Jd(t))break;{let c=t.nextSibling;for(;c&&Eo(c);)s=c.parentNode,a=Ut(c)+1,c=c.nextSibling;if(c)t=c,r=0,i=Ns(t);else{if(t=t.parentNode,t==n.dom)break;r=i=0}}}s&&Pl(n,s,a)}function Jd(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function Pl(n,e,t){let r=n.domSelection();if(Cs(r)){let s=document.createRange();s.setEnd(e,t),s.setStart(e,t),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,t);n.domObserver.setCurSelection();let{state:i}=n;setTimeout(()=>{n.state==i&&Kn(n)},50)}function Gd(n,e,t){let r=n.state.selection;if(r instanceof me&&!r.empty||t.indexOf("s")>-1||nn&&t.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let a=Dl(n.state,e);if(a&&a instanceof se)return jr(n,a)}if(!i.parent.inlineContent){let a=e<0?i:s,c=r instanceof yn?de.near(a,e):de.findFrom(a,e);return c?jr(n,c):!1}return!1}function Yd(n,e){if(!(n.state.selection instanceof me))return!0;let{$head:t,$anchor:r,empty:i}=n.state.selection;if(!t.sameParent(r))return!0;if(!i)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(s&&!s.isText){let a=n.state.tr;return e<0?a.delete(t.pos-s.nodeSize,t.pos):a.delete(t.pos,t.pos+s.nodeSize),n.dispatch(a),!0}return!1}function Xd(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function Qw(n){if(!xt||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;Xd(n,r,"true"),setTimeout(()=>Xd(n,r,"false"),20)}return!1}function ex(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function tx(n,e){let t=e.keyCode,r=ex(e);return t==8||nn&&t==72&&r=="c"?Yd(n,-1)||Rl(n):t==46||nn&&t==68&&r=="c"?Yd(n,1)||Il(n):t==13||t==27?!0:t==37||nn&&t==66&&r=="c"?Kd(n,-1,r)||Rl(n):t==39||nn&&t==70&&r=="c"?Kd(n,1,r)||Il(n):t==38||nn&&t==80&&r=="c"?Gd(n,-1,r)||Rl(n):t==40||nn&&t==78&&r=="c"?Qw(n)||Gd(n,1,r)||Il(n):r==(nn?"m":"c")&&(t==66||t==73||t==89||t==90)}function Zd(n,e){n.someProp("transformCopied",b=>{e=b(e,n)});let t=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let b=r.firstChild;t.push(b.type.name,b.attrs!=b.type.defaultAttrs?b.attrs:null),r=b.content}let a=n.someProp("clipboardSerializer")||Mn.fromSchema(n.state.schema),c=sp(),u=c.createElement("div");u.appendChild(a.serializeFragment(r,{document:c}));let h=u.firstChild,p,m=0;for(;h&&h.nodeType==1&&(p=ip[h.nodeName.toLowerCase()]);){for(let b=p.length-1;b>=0;b--){let E=c.createElement(p[b]);for(;u.firstChild;)E.appendChild(u.firstChild);u.appendChild(E),m++}h=u.firstChild}h&&h.nodeType==1&&h.setAttribute("data-pm-slice",`${i} ${s}${m?` -${m}`:""} ${JSON.stringify(t)}`);let y=n.someProp("clipboardTextSerializer",b=>b(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:u,text:y}}function Qd(n,e,t,r,i){let s=i.parent.type.spec.code,a,c;if(!t&&!e)return null;let u=e&&(r||s||!t);if(u){if(n.someProp("transformPastedText",y=>{e=y(e,s||r,n)}),s)return e?new J(F.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):J.empty;let m=n.someProp("clipboardTextParser",y=>y(e,i,r,n));if(m)c=m;else{let y=i.marks(),{schema:b}=n.state,E=Mn.fromSchema(b);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(S=>{let O=a.appendChild(document.createElement("p"));S&&O.appendChild(E.serializeNode(b.text(S,y)))})}}else n.someProp("transformPastedHTML",m=>{t=m(t,n)}),a=ix(t),Os&&ox(a);let h=a&&a.querySelector("[data-pm-slice]"),p=h&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(h.getAttribute("data-pm-slice")||"");if(p&&p[3])for(let m=+p[3];m>0;m--){let y=a.firstChild;for(;y&&y.nodeType!=1;)y=y.nextSibling;if(!y)break;a=y}if(c||(c=(n.someProp("clipboardParser")||n.someProp("domParser")||di.fromSchema(n.state.schema)).parseSlice(a,{preserveWhitespace:!!(u||p),context:i,ruleFromNode(y){return y.nodeName=="BR"&&!y.nextSibling&&y.parentNode&&!nx.test(y.parentNode.nodeName)?{ignore:!0}:null}})),p)c=sx(rp(c,+p[1],+p[2]),p[4]);else if(c=J.maxOpen(rx(c.content,i),!0),c.openStart||c.openEnd){let m=0,y=0;for(let b=c.content.firstChild;m<c.openStart&&!b.type.spec.isolating;m++,b=b.firstChild);for(let b=c.content.lastChild;y<c.openEnd&&!b.type.spec.isolating;y++,b=b.lastChild);c=rp(c,m,y)}return n.someProp("transformPasted",m=>{c=m(c,n)}),c}const nx=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function rx(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let i=e.node(t).contentMatchAt(e.index(t)),s,a=[];if(n.forEach(c=>{if(!a)return;let u=i.findWrapping(c.type),h;if(!u)return a=null;if(h=a.length&&s.length&&tp(u,s,c,a[a.length-1],0))a[a.length-1]=h;else{a.length&&(a[a.length-1]=np(a[a.length-1],s.length));let p=ep(c,u);a.push(p),i=i.matchType(p.type),s=u}}),a)return F.from(a)}return n}function ep(n,e,t=0){for(let r=e.length-1;r>=t;r--)n=e[r].create(null,F.from(n));return n}function tp(n,e,t,r,i){if(i<n.length&&i<e.length&&n[i]==e[i]){let s=tp(n,e,t,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==n.length-1?t.type:n[i+1]))return r.copy(r.content.append(F.from(ep(t,n,i+1))))}}function np(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,np(n.lastChild,e-1)),r=n.contentMatchAt(n.childCount).fillBefore(F.empty,!0);return n.copy(t.append(r))}function Bl(n,e,t,r,i,s){let a=e<0?n.firstChild:n.lastChild,c=a.content;return i<r-1&&(c=Bl(c,e,t,r,i+1,s)),i>=t&&(c=e<0?a.contentMatchAt(0).fillBefore(c,n.childCount>1||s<=i).append(c):c.append(a.contentMatchAt(a.childCount).fillBefore(F.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,a.copy(c))}function rp(n,e,t){return e<n.openStart&&(n=new J(Bl(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new J(Bl(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const ip={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let op=null;function sp(){return op||(op=document.implementation.createHTMLDocument("title"))}function ix(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=sp().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n),i;if((i=r&&ip[r[1].toLowerCase()])&&(n=i.map(s=>"<"+s+">").join("")+n+i.map(s=>"</"+s+">").reverse().join("")),t.innerHTML=n,i)for(let s=0;s<i.length;s++)t=t.querySelector(i[s])||t;return t}function ox(n){let e=n.querySelectorAll(It?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let r=e[t];r.childNodes.length==1&&r.textContent=="\xA0"&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}function sx(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return n}let{content:i,openStart:s,openEnd:a}=n;for(let c=r.length-2;c>=0;c-=2){let u=t.nodes[r[c]];if(!u||u.hasRequiredAttrs())break;i=F.from(u.create(r[c+1],i)),s++,a++}return new J(i,s,a)}const Et={},St={},ax={touchstart:!0,touchmove:!0};class lx{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function cx(n){for(let e in Et){let t=Et[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>{fx(n,r)&&!Vl(n,r)&&(n.editable||!(r.type in St))&&t(n,r)},ax[e]?{passive:!0}:void 0)}xt&&n.dom.addEventListener("input",()=>null),Ll(n)}function yr(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function ux(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function Ll(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>Vl(n,r))})}function Vl(n,e){return n.someProp("handleDOMEvents",t=>{let r=t[e.type];return r?r(n,e)||e.defaultPrevented:!1})}function fx(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function dx(n,e){!Vl(n,e)&&Et[e.type]&&(n.editable||!(e.type in St))&&Et[e.type](n,e)}St.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!lp(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(In&&It&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),Si&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",i=>i(n,Ei(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",r=>r(n,t))||tx(n,t)?t.preventDefault():yr(n,"key")},St.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)},St.keypress=(n,e)=>{let t=e;if(lp(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||nn&&t.metaKey)return;if(n.someProp("handleKeyPress",i=>i(n,t))){t.preventDefault();return}let r=n.state.selection;if(!(r instanceof me)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(t.charCode);n.someProp("handleTextInput",s=>s(n,r.$from.pos,r.$to.pos,i))||n.dispatch(n.state.tr.insertText(i).scrollIntoView()),t.preventDefault()}};function Ms(n){return{left:n.clientX,top:n.clientY}}function px(n,e){let t=e.x-n.clientX,r=e.y-n.clientY;return t*t+r*r<100}function $l(n,e,t,r,i){if(r==-1)return!1;let s=n.state.doc.resolve(r);for(let a=s.depth+1;a>0;a--)if(n.someProp(e,c=>a>s.depth?c(n,t,s.nodeAfter,s.before(a),i,!0):c(n,t,s.node(a),s.before(a),i,!1)))return!0;return!1}function Ci(n,e,t){n.focused||n.focus();let r=n.state.tr.setSelection(e);t=="pointer"&&r.setMeta("pointer",!0),n.dispatch(r)}function hx(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),r=t.nodeAfter;return r&&r.isAtom&&se.isSelectable(r)?(Ci(n,new se(t),"pointer"),!0):!1}function mx(n,e){if(e==-1)return!1;let t=n.state.selection,r,i;t instanceof se&&(r=t.node);let s=n.state.doc.resolve(e);for(let a=s.depth+1;a>0;a--){let c=a>s.depth?s.nodeAfter:s.node(a);if(se.isSelectable(c)){r&&t.$from.depth>0&&a>=t.$from.depth&&s.before(t.$from.depth+1)==t.$from.pos?i=s.before(t.$from.depth):i=s.before(a);break}}return i!=null?(Ci(n,se.create(n.state.doc,i),"pointer"),!0):!1}function gx(n,e,t,r,i){return $l(n,"handleClickOn",e,t,r)||n.someProp("handleClick",s=>s(n,e,r))||(i?mx(n,t):hx(n,t))}function yx(n,e,t,r){return $l(n,"handleDoubleClickOn",e,t,r)||n.someProp("handleDoubleClick",i=>i(n,e,r))}function bx(n,e,t,r){return $l(n,"handleTripleClickOn",e,t,r)||n.someProp("handleTripleClick",i=>i(n,e,r))||vx(n,t,r)}function vx(n,e,t){if(t.button!=0)return!1;let r=n.state.doc;if(e==-1)return r.inlineContent?(Ci(n,me.create(r,0,r.content.size),"pointer"),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let a=s>i.depth?i.nodeAfter:i.node(s),c=i.before(s);if(a.inlineContent)Ci(n,me.create(r,c+1,c+1+a.content.size),"pointer");else if(se.isSelectable(a))Ci(n,se.create(r,c),"pointer");else continue;return!0}}function Fl(n){return As(n)}const ap=nn?"metaKey":"ctrlKey";Et.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let r=Fl(n),i=Date.now(),s="singleClick";i-n.input.lastClick.time<500&&px(t,n.input.lastClick)&&!t[ap]&&(n.input.lastClick.type=="singleClick"?s="doubleClick":n.input.lastClick.type=="doubleClick"&&(s="tripleClick")),n.input.lastClick={time:i,x:t.clientX,y:t.clientY,type:s};let a=n.posAtCoords(Ms(t));!a||(s=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new wx(n,a,t,!!r)):(s=="doubleClick"?yx:bx)(n,a.pos,a.inside,t)?t.preventDefault():yr(n,"pointer"))};class wx{constructor(e,t,r,i){this.view=e,this.pos=t,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[ap],this.allowDefault=r.shiftKey;let s,a;if(t.inside>-1)s=e.state.doc.nodeAt(t.inside),a=t.inside;else{let p=e.state.doc.resolve(t.pos);s=p.parent,a=p.depth?p.before():0}const c=i?null:r.target,u=c?e.docView.nearestDesc(c,!0):null;this.target=u?u.dom:null;let{selection:h}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||h instanceof se&&h.from<=a&&h.to>a)&&(this.mightDrag={node:s,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&bn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),yr(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Kn(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Ms(e))),this.updateAllowDefault(e),this.allowDefault||!t?yr(this.view,"pointer"):gx(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||xt&&this.mightDrag&&!this.mightDrag.node.isAtom||It&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Ci(this.view,de.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):yr(this.view,"pointer")}move(e){this.updateAllowDefault(e),yr(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Et.touchstart=n=>{n.input.lastTouch=Date.now(),Fl(n),yr(n,"pointer")},Et.touchmove=n=>{n.input.lastTouch=Date.now(),yr(n,"pointer")},Et.contextmenu=n=>Fl(n);function lp(n,e){return n.composing?!0:xt&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const xx=In?5e3:-1;St.compositionstart=St.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))n.markCursor=n.state.storedMarks||t.marks(),As(n,!0),n.markCursor=null;else if(As(n),bn&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let r=n.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let a=s<0?i.lastChild:i.childNodes[s-1];if(!a)break;if(a.nodeType==3){n.domSelection().collapse(a,a.nodeValue.length);break}else i=a,s=-1}}n.input.composing=!0}cp(n,xx)},St.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,cp(n,20))};function cp(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>As(n),e))}function up(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=Ex());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function Ex(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function As(n,e=!1){if(!(In&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),up(n),e||n.docView&&n.docView.dirty){let t=Nl(n);return t&&!t.eq(n.state.selection)?n.dispatch(n.state.tr.setSelection(t)):n.updateState(n.state),!0}return!1}}function Sx(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),n.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const Oi=Rt&&hr<15||Si&&kw<604;Et.copy=St.cut=(n,e)=>{let t=e,r=n.state.selection,i=t.type=="cut";if(r.empty)return;let s=Oi?null:t.clipboardData,a=r.content(),{dom:c,text:u}=Zd(n,a);s?(t.preventDefault(),s.clearData(),s.setData("text/html",c.innerHTML),s.setData("text/plain",u)):Sx(n,c),i&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function kx(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function _x(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),t?zl(n,r.value,null,e):zl(n,r.textContent,r.innerHTML,e)},50)}function zl(n,e,t,r){let i=Qd(n,e,t,n.input.shiftKey,n.state.selection.$from);if(n.someProp("handlePaste",c=>c(n,r,i||J.empty)))return!0;if(!i)return!1;let s=kx(i),a=s?n.state.tr.replaceSelectionWith(s,n.input.shiftKey):n.state.tr.replaceSelection(i);return n.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}St.paste=(n,e)=>{let t=e;if(n.composing&&!In)return;let r=Oi?null:t.clipboardData;r&&zl(n,r.getData("text/plain"),r.getData("text/html"),t)?t.preventDefault():_x(n,t)};class Cx{constructor(e,t){this.slice=e,this.move=t}}const fp=nn?"altKey":"ctrlKey";Et.dragstart=(n,e)=>{let t=e,r=n.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let i=n.state.selection,s=i.empty?null:n.posAtCoords(Ms(t));if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof se?i.to-1:i.to))){if(r&&r.mightDrag)n.dispatch(n.state.tr.setSelection(se.create(n.state.doc,r.mightDrag.pos)));else if(t.target&&t.target.nodeType==1){let h=n.docView.nearestDesc(t.target,!0);h&&h.node.type.spec.draggable&&h!=n.docView&&n.dispatch(n.state.tr.setSelection(se.create(n.state.doc,h.posBefore)))}}let a=n.state.selection.content(),{dom:c,text:u}=Zd(n,a);t.dataTransfer.clearData(),t.dataTransfer.setData(Oi?"Text":"text/html",c.innerHTML),t.dataTransfer.effectAllowed="copyMove",Oi||t.dataTransfer.setData("text/plain",u),n.dragging=new Cx(a,!t[fp])},Et.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)},St.dragover=St.dragenter=(n,e)=>e.preventDefault(),St.drop=(n,e)=>{let t=e,r=n.dragging;if(n.dragging=null,!t.dataTransfer)return;let i=n.posAtCoords(Ms(t));if(!i)return;let s=n.state.doc.resolve(i.pos),a=r&&r.slice;a?n.someProp("transformPasted",E=>{a=E(a,n)}):a=Qd(n,t.dataTransfer.getData(Oi?"Text":"text/plain"),Oi?null:t.dataTransfer.getData("text/html"),!1,s);let c=!!(r&&!t[fp]);if(n.someProp("handleDrop",E=>E(n,t,a||J.empty,c))){t.preventDefault();return}if(!a)return;t.preventDefault();let u=a?id(n.state.doc,s.pos,a):s.pos;u==null&&(u=s.pos);let h=n.state.tr;c&&h.deleteSelection();let p=h.mapping.map(u),m=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,y=h.doc;if(m?h.replaceRangeWith(p,p,a.content.firstChild):h.replaceRange(p,p,a),h.doc.eq(y))return;let b=h.doc.resolve(p);if(m&&se.isSelectable(a.content.firstChild)&&b.nodeAfter&&b.nodeAfter.sameMarkup(a.content.firstChild))h.setSelection(new se(b));else{let E=h.mapping.map(u);h.mapping.maps[h.mapping.maps.length-1].forEach((S,O,M,I)=>E=I),h.setSelection(Al(n,b,h.doc.resolve(E)))}n.focus(),n.dispatch(h.setMeta("uiEvent","drop"))},Et.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&Kn(n)},20))},Et.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)},Et.beforeinput=(n,e)=>{if(It&&In&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",s=>s(n,Ei(8,"Backspace")))))return;let{$cursor:i}=n.state.selection;i&&i.pos>0&&n.dispatch(n.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let n in St)Et[n]=St[n];function So(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class Hl{constructor(e,t){this.toDOM=e,this.spec=t||Ur,this.side=this.spec.side||0}map(e,t,r,i){let{pos:s,deleted:a}=e.mapResult(t.from+i,this.side<0?-1:1);return a?null:new rn(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Hl&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&So(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class br{constructor(e,t){this.attrs=e,this.spec=t||Ur}map(e,t,r,i){let s=e.map(t.from+i,this.spec.inclusiveStart?-1:1)-r,a=e.map(t.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=a?null:new rn(s,a,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof br&&So(this.attrs,e.attrs)&&So(this.spec,e.spec)}static is(e){return e.type instanceof br}destroy(){}}class Wl{constructor(e,t){this.attrs=e,this.spec=t||Ur}map(e,t,r,i){let s=e.mapResult(t.from+i,1);if(s.deleted)return null;let a=e.mapResult(t.to+i,-1);return a.deleted||a.pos<=s.pos?null:new rn(s.pos-r,a.pos-r,this)}valid(e,t){let{index:r,offset:i}=e.content.findIndex(t.from),s;return i==t.from&&!(s=e.child(r)).isText&&i+s.nodeSize==t.to}eq(e){return this==e||e instanceof Wl&&So(this.attrs,e.attrs)&&So(this.spec,e.spec)}destroy(){}}class rn{constructor(e,t,r){this.from=e,this.to=t,this.type=r}copy(e,t){return new rn(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,r){return this.type.map(e,this,t,r)}static widget(e,t,r){return new rn(e,e,new Hl(t,r))}static inline(e,t,r,i){return new rn(e,t,new br(r,i))}static node(e,t,r,i){return new rn(e,t,new Wl(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof br}}const Ti=[],Ur={};class et{constructor(e,t){this.local=e.length?e:Ti,this.children=t.length?t:Ti}static create(e,t){return t.length?Ds(t,e,0,Ur):mt}find(e,t,r){let i=[];return this.findInner(e==null?0:e,t==null?1e9:t,i,0,r),i}findInner(e,t,r,i,s){for(let a=0;a<this.local.length;a++){let c=this.local[a];c.from<=t&&c.to>=e&&(!s||s(c.spec))&&r.push(c.copy(c.from+i,c.to+i))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<t&&this.children[a+1]>e){let c=this.children[a]+1;this.children[a+2].findInner(e-c,t-c,r,i+c,s)}}map(e,t,r){return this==mt||e.maps.length==0?this:this.mapInner(e,t,0,0,r||Ur)}mapInner(e,t,r,i,s){let a;for(let c=0;c<this.local.length;c++){let u=this.local[c].map(e,r,i);u&&u.type.valid(t,u)?(a||(a=[])).push(u):s.onRemove&&s.onRemove(this.local[c].spec)}return this.children.length?Ox(this.children,a||[],e,t,r,i,s):a?new et(a.sort(qr),Ti):mt}add(e,t){return t.length?this==mt?et.create(e,t):this.addInner(e,t,0):this}addInner(e,t,r){let i,s=0;e.forEach((c,u)=>{let h=u+r,p;if(!!(p=pp(t,c,h))){for(i||(i=this.children.slice());s<i.length&&i[s]<u;)s+=3;i[s]==u?i[s+2]=i[s+2].addInner(c,p,h+1):i.splice(s,0,u,u+c.nodeSize,Ds(p,c,h+1,Ur)),s+=3}});let a=dp(s?hp(t):t,-r);for(let c=0;c<a.length;c++)a[c].type.valid(e,a[c])||a.splice(c--,1);return new et(a.length?this.local.concat(a).sort(qr):this.local,i||this.children)}remove(e){return e.length==0||this==mt?this:this.removeInner(e,0)}removeInner(e,t){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let a,c=r[s]+t,u=r[s+1]+t;for(let p=0,m;p<e.length;p++)(m=e[p])&&m.from>c&&m.to<u&&(e[p]=null,(a||(a=[])).push(m));if(!a)continue;r==this.children&&(r=this.children.slice());let h=r[s+2].removeInner(a,c+1);h!=mt?r[s+2]=h:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,a;s<e.length;s++)if(a=e[s])for(let c=0;c<i.length;c++)i[c].eq(a,t)&&(i==this.local&&(i=this.local.slice()),i.splice(c--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new et(i,r):mt}forChild(e,t){if(this==mt)return this;if(t.isLeaf)return et.empty;let r,i;for(let c=0;c<this.children.length;c+=3)if(this.children[c]>=e){this.children[c]==e&&(r=this.children[c+2]);break}let s=e+1,a=s+t.content.size;for(let c=0;c<this.local.length;c++){let u=this.local[c];if(u.from<a&&u.to>s&&u.type instanceof br){let h=Math.max(s,u.from)-s,p=Math.min(a,u.to)-s;h<p&&(i||(i=[])).push(u.copy(h,p))}}if(i){let c=new et(i.sort(qr),Ti);return r?new vr([c,r]):c}return r||mt}eq(e){if(this==e)return!0;if(!(e instanceof et)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return jl(this.localsInner(e))}localsInner(e){if(this==mt)return Ti;if(e.inlineContent||!this.local.some(br.is))return this.local;let t=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof br||t.push(this.local[r]);return t}}et.empty=new et([],[]),et.removeOverlap=jl;const mt=et.empty;class vr{constructor(e){this.members=e}map(e,t){const r=this.members.map(i=>i.map(e,t,Ur));return vr.from(r)}forChild(e,t){if(t.isLeaf)return et.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,t);s!=mt&&(s instanceof vr?r=r.concat(s.members):r.push(s))}return vr.from(r)}eq(e){if(!(e instanceof vr)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(!!s.length)if(!t)t=s;else{r&&(t=t.slice(),r=!1);for(let a=0;a<s.length;a++)t.push(s[a])}}return t?jl(r?t:t.sort(qr)):Ti}static from(e){switch(e.length){case 0:return mt;case 1:return e[0];default:return new vr(e.every(t=>t instanceof et)?e:e.reduce((t,r)=>t.concat(r instanceof et?r:r.members),[]))}}}function Ox(n,e,t,r,i,s,a){let c=n.slice();for(let h=0,p=s;h<t.maps.length;h++){let m=0;t.maps[h].forEach((y,b,E,S)=>{let O=S-E-(b-y);for(let M=0;M<c.length;M+=3){let I=c[M+1];if(I<0||y>I+p-m)continue;let z=c[M]+p-m;b>=z?c[M+1]=y<=z?-2:-1:E>=i&&O&&(c[M]+=O,c[M+1]+=O)}m+=O}),p=t.maps[h].map(p,-1)}let u=!1;for(let h=0;h<c.length;h+=3)if(c[h+1]<0){if(c[h+1]==-2){u=!0,c[h+1]=-1;continue}let p=t.map(n[h]+s),m=p-i;if(m<0||m>=r.content.size){u=!0;continue}let y=t.map(n[h+1]+s,-1),b=y-i,{index:E,offset:S}=r.content.findIndex(m),O=r.maybeChild(E);if(O&&S==m&&S+O.nodeSize==b){let M=c[h+2].mapInner(t,O,p+1,n[h]+s+1,a);M!=mt?(c[h]=m,c[h+1]=b,c[h+2]=M):(c[h+1]=-2,u=!0)}else u=!0}if(u){let h=Tx(c,n,e,t,i,s,a),p=Ds(h,r,0,a);e=p.local;for(let m=0;m<c.length;m+=3)c[m+1]<0&&(c.splice(m,3),m-=3);for(let m=0,y=0;m<p.children.length;m+=3){let b=p.children[m];for(;y<c.length&&c[y]<b;)y+=3;c.splice(y,0,p.children[m],p.children[m+1],p.children[m+2])}}return new et(e.sort(qr),c)}function dp(n,e){if(!e||!n.length)return n;let t=[];for(let r=0;r<n.length;r++){let i=n[r];t.push(new rn(i.from+e,i.to+e,i.type))}return t}function Tx(n,e,t,r,i,s,a){function c(u,h){for(let p=0;p<u.local.length;p++){let m=u.local[p].map(r,i,h);m?t.push(m):a.onRemove&&a.onRemove(u.local[p].spec)}for(let p=0;p<u.children.length;p+=3)c(u.children[p+2],u.children[p]+h+1)}for(let u=0;u<n.length;u+=3)n[u+1]==-1&&c(n[u+2],e[u]+s+1);return t}function pp(n,e,t){if(e.isLeaf)return null;let r=t+e.nodeSize,i=null;for(let s=0,a;s<n.length;s++)(a=n[s])&&a.from>t&&a.to<r&&((i||(i=[])).push(a),n[s]=null);return i}function hp(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function Ds(n,e,t,r){let i=[],s=!1;e.forEach((c,u)=>{let h=pp(n,c,u+t);if(h){s=!0;let p=Ds(h,c,t+u+1,r);p!=mt&&i.push(u,u+c.nodeSize,p)}});let a=dp(s?hp(n):n,-t).sort(qr);for(let c=0;c<a.length;c++)a[c].type.valid(e,a[c])||(r.onRemove&&r.onRemove(a[c].spec),a.splice(c--,1));return a.length||i.length?new et(a,i):mt}function qr(n,e){return n.from-e.from||n.to-e.to}function jl(n){let e=n;for(let t=0;t<e.length-1;t++){let r=e[t];if(r.from!=r.to)for(let i=t+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==n&&(e=n.slice()),e[i]=s.copy(s.from,r.to),mp(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==n&&(e=n.slice()),e[t]=r.copy(r.from,s.from),mp(e,i,r.copy(s.from,r.to)));break}}}return e}function mp(n,e,t){for(;e<n.length&&qr(t,n[e])>0;)e++;n.splice(e,0,t)}function Ul(n){let e=[];return n.someProp("decorations",t=>{let r=t(n.state);r&&r!=mt&&e.push(r)}),n.cursorWrapper&&e.push(et.create(n.state.doc,[n.cursorWrapper.deco])),vr.from(e)}const Nx={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Mx=Rt&&hr<=11;class Ax{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class Dx{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Ax,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Rt&&hr<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),Mx&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Nx)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(!!Ud(this.view)){if(this.suppressingSelectionUpdates)return Kn(this.view);if(Rt&&hr<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Fr(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,r;for(let s=e.focusNode;s;s=bo(s))t.add(s);for(let s=e.anchorNode;s;s=bo(s))if(t.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.observer?this.observer.takeRecords():[];this.queue.length&&(t=this.queue.concat(t),this.queue.length=0);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&Ud(e)&&!this.ignoreSelectionChange(r),s=-1,a=-1,c=!1,u=[];if(e.editable)for(let p=0;p<t.length;p++){let m=this.registerMutation(t[p],u);m&&(s=s<0?m.from:Math.min(m.from,s),a=a<0?m.to:Math.max(m.to,a),m.typeOver&&(c=!0))}if(bn&&u.length>1){let p=u.filter(m=>m.nodeName=="BR");if(p.length==2){let m=p[0],y=p[1];m.parentNode&&m.parentNode.parentNode==y.parentNode?y.remove():m.remove()}}let h=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&e.input.lastTouch<Date.now()-300&&Cs(r)&&(h=Nl(e))&&h.eq(de.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Kn(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,a),Rx(e)),this.handleDOMChange(s,a,c,u),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Kn(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let p=0;p<e.addedNodes.length;p++)t.push(e.addedNodes[p]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(Rt&&hr<=11&&e.addedNodes.length)for(let p=0;p<e.addedNodes.length;p++){let{previousSibling:m,nextSibling:y}=e.addedNodes[p];(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(i=m),(!y||Array.prototype.indexOf.call(e.addedNodes,y)<0)&&(s=y)}let a=i&&i.parentNode==e.target?Ut(i)+1:0,c=r.localPosFromDOM(e.target,a,-1),u=s&&s.parentNode==e.target?Ut(s):e.target.childNodes.length,h=r.localPosFromDOM(e.target,u,1);return{from:c,to:h}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let gp=new WeakMap,yp=!1;function Rx(n){if(!gp.has(n)&&(gp.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=bn,yp)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),yp=!0}}function Ix(n){let e;function t(u){u.preventDefault(),u.stopImmediatePropagation(),e=u.getTargetRanges()[0]}n.dom.addEventListener("beforeinput",t,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",t,!0);let r=e.startContainer,i=e.startOffset,s=e.endContainer,a=e.endOffset,c=n.domAtPos(n.state.selection.anchor);return Fr(c.node,c.offset,s,a)&&([r,i,s,a]=[s,a,r,i]),{anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:a}}function Px(n,e,t){let{node:r,fromOffset:i,toOffset:s,from:a,to:c}=n.docView.parseRange(e,t),u=n.domSelectionRange(),h,p=u.anchorNode;if(p&&n.dom.contains(p.nodeType==1?p:p.parentNode)&&(h=[{node:p,offset:u.anchorOffset}],Cs(u)||h.push({node:u.focusNode,offset:u.focusOffset})),It&&n.input.lastKeyCode===8)for(let O=s;O>i;O--){let M=r.childNodes[O-1],I=M.pmViewDesc;if(M.nodeName=="BR"&&!I){s=O;break}if(!I||I.size)break}let m=n.state.doc,y=n.someProp("domParser")||di.fromSchema(n.state.schema),b=m.resolve(a),E=null,S=y.parse(r,{topNode:b.parent,topMatch:b.parent.contentMatchAt(b.index()),topOpen:!0,from:i,to:s,preserveWhitespace:b.parent.type.whitespace=="pre"?"full":!0,findPositions:h,ruleFromNode:Bx,context:b});if(h&&h[0].pos!=null){let O=h[0].pos,M=h[1]&&h[1].pos;M==null&&(M=O),E={anchor:O+a,head:M+a}}return{doc:S,sel:E,from:a,to:c}}function Bx(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(xt&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||xt&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}function Lx(n,e,t,r,i){if(e<0){let U=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,be=Nl(n,U);if(be&&!n.state.selection.eq(be)){let Oe=n.state.tr.setSelection(be);U=="pointer"?Oe.setMeta("pointer",!0):U=="key"&&Oe.scrollIntoView(),n.dispatch(Oe)}return}let s=n.state.doc.resolve(e),a=s.sharedDepth(t);e=s.before(a+1),t=n.state.doc.resolve(t).after(a+1);let c=n.state.selection,u=Px(n,e,t),h=n.state.doc,p=h.slice(u.from,u.to),m,y;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(m=n.state.selection.to,y="end"):(m=n.state.selection.from,y="start"),n.input.lastKeyCode=null;let b=Fx(p.content,u.doc.content,u.from,m,y);if((Si&&n.input.lastIOSEnter>Date.now()-225||In)&&i.some(U=>U.nodeName=="DIV"||U.nodeName=="P"||U.nodeName=="LI")&&(!b||b.endA>=b.endB)&&n.someProp("handleKeyDown",U=>U(n,Ei(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!b)if(r&&c instanceof me&&!c.empty&&c.$head.sameParent(c.$anchor)&&!n.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))b={start:c.from,endA:c.to,endB:c.to};else{if(u.sel){let U=bp(n,n.state.doc,u.sel);U&&!U.eq(n.state.selection)&&n.dispatch(n.state.tr.setSelection(U))}return}if(It&&n.cursorWrapper&&u.sel&&u.sel.anchor==n.cursorWrapper.deco.from&&u.sel.head==u.sel.anchor){let U=b.endB-b.start;u.sel={anchor:u.sel.anchor+U,head:u.sel.anchor+U}}n.input.domChangeCount++,n.state.selection.from<n.state.selection.to&&b.start==b.endB&&n.state.selection instanceof me&&(b.start>n.state.selection.from&&b.start<=n.state.selection.from+2&&n.state.selection.from>=u.from?b.start=n.state.selection.from:b.endA<n.state.selection.to&&b.endA>=n.state.selection.to-2&&n.state.selection.to<=u.to&&(b.endB+=n.state.selection.to-b.endA,b.endA=n.state.selection.to)),Rt&&hr<=11&&b.endB==b.start+1&&b.endA==b.start&&b.start>u.from&&u.doc.textBetween(b.start-u.from-1,b.start-u.from+1)==" \xA0"&&(b.start--,b.endA--,b.endB--);let E=u.doc.resolveNoCache(b.start-u.from),S=u.doc.resolveNoCache(b.endB-u.from),O=h.resolve(b.start),M=E.sameParent(S)&&E.parent.inlineContent&&O.end()>=b.endA,I;if((Si&&n.input.lastIOSEnter>Date.now()-225&&(!M||i.some(U=>U.nodeName=="DIV"||U.nodeName=="P"))||!M&&E.pos<u.doc.content.size&&(I=de.findFrom(u.doc.resolve(E.pos+1),1,!0))&&I.head==S.pos)&&n.someProp("handleKeyDown",U=>U(n,Ei(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>b.start&&$x(h,b.start,b.endA,E,S)&&n.someProp("handleKeyDown",U=>U(n,Ei(8,"Backspace")))){In&&It&&n.domObserver.suppressSelectionUpdates();return}It&&In&&b.endB==b.start&&(n.input.lastAndroidDelete=Date.now()),In&&!M&&E.start()!=S.start()&&S.parentOffset==0&&E.depth==S.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==b.endA&&(b.endB-=2,S=u.doc.resolveNoCache(b.endB-u.from),setTimeout(()=>{n.someProp("handleKeyDown",function(U){return U(n,Ei(13,"Enter"))})},20));let z=b.start,_=b.endA,H,V,Y;if(M){if(E.pos==S.pos)Rt&&hr<=11&&E.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>Kn(n),20)),H=n.state.tr.delete(z,_),V=h.resolve(b.start).marksAcross(h.resolve(b.endA));else if(b.endA==b.endB&&(Y=Vx(E.parent.content.cut(E.parentOffset,S.parentOffset),O.parent.content.cut(O.parentOffset,b.endA-O.start()))))H=n.state.tr,Y.type=="add"?H.addMark(z,_,Y.mark):H.removeMark(z,_,Y.mark);else if(E.parent.child(E.index()).isText&&E.index()==S.index()-(S.textOffset?0:1)){let U=E.parent.textBetween(E.parentOffset,S.parentOffset);if(n.someProp("handleTextInput",be=>be(n,z,_,U)))return;H=n.state.tr.insertText(U,z,_)}}if(H||(H=n.state.tr.replace(z,_,u.doc.slice(b.start-u.from,b.endB-u.from))),u.sel){let U=bp(n,H.doc,u.sel);U&&!(It&&In&&n.composing&&U.empty&&(b.start!=b.endB||n.input.lastAndroidDelete<Date.now()-100)&&(U.head==z||U.head==H.mapping.map(_)-1)||Rt&&U.empty&&U.head==z)&&H.setSelection(U)}V&&H.ensureMarks(V),n.dispatch(H.scrollIntoView())}function bp(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:Al(n,e.resolve(t.anchor),e.resolve(t.head))}function Vx(n,e){let t=n.firstChild.marks,r=e.firstChild.marks,i=t,s=r,a,c,u;for(let p=0;p<r.length;p++)i=r[p].removeFromSet(i);for(let p=0;p<t.length;p++)s=t[p].removeFromSet(s);if(i.length==1&&s.length==0)c=i[0],a="add",u=p=>p.mark(c.addToSet(p.marks));else if(i.length==0&&s.length==1)c=s[0],a="remove",u=p=>p.mark(c.removeFromSet(p.marks));else return null;let h=[];for(let p=0;p<e.childCount;p++)h.push(u(e.child(p)));if(F.from(h).eq(n))return{mark:c,type:a}}function $x(n,e,t,r,i){if(!r.parent.isTextblock||t-e<=i.pos-r.pos||ql(r,!0,!1)<i.pos)return!1;let s=n.resolve(e);if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let a=n.resolve(ql(s,!0,!0));return!a.parent.isTextblock||a.pos>t||ql(a,!0,!1)<t?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function ql(n,e,t){let r=n.depth,i=e?n.end():n.pos;for(;r>0&&(e||n.indexAfter(r)==n.node(r).childCount);)r--,i++,e=!1;if(t){let s=n.node(r).maybeChild(n.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function Fx(n,e,t,r,i){let s=n.findDiffStart(e,t);if(s==null)return null;let{a,b:c}=n.findDiffEnd(e,t+n.size,t+e.size);if(i=="end"){let u=Math.max(0,s-Math.min(a,c));r-=a+u-s}if(a<s&&n.size<e.size){let u=r<=s&&r>=a?s-r:0;s-=u,c=s+(c-a),a=s}else if(c<s){let u=r<=s&&r>=c?s-r:0;s-=u,a=s+(a-c),c=s}return{start:s,endA:a,endB:c}}class zx{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new lx,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(Sp),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=xp(this),wp(this),this.nodeViews=Ep(this),this.docView=Rd(this.state.doc,vp(this),Ul(this),this.dom,this),this.domObserver=new Dx(this,(r,i,s,a)=>Lx(this,r,i,s,a)),this.domObserver.start(),cx(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Ll(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Sp),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){let r=this.state,i=!1,s=!1;e.storedMarks&&this.composing&&(up(this),s=!0),this.state=e;let a=r.plugins!=e.plugins||this._props.plugins!=t.plugins;if(a||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let y=Ep(this);Wx(y,this.nodeViews)&&(this.nodeViews=y,i=!0)}(a||t.handleDOMEvents!=this._props.handleDOMEvents)&&Ll(this),this.editable=xp(this),wp(this);let c=Ul(this),u=vp(this),h=r.plugins!=e.plugins&&!r.doc.eq(e.doc)?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",p=i||!this.docView.matchesNode(e.doc,u,c);(p||!e.selection.eq(r.selection))&&(s=!0);let m=h=="preserve"&&s&&this.dom.style.overflowAnchor==null&&Ow(this);if(s){this.domObserver.stop();let y=p&&(Rt||It)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&Hx(r.selection,e.selection);if(p){let b=It?this.trackWrites=this.domSelectionRange().focusNode:null;(i||!this.docView.update(e.doc,u,c,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=Rd(e.doc,u,c,this.dom,this)),b&&!this.trackWrites&&(y=!0)}y||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Zw(this))?Kn(this,y):(Wd(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),h=="reset"?this.dom.scrollTop=0:h=="to selection"?this.scrollToSelection():m&&Tw(m)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof se){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&xd(this,t.getBoundingClientRect(),e)}else xd(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}}someProp(e,t){let r=this._props&&this._props[e],i;if(r!=null&&(i=t?t(r):r))return i;for(let a=0;a<this.directPlugins.length;a++){let c=this.directPlugins[a].props[e];if(c!=null&&(i=t?t(c):c))return i}let s=this.state.plugins;if(s)for(let a=0;a<s.length;a++){let c=s[a].props[e];if(c!=null&&(i=t?t(c):c))return i}}hasFocus(){if(Rt){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Nw(this.dom),Kn(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}posAtCoords(e){return Iw(this,e)}coordsAtPos(e,t=1){return Cd(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let i=this.docView.posFromDOM(e,t,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,t){return $w(this,t||this.state,e)}destroy(){!this.docView||(ux(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Ul(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(e){return dx(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){return xt&&this.root.nodeType===11&&Ew(this.dom.ownerDocument)==this.dom?Ix(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function vp(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),e.translate="no",n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let r in t)r=="class"&&(e.class+=" "+t[r]),r=="style"?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(t[r]))}),[rn.node(0,n.state.doc.content.size,e)]}function wp(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:rn.widget(n.state.selection.head,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function xp(n){return!n.someProp("editable",e=>e(n.state)===!1)}function Hx(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function Ep(n){let e=Object.create(null);function t(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function Wx(n,e){let t=0,r=0;for(let i in n){if(n[i]!=e[i])return!0;t++}for(let i in e)r++;return t!=r}function Sp(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var wr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Rs={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},kp=typeof navigator<"u"&&/Chrome\/(\d+)/.exec(navigator.userAgent);typeof navigator<"u"&&/Gecko\/\d+/.test(navigator.userAgent);for(var jx=typeof navigator<"u"&&/Mac/.test(navigator.platform),Ux=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),qx=jx||kp&&+kp[1]<57,ct=0;ct<10;ct++)wr[48+ct]=wr[96+ct]=String(ct);for(var ct=1;ct<=24;ct++)wr[ct+111]="F"+ct;for(var ct=65;ct<=90;ct++)wr[ct]=String.fromCharCode(ct+32),Rs[ct]=String.fromCharCode(ct);for(var Kl in wr)Rs.hasOwnProperty(Kl)||(Rs[Kl]=wr[Kl]);function Kx(n){var e=qx&&(n.ctrlKey||n.altKey||n.metaKey)||Ux&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?Rs:wr)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const Jx=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function Gx(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let r,i,s,a;for(let c=0;c<e.length-1;c++){let u=e[c];if(/^(cmd|meta|m)$/i.test(u))a=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))i=!0;else if(/^s(hift)?$/i.test(u))s=!0;else if(/^mod$/i.test(u))Jx?a=!0:i=!0;else throw new Error("Unrecognized modifier name: "+u)}return r&&(t="Alt-"+t),i&&(t="Ctrl-"+t),a&&(t="Meta-"+t),s&&(t="Shift-"+t),t}function Yx(n){let e=Object.create(null);for(let t in n)e[Gx(t)]=n[t];return e}function Jl(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t!==!1&&e.shiftKey&&(n="Shift-"+n),n}function Xx(n){return new Dt({props:{handleKeyDown:_p(n)}})}function _p(n){let e=Yx(n);return function(t,r){let i=Kx(r),s=i.length==1&&i!=" ",a,c=e[Jl(i,r,!s)];if(c&&c(t.state,t.dispatch,t))return!0;if(s&&(r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(a=wr[r.keyCode])&&a!=i){let u=e[Jl(a,r,!0)];if(u&&u(t.state,t.dispatch,t))return!0}else if(s&&r.shiftKey){let u=e[Jl(i,r,!0)];if(u&&u(t.state,t.dispatch,t))return!0}return!1}}const Zx=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0),Qx=(n,e,t)=>{let{$cursor:r}=n.selection;if(!r||(t?!t.endOfTextblock("backward",n):r.parentOffset>0))return!1;let i=Cp(r);if(!i){let a=r.blockRange(),c=a&&mi(a);return c==null?!1:(e&&e(n.tr.lift(a,c).scrollIntoView()),!0)}let s=i.nodeBefore;if(!s.type.spec.isolating&&Np(n,i,e))return!0;if(r.parent.content.size==0&&(Ni(s,"end")||se.isSelectable(s))){let a=hl(n.doc,r.before(),r.after(),J.empty);if(a&&a.slice.size<a.to-a.from){if(e){let c=n.tr.step(a);c.setSelection(Ni(s,"end")?de.findFrom(c.doc.resolve(c.mapping.map(i.pos,-1)),-1):se.create(c.doc,i.pos-s.nodeSize)),e(c.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1};function Ni(n,e,t=!1){for(let r=n;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&r.childCount!=1)return!1}return!1}const eE=(n,e,t)=>{let{$head:r,empty:i}=n.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):r.parentOffset>0)return!1;s=Cp(r)}let a=s&&s.nodeBefore;return!a||!se.isSelectable(a)?!1:(e&&e(n.tr.setSelection(se.create(n.doc,s.pos-a.nodeSize)).scrollIntoView()),!0)};function Cp(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}const tE=(n,e,t)=>{let{$cursor:r}=n.selection;if(!r||(t?!t.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size))return!1;let i=Op(r);if(!i)return!1;let s=i.nodeAfter;if(Np(n,i,e))return!0;if(r.parent.content.size==0&&(Ni(s,"start")||se.isSelectable(s))){let a=hl(n.doc,r.before(),r.after(),J.empty);if(a&&a.slice.size<a.to-a.from){if(e){let c=n.tr.step(a);c.setSelection(Ni(s,"start")?de.findFrom(c.doc.resolve(c.mapping.map(i.pos)),1):se.create(c.doc,c.mapping.map(i.pos))),e(c.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},nE=(n,e,t)=>{let{$head:r,empty:i}=n.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;s=Op(r)}let a=s&&s.nodeAfter;return!a||!se.isSelectable(a)?!1:(e&&e(n.tr.setSelection(se.create(n.doc,s.pos)).scrollIntoView()),!0)};function Op(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const rE=(n,e)=>{let{$from:t,$to:r}=n.selection,i=t.blockRange(r),s=i&&mi(i);return s==null?!1:(e&&e(n.tr.lift(i,s).scrollIntoView()),!0)},iE=(n,e)=>{let{$head:t,$anchor:r}=n.selection;return!t.parent.type.spec.code||!t.sameParent(r)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function Tp(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const oE=(n,e)=>{let{$head:t,$anchor:r}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let i=t.node(-1),s=t.indexAfter(-1),a=Tp(i.contentMatchAt(s));if(!a||!i.canReplaceWith(s,s,a))return!1;if(e){let c=t.after(),u=n.tr.replaceWith(c,c,a.createAndFill());u.setSelection(de.near(u.doc.resolve(c),1)),e(u.scrollIntoView())}return!0},sE=(n,e)=>{let t=n.selection,{$from:r,$to:i}=t;if(t instanceof yn||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=Tp(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let a=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,c=n.tr.insert(a,s.createAndFill());c.setSelection(me.create(c.doc,a+1)),e(c.scrollIntoView())}return!0},aE=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let s=t.before();if(gi(n.doc,s))return e&&e(n.tr.split(s).scrollIntoView()),!0}let r=t.blockRange(),i=r&&mi(r);return i==null?!1:(e&&e(n.tr.lift(r,i).scrollIntoView()),!0)},lE=(n,e)=>{let{$from:t,to:r}=n.selection,i,s=t.sharedDepth(r);return s==0?!1:(i=t.before(s),e&&e(n.tr.setSelection(se.create(n.doc,i))),!0)};function cE(n,e,t){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(t&&t(n.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||yi(n.doc,e.pos))?!1:(t&&t(n.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0)}function Np(n,e,t){let r=e.nodeBefore,i=e.nodeAfter,s,a;if(r.type.spec.isolating||i.type.spec.isolating)return!1;if(cE(n,e,t))return!0;let c=e.parent.canReplace(e.index(),e.index()+1);if(c&&(s=(a=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&a.matchType(s[0]||i.type).validEnd){if(t){let m=e.pos+i.nodeSize,y=F.empty;for(let S=s.length-1;S>=0;S--)y=F.from(s[S].create(null,y));y=F.from(r.copy(y));let b=n.tr.step(new rt(e.pos-1,m,e.pos,m,new J(y,1,0),s.length,!0)),E=m+2*s.length;yi(b.doc,E)&&b.join(E),t(b.scrollIntoView())}return!0}let u=de.findFrom(e,1),h=u&&u.$from.blockRange(u.$to),p=h&&mi(h);if(p!=null&&p>=e.depth)return t&&t(n.tr.lift(h,p).scrollIntoView()),!0;if(c&&Ni(i,"start",!0)&&Ni(r,"end")){let m=r,y=[];for(;y.push(m),!m.isTextblock;)m=m.lastChild;let b=i,E=1;for(;!b.isTextblock;b=b.firstChild)E++;if(m.canReplace(m.childCount,m.childCount,b.content)){if(t){let S=F.empty;for(let M=y.length-1;M>=0;M--)S=F.from(y[M].copy(S));let O=n.tr.step(new rt(e.pos-y.length,e.pos+i.nodeSize,e.pos+E,e.pos+i.nodeSize-E,new J(S,y.length,0),0,!0));t(O.scrollIntoView())}return!0}}return!1}function Mp(n){return function(e,t){let r=e.selection,i=n<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(t&&t(e.tr.setSelection(me.create(e.doc,n<0?i.start(s):i.end(s)))),!0):!1}}const uE=Mp(-1),fE=Mp(1);function dE(n,e=null){return function(t,r){let{$from:i,$to:s}=t.selection,a=i.blockRange(s),c=a&&pl(a,n,e);return c?(r&&r(t.tr.wrap(a,c).scrollIntoView()),!0):!1}}function Ap(n,e=null){return function(t,r){let{from:i,to:s}=t.selection,a=!1;return t.doc.nodesBetween(i,s,(c,u)=>{if(a)return!1;if(!(!c.isTextblock||c.hasMarkup(n,e)))if(c.type==n)a=!0;else{let h=t.doc.resolve(u),p=h.index();a=h.parent.canReplaceWith(p,p+1,n)}}),a?(r&&r(t.tr.setBlockType(i,s,n,e).scrollIntoView()),!0):!1}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function pE(n,e=null){return function(t,r){let{$from:i,$to:s}=t.selection,a=i.blockRange(s),c=!1,u=a;if(!a)return!1;if(a.depth>=2&&i.node(a.depth-1).type.compatibleContent(n)&&a.startIndex==0){if(i.index(a.depth-1)==0)return!1;let p=t.doc.resolve(a.start-2);u=new gs(p,p,a.depth),a.endIndex<a.parent.childCount&&(a=new gs(i,t.doc.resolve(s.end(a.depth)),a.depth)),c=!0}let h=pl(u,n,e,a);return h?(r&&r(hE(t.tr,a,h,c,n).scrollIntoView()),!0):!1}}function hE(n,e,t,r,i){let s=F.empty;for(let p=t.length-1;p>=0;p--)s=F.from(t[p].type.create(t[p].attrs,s));n.step(new rt(e.start-(r?2:0),e.end,e.start,e.end,new J(s,0,0),t.length,!0));let a=0;for(let p=0;p<t.length;p++)t[p].type==i&&(a=p+1);let c=t.length-a,u=e.start+t.length-(r?2:0),h=e.parent;for(let p=e.startIndex,m=e.endIndex,y=!0;p<m;p++,y=!1)!y&&gi(n.doc,u,c)&&(n.split(u,c),u+=2*c),u+=h.child(p).nodeSize;return n}function mE(n){return function(e,t){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,a=>a.childCount>0&&a.firstChild.type==n);return s?t?r.node(s.depth-1).type==n?gE(e,t,n,s):yE(e,t,s):!0:!1}}function gE(n,e,t,r){let i=n.tr,s=r.end,a=r.$to.end(r.depth);s<a&&(i.step(new rt(s-1,a,s,a,new J(F.from(t.create(null,r.parent.copy())),1,0),1,!0)),r=new gs(i.doc.resolve(r.$from.pos),i.doc.resolve(a),r.depth));const c=mi(r);if(c==null)return!1;i.lift(r,c);let u=i.mapping.map(s,-1)-1;return yi(i.doc,u)&&i.join(u),e(i.scrollIntoView()),!0}function yE(n,e,t){let r=n.tr,i=t.parent;for(let b=t.end,E=t.endIndex-1,S=t.startIndex;E>S;E--)b-=i.child(E).nodeSize,r.delete(b-1,b+1);let s=r.doc.resolve(t.start),a=s.nodeAfter;if(r.mapping.map(t.end)!=t.start+s.nodeAfter.nodeSize)return!1;let c=t.startIndex==0,u=t.endIndex==i.childCount,h=s.node(-1),p=s.index(-1);if(!h.canReplace(p+(c?0:1),p+1,a.content.append(u?F.empty:F.from(i))))return!1;let m=s.pos,y=m+a.nodeSize;return r.step(new rt(m-(c?1:0),y+(u?1:0),m+1,y-1,new J((c?F.empty:F.from(i.copy(F.empty))).append(u?F.empty:F.from(i.copy(F.empty))),c?0:1,u?0:1),c?0:1)),e(r.scrollIntoView()),!0}function bE(n){return function(e,t){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,h=>h.childCount>0&&h.firstChild.type==n);if(!s)return!1;let a=s.startIndex;if(a==0)return!1;let c=s.parent,u=c.child(a-1);if(u.type!=n)return!1;if(t){let h=u.lastChild&&u.lastChild.type==c.type,p=F.from(h?n.create():null),m=new J(F.from(n.create(null,F.from(c.type.create(null,p)))),h?3:1,0),y=s.start,b=s.end;t(e.tr.step(new rt(y-(h?3:1),b,y,b,m,1,!0)).scrollIntoView())}return!0}}function Is(n){const{state:e,transaction:t}=n;let{selection:r}=t,{doc:i}=t,{storedMarks:s}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),filterTransaction:e.filterTransaction,plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=t.selection,i=t.doc,s=t.storedMarks,t}}}class Ps{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:r}=this,{view:i}=t,{tr:s}=r,a=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([c,u])=>[c,(...p)=>{const m=u(...p)(a);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(s),m}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:r,editor:i,state:s}=this,{view:a}=i,c=[],u=!!e,h=e||s.tr,p=()=>(!u&&t&&!h.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(h),c.every(y=>y===!0)),m={...Object.fromEntries(Object.entries(r).map(([y,b])=>[y,(...S)=>{const O=this.buildProps(h,t),M=b(...S)(O);return c.push(M),m}])),run:p};return m}createCan(e){const{rawCommands:t,state:r}=this,i=!1,s=e||r.tr,a=this.buildProps(s,i);return{...Object.fromEntries(Object.entries(t).map(([u,h])=>[u,(...p)=>h(...p)({...a,dispatch:void 0})])),chain:()=>this.createChain(s,i)}}buildProps(e,t=!0){const{rawCommands:r,editor:i,state:s}=this,{view:a}=i;s.storedMarks&&e.setStoredMarks(s.storedMarks);const c={tr:e,editor:i,view:a,state:Is({state:s,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([u,h])=>[u,(...p)=>h(...p)(c)]))}};return c}}class vE{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,t)),this}off(e,t){const r=this.callbacks[e];return r&&(t?this.callbacks[e]=r.filter(i=>i!==t):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}function Z(n,e,t){return n.config[e]===void 0&&n.parent?Z(n.parent,e,t):typeof n.config[e]=="function"?n.config[e].bind({...t,parent:n.parent?Z(n.parent,e,t):null}):n.config[e]}function Bs(n){const e=n.filter(i=>i.type==="extension"),t=n.filter(i=>i.type==="node"),r=n.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:r}}function Dp(n){const e=[],{nodeExtensions:t,markExtensions:r}=Bs(n),i=[...t,...r],s={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(a=>{const c={name:a.name,options:a.options,storage:a.storage},u=Z(a,"addGlobalAttributes",c);if(!u)return;u().forEach(p=>{p.types.forEach(m=>{Object.entries(p.attributes).forEach(([y,b])=>{e.push({type:m,name:y,attribute:{...s,...b}})})})})}),i.forEach(a=>{const c={name:a.name,options:a.options,storage:a.storage},u=Z(a,"addAttributes",c);if(!u)return;const h=u();Object.entries(h).forEach(([p,m])=>{const y={...s,...m};(m==null?void 0:m.isRequired)&&(m==null?void 0:m.default)===void 0&&delete y.default,e.push({type:a.name,name:p,attribute:y})})}),e}function it(n,e){if(typeof n=="string"){if(!e.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return e.nodes[n]}return n}function kt(...n){return n.filter(e=>!!e).reduce((e,t)=>{const r={...e};return Object.entries(t).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}i==="class"?r[i]=[r[i],s].join(" "):i==="style"?r[i]=[r[i],s].join("; "):r[i]=s}),r},{})}function Gl(n,e){return e.filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(n.attrs)||{}:{[t.name]:n.attrs[t.name]}).reduce((t,r)=>kt(t,r),{})}function Rp(n){return typeof n=="function"}function pe(n,e=void 0,...t){return Rp(n)?e?n.bind(e)(...t):n(...t):n}function wE(n={}){return Object.keys(n).length===0&&n.constructor===Object}function xE(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function Ip(n,e){return n.style?n:{...n,getAttrs:t=>{const r=n.getAttrs?n.getAttrs(t):n.attrs;if(r===!1)return!1;const i=e.reduce((s,a)=>{const c=a.attribute.parseHTML?a.attribute.parseHTML(t):xE(t.getAttribute(a.name));return c==null?s:{...s,[a.name]:c}},{});return{...r,...i}}}}function Pp(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>e==="attrs"&&wE(t)?!1:t!=null))}function EE(n){var e;const t=Dp(n),{nodeExtensions:r,markExtensions:i}=Bs(n),s=(e=r.find(u=>Z(u,"topNode")))===null||e===void 0?void 0:e.name,a=Object.fromEntries(r.map(u=>{const h=t.filter(O=>O.type===u.name),p={name:u.name,options:u.options,storage:u.storage},m=n.reduce((O,M)=>{const I=Z(M,"extendNodeSchema",p);return{...O,...I?I(u):{}}},{}),y=Pp({...m,content:pe(Z(u,"content",p)),marks:pe(Z(u,"marks",p)),group:pe(Z(u,"group",p)),inline:pe(Z(u,"inline",p)),atom:pe(Z(u,"atom",p)),selectable:pe(Z(u,"selectable",p)),draggable:pe(Z(u,"draggable",p)),code:pe(Z(u,"code",p)),defining:pe(Z(u,"defining",p)),isolating:pe(Z(u,"isolating",p)),attrs:Object.fromEntries(h.map(O=>{var M;return[O.name,{default:(M=O==null?void 0:O.attribute)===null||M===void 0?void 0:M.default}]}))}),b=pe(Z(u,"parseHTML",p));b&&(y.parseDOM=b.map(O=>Ip(O,h)));const E=Z(u,"renderHTML",p);E&&(y.toDOM=O=>E({node:O,HTMLAttributes:Gl(O,h)}));const S=Z(u,"renderText",p);return S&&(y.toText=S),[u.name,y]})),c=Object.fromEntries(i.map(u=>{const h=t.filter(S=>S.type===u.name),p={name:u.name,options:u.options,storage:u.storage},m=n.reduce((S,O)=>{const M=Z(O,"extendMarkSchema",p);return{...S,...M?M(u):{}}},{}),y=Pp({...m,inclusive:pe(Z(u,"inclusive",p)),excludes:pe(Z(u,"excludes",p)),group:pe(Z(u,"group",p)),spanning:pe(Z(u,"spanning",p)),code:pe(Z(u,"code",p)),attrs:Object.fromEntries(h.map(S=>{var O;return[S.name,{default:(O=S==null?void 0:S.attribute)===null||O===void 0?void 0:O.default}]}))}),b=pe(Z(u,"parseHTML",p));b&&(y.parseDOM=b.map(S=>Ip(S,h)));const E=Z(u,"renderHTML",p);return E&&(y.toDOM=S=>E({mark:S,HTMLAttributes:Gl(S,h)})),[u.name,y]}));return new V1({topNode:s,nodes:a,marks:c})}function Yl(n,e){return e.nodes[n]||e.marks[n]||null}function Bp(n,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===n.name):e}const SE=(n,e=500)=>{let t="";const r=n.parentOffset;return n.parent.nodesBetween(Math.max(0,r-e),r,(i,s,a,c)=>{var u,h;const p=((h=(u=i.type.spec).toText)===null||h===void 0?void 0:h.call(u,{node:i,pos:s,parent:a,index:c}))||i.textContent||"%leaf%";t+=p.slice(0,Math.max(0,r-s))}),t};function Xl(n){return Object.prototype.toString.call(n)==="[object RegExp]"}class Ls{constructor(e){this.find=e.find,this.handler=e.handler}}const kE=(n,e)=>{if(Xl(e))return e.exec(n);const t=e(n);if(!t)return null;const r=[];return r.push(t.text),r.index=t.index,r.input=n,r.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(t.replaceWith)),r};function Zl(n){var e;const{editor:t,from:r,to:i,text:s,rules:a,plugin:c}=n,{view:u}=t;if(u.composing)return!1;const h=u.state.doc.resolve(r);if(h.parent.type.spec.code||!!(!((e=h.nodeBefore||h.nodeAfter)===null||e===void 0)&&e.marks.find(y=>y.type.spec.code)))return!1;let p=!1;const m=SE(h)+s;return a.forEach(y=>{if(p)return;const b=kE(m,y.find);if(!b)return;const E=u.state.tr,S=Is({state:u.state,transaction:E}),O={from:r-(b[0].length-s.length),to:i},{commands:M,chain:I,can:z}=new Ps({editor:t,state:S});y.handler({state:S,range:O,match:b,commands:M,chain:I,can:z})===null||!E.steps.length||(E.setMeta(c,{transform:E,from:r,to:i,text:s}),u.dispatch(E),p=!0)}),p}function _E(n){const{editor:e,rules:t}=n,r=new Dt({state:{init(){return null},apply(i,s){const a=i.getMeta(r);return a||(i.selectionSet||i.docChanged?null:s)}},props:{handleTextInput(i,s,a,c){return Zl({editor:e,from:s,to:a,text:c,rules:t,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&Zl({editor:e,from:s.pos,to:s.pos,text:"",rules:t,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:a}=i.state.selection;return a?Zl({editor:e,from:a.pos,to:a.pos,text:`
`,rules:t,plugin:r}):!1}},isInputRules:!0});return r}function CE(n){return typeof n=="number"}class OE{constructor(e){this.find=e.find,this.handler=e.handler}}const TE=(n,e)=>{if(Xl(e))return[...n.matchAll(e)];const t=e(n);return t?t.map(r=>{const i=[];return i.push(r.text),i.index=r.index,i.input=n,i.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(r.replaceWith)),i}):[]};function NE(n){const{editor:e,state:t,from:r,to:i,rule:s}=n,{commands:a,chain:c,can:u}=new Ps({editor:e,state:t}),h=[];return t.doc.nodesBetween(r,i,(m,y)=>{if(!m.isTextblock||m.type.spec.code)return;const b=Math.max(r,y),E=Math.min(i,y+m.content.size),S=m.textBetween(b-y,E-y,void 0,"\uFFFC");TE(S,s.find).forEach(M=>{if(M.index===void 0)return;const I=b+M.index+1,z=I+M[0].length,_={from:t.tr.mapping.map(I),to:t.tr.mapping.map(z)},H=s.handler({state:t,range:_,match:M,commands:a,chain:c,can:u});h.push(H)})}),h.every(m=>m!==null)}function ME(n){const{editor:e,rules:t}=n;let r=null,i=!1,s=!1;return t.map(c=>new Dt({view(u){const h=p=>{var m;r=!((m=u.dom.parentElement)===null||m===void 0)&&m.contains(p.target)?u.dom.parentElement:null};return window.addEventListener("dragstart",h),{destroy(){window.removeEventListener("dragstart",h)}}},props:{handleDOMEvents:{drop:u=>(s=r===u.dom.parentElement,!1),paste:(u,h)=>{var p;const m=(p=h.clipboardData)===null||p===void 0?void 0:p.getData("text/html");return i=!!(m!=null&&m.includes("data-pm-slice")),!1}}},appendTransaction:(u,h,p)=>{const m=u[0],y=m.getMeta("uiEvent")==="paste"&&!i,b=m.getMeta("uiEvent")==="drop"&&!s;if(!y&&!b)return;const E=h.doc.content.findDiffStart(p.doc.content),S=h.doc.content.findDiffEnd(p.doc.content);if(!CE(E)||!S||E===S.b)return;const O=p.tr,M=Is({state:p,transaction:O});if(!(!NE({editor:e,state:M,from:Math.max(E-1,0),to:S.b-1,rule:c})||!O.steps.length))return O}}))}function AE(n){const e=n.filter((t,r)=>n.indexOf(t)!==r);return[...new Set(e)]}class Mi{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=Mi.resolve(e),this.schema=EE(this.extensions),this.extensions.forEach(r=>{var i;this.editor.extensionStorage[r.name]=r.storage;const s={name:r.name,options:r.options,storage:r.storage,editor:this.editor,type:Yl(r.name,this.schema)};r.type==="mark"&&((i=pe(Z(r,"keepOnSplit",s)))!==null&&i!==void 0?i:!0)&&this.splittableMarks.push(r.name);const a=Z(r,"onBeforeCreate",s);a&&this.editor.on("beforeCreate",a);const c=Z(r,"onCreate",s);c&&this.editor.on("create",c);const u=Z(r,"onUpdate",s);u&&this.editor.on("update",u);const h=Z(r,"onSelectionUpdate",s);h&&this.editor.on("selectionUpdate",h);const p=Z(r,"onTransaction",s);p&&this.editor.on("transaction",p);const m=Z(r,"onFocus",s);m&&this.editor.on("focus",m);const y=Z(r,"onBlur",s);y&&this.editor.on("blur",y);const b=Z(r,"onDestroy",s);b&&this.editor.on("destroy",b)})}static resolve(e){const t=Mi.sort(Mi.flatten(e)),r=AE(t.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(t=>{const r={name:t.name,options:t.options,storage:t.storage},i=Z(t,"addExtensions",r);return i?[t,...this.flatten(i())]:t}).flat(10)}static sort(e){return e.sort((r,i)=>{const s=Z(r,"priority")||100,a=Z(i,"priority")||100;return s>a?-1:s<a?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const r={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:Yl(t.name,this.schema)},i=Z(t,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,t=Mi.sort([...this.extensions].reverse()),r=[],i=[],s=t.map(a=>{const c={name:a.name,options:a.options,storage:a.storage,editor:e,type:Yl(a.name,this.schema)},u=[],h=Z(a,"addKeyboardShortcuts",c);let p={};if(a.type==="mark"&&a.config.exitable&&(p.ArrowRight=()=>Er.handleExit({editor:e,mark:a})),h){const S=Object.fromEntries(Object.entries(h()).map(([O,M])=>[O,()=>M({editor:e})]));p={...p,...S}}const m=Xx(p);u.push(m);const y=Z(a,"addInputRules",c);Bp(a,e.options.enableInputRules)&&y&&r.push(...y());const b=Z(a,"addPasteRules",c);Bp(a,e.options.enablePasteRules)&&b&&i.push(...b());const E=Z(a,"addProseMirrorPlugins",c);if(E){const S=E();u.push(...S)}return u}).flat();return[_E({editor:e,rules:r}),...ME({editor:e,rules:i}),...s]}get attributes(){return Dp(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=Bs(this.extensions);return Object.fromEntries(t.filter(r=>!!Z(r,"addNodeView")).map(r=>{const i=this.attributes.filter(u=>u.type===r.name),s={name:r.name,options:r.options,storage:r.storage,editor:e,type:it(r.name,this.schema)},a=Z(r,"addNodeView",s);if(!a)return[];const c=(u,h,p,m)=>{const y=Gl(u,i);return a()({editor:e,node:u,getPos:p,decorations:m,HTMLAttributes:y,extension:r})};return[r.name,c]}))}}function DE(n){return Object.prototype.toString.call(n).slice(8,-1)}function Ql(n){return DE(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function Vs(n,e){const t={...n};return Ql(n)&&Ql(e)&&Object.keys(e).forEach(r=>{Ql(e[r])?r in n?t[r]=Vs(n[r],e[r]):Object.assign(t,{[r]:e[r]}):Object.assign(t,{[r]:e[r]})}),t}class _t{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=pe(Z(this,"addOptions",{name:this.name}))),this.storage=pe(Z(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new _t(e)}configure(e={}){const t=this.extend();return t.options=Vs(this.options,e),t.storage=pe(Z(t,"addStorage",{name:t.name,options:t.options})),t}extend(e={}){const t=new _t(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=pe(Z(t,"addOptions",{name:t.name})),t.storage=pe(Z(t,"addStorage",{name:t.name,options:t.options})),t}}function Lp(n,e,t){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:a={}}=t||{};let c="",u=!0;return n.nodesBetween(r,i,(h,p,m,y)=>{var b;const E=a==null?void 0:a[h.type.name];E?(h.isBlock&&!u&&(c+=s,u=!0),m&&(c+=E({node:h,pos:p,parent:m,index:y,range:e}))):h.isText?(c+=(b=h==null?void 0:h.text)===null||b===void 0?void 0:b.slice(Math.max(r,p)-p,i-p),u=!1):h.isBlock&&!u&&(c+=s,u=!0)}),c}function Vp(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const RE=_t.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new Dt({key:new Dn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:e,schema:t}=n,{doc:r,selection:i}=e,{ranges:s}=i,a=Math.min(...s.map(p=>p.$from.pos)),c=Math.max(...s.map(p=>p.$to.pos)),u=Vp(t);return Lp(r,{from:a,to:c},{textSerializers:u})}}})]}}),IE=()=>({editor:n,view:e})=>(requestAnimationFrame(()=>{var t;n.isDestroyed||(e.dom.blur(),(t=window==null?void 0:window.getSelection())===null||t===void 0||t.removeAllRanges())}),!0),PE=(n=!1)=>({commands:e})=>e.setContent("",n),BE=()=>({state:n,tr:e,dispatch:t})=>{const{selection:r}=e,{ranges:i}=r;return t&&i.forEach(({$from:s,$to:a})=>{n.doc.nodesBetween(s.pos,a.pos,(c,u)=>{if(c.type.isText)return;const{doc:h,mapping:p}=e,m=h.resolve(p.map(u)),y=h.resolve(p.map(u+c.nodeSize)),b=m.blockRange(y);if(!b)return;const E=mi(b);if(c.type.isTextblock){const{defaultType:S}=m.parent.contentMatchAt(m.index());e.setNodeMarkup(b.start,S)}(E||E===0)&&e.lift(b,E)})}),!0},LE=n=>e=>n(e),VE=()=>({state:n,dispatch:e})=>sE(n,e),$E=n=>({tr:e,state:t,dispatch:r})=>{const i=it(n,t.schema),s=e.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===i){if(r){const u=s.before(a),h=s.after(a);e.delete(u,h).scrollIntoView()}return!0}return!1},FE=n=>({tr:e,dispatch:t})=>{const{from:r,to:i}=n;return t&&e.delete(r,i),!0},zE=()=>({state:n,dispatch:e})=>Zx(n,e),HE=()=>({commands:n})=>n.keyboardShortcut("Enter"),WE=()=>({state:n,dispatch:e})=>oE(n,e);function $s(n,e,t={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>t.strict?e[i]===n[i]:Xl(e[i])?e[i].test(n[i]):e[i]===n[i]):!0}function ec(n,e,t={}){return n.find(r=>r.type===e&&$s(r.attrs,t))}function jE(n,e,t={}){return!!ec(n,e,t)}function tc(n,e,t={}){if(!n||!e)return;let r=n.parent.childAfter(n.parentOffset);if(n.parentOffset===r.offset&&r.offset!==0&&(r=n.parent.childBefore(n.parentOffset)),!r.node)return;const i=ec([...r.node.marks],e,t);if(!i)return;let s=r.index,a=n.start()+r.offset,c=s+1,u=a+r.node.nodeSize;for(ec([...r.node.marks],e,t);s>0&&i.isInSet(n.parent.child(s-1).marks);)s-=1,a-=n.parent.child(s).nodeSize;for(;c<n.parent.childCount&&jE([...n.parent.child(c).marks],e,t);)u+=n.parent.child(c).nodeSize,c+=1;return{from:a,to:u}}function xr(n,e){if(typeof n=="string"){if(!e.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return e.marks[n]}return n}const UE=(n,e={})=>({tr:t,state:r,dispatch:i})=>{const s=xr(n,r.schema),{doc:a,selection:c}=t,{$from:u,from:h,to:p}=c;if(i){const m=tc(u,s,e);if(m&&m.from<=h&&m.to>=p){const y=me.create(a,m.from,m.to);t.setSelection(y)}}return!0},qE=n=>e=>{const t=typeof n=="function"?n(e):n;for(let r=0;r<t.length;r+=1)if(t[r](e))return!0;return!1};function nc(n){return n instanceof me}function Jn(n=0,e=0,t=0){return Math.min(Math.max(n,e),t)}function $p(n,e=null){if(!e)return null;const t=de.atStart(n),r=de.atEnd(n);if(e==="start"||e===!0)return t;if(e==="end")return r;const i=t.from,s=r.to;return e==="all"?me.create(n,Jn(0,i,s),Jn(n.content.size,i,s)):me.create(n,Jn(e,i,s),Jn(e,i,s))}function rc(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const KE=(n=null,e={})=>({editor:t,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const a=()=>{rc()&&r.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&t.commands.scrollIntoView())})};if(r.hasFocus()&&n===null||n===!1)return!0;if(s&&n===null&&!nc(t.state.selection))return a(),!0;const c=$p(i.doc,n)||t.state.selection,u=t.state.selection.eq(c);return s&&(u||i.setSelection(c),u&&i.storedMarks&&i.setStoredMarks(i.storedMarks),a()),!0},JE=(n,e)=>t=>n.every((r,i)=>e(r,{...t,index:i})),GE=(n,e)=>({tr:t,commands:r})=>r.insertContentAt({from:t.selection.from,to:t.selection.to},n,e);function Fp(n){const e=`<body>${n}</body>`;return new window.DOMParser().parseFromString(e,"text/html").body}function Fs(n,e,t){if(t={slice:!0,parseOptions:{},...t},typeof n=="object"&&n!==null)try{return Array.isArray(n)?F.fromArray(n.map(r=>e.nodeFromJSON(r))):e.nodeFromJSON(n)}catch(r){return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",r),Fs("",e,t)}if(typeof n=="string"){const r=di.fromSchema(e);return t.slice?r.parseSlice(Fp(n),t.parseOptions).content:r.parse(Fp(n),t.parseOptions)}return Fs("",e,t)}function YE(n,e,t){const r=n.steps.length-1;if(r<e)return;const i=n.steps[r];if(!(i instanceof ht||i instanceof rt))return;const s=n.mapping.maps[r];let a=0;s.forEach((c,u,h,p)=>{a===0&&(a=p)}),n.setSelection(de.near(n.doc.resolve(a),t))}const XE=n=>n.toString().startsWith("<"),ZE=(n,e,t)=>({tr:r,dispatch:i,editor:s})=>{if(i){t={parseOptions:{},updateSelection:!0,...t};const a=Fs(e,s.schema,{parseOptions:{preserveWhitespace:"full",...t.parseOptions}});if(a.toString()==="<>")return!0;let{from:c,to:u}=typeof n=="number"?{from:n,to:n}:n,h=!0,p=!0;if((XE(a)?a:[a]).forEach(y=>{y.check(),h=h?y.isText&&y.marks.length===0:!1,p=p?y.isBlock:!1}),c===u&&p){const{parent:y}=r.doc.resolve(c);y.isTextblock&&!y.type.spec.code&&!y.childCount&&(c-=1,u+=1)}h?r.insertText(e,c,u):r.replaceWith(c,u,a),t.updateSelection&&YE(r,r.steps.length-1,-1)}return!0},QE=()=>({state:n,dispatch:e})=>Qx(n,e),eS=()=>({state:n,dispatch:e})=>tE(n,e);function zp(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function tS(n){const e=n.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let r,i,s,a;for(let c=0;c<e.length-1;c+=1){const u=e[c];if(/^(cmd|meta|m)$/i.test(u))a=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))i=!0;else if(/^s(hift)?$/i.test(u))s=!0;else if(/^mod$/i.test(u))rc()||zp()?a=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${u}`)}return r&&(t=`Alt-${t}`),i&&(t=`Ctrl-${t}`),a&&(t=`Meta-${t}`),s&&(t=`Shift-${t}`),t}const nS=n=>({editor:e,view:t,tr:r,dispatch:i})=>{const s=tS(n).split(/-(?!$)/),a=s.find(h=>!["Alt","Ctrl","Meta","Shift"].includes(h)),c=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),u=e.captureTransaction(()=>{t.someProp("handleKeyDown",h=>h(t,c))});return u==null||u.steps.forEach(h=>{const p=h.map(r.mapping);p&&i&&r.maybeStep(p)}),!0};function ko(n,e,t={}){const{from:r,to:i,empty:s}=n.selection,a=e?it(e,n.schema):null,c=[];n.doc.nodesBetween(r,i,(m,y)=>{if(m.isText)return;const b=Math.max(r,y),E=Math.min(i,y+m.nodeSize);c.push({node:m,from:b,to:E})});const u=i-r,h=c.filter(m=>a?a.name===m.node.type.name:!0).filter(m=>$s(m.node.attrs,t,{strict:!1}));return s?!!h.length:h.reduce((m,y)=>m+y.to-y.from,0)>=u}const rS=(n,e={})=>({state:t,dispatch:r})=>{const i=it(n,t.schema);return ko(t,i,e)?rE(t,r):!1},iS=()=>({state:n,dispatch:e})=>aE(n,e),oS=n=>({state:e,dispatch:t})=>{const r=it(n,e.schema);return mE(r)(e,t)},sS=()=>({state:n,dispatch:e})=>iE(n,e);function zs(n,e){return e.nodes[n]?"node":e.marks[n]?"mark":null}function Hp(n,e){const t=typeof e=="string"?[e]:e;return Object.keys(n).reduce((r,i)=>(t.includes(i)||(r[i]=n[i]),r),{})}const aS=(n,e)=>({tr:t,state:r,dispatch:i})=>{let s=null,a=null;const c=zs(typeof n=="string"?n:n.name,r.schema);return c?(c==="node"&&(s=it(n,r.schema)),c==="mark"&&(a=xr(n,r.schema)),i&&t.selection.ranges.forEach(u=>{r.doc.nodesBetween(u.$from.pos,u.$to.pos,(h,p)=>{s&&s===h.type&&t.setNodeMarkup(p,void 0,Hp(h.attrs,e)),a&&h.marks.length&&h.marks.forEach(m=>{a===m.type&&t.addMark(p,p+h.nodeSize,a.create(Hp(m.attrs,e)))})})}),!0):!1},lS=()=>({tr:n,dispatch:e})=>(e&&n.scrollIntoView(),!0),cS=()=>({tr:n,commands:e})=>e.setTextSelection({from:0,to:n.doc.content.size}),uS=()=>({state:n,dispatch:e})=>eE(n,e),fS=()=>({state:n,dispatch:e})=>nE(n,e),dS=()=>({state:n,dispatch:e})=>lE(n,e),pS=()=>({state:n,dispatch:e})=>fE(n,e),hS=()=>({state:n,dispatch:e})=>uE(n,e);function Wp(n,e,t={}){return Fs(n,e,{slice:!1,parseOptions:t})}const mS=(n,e=!1,t={})=>({tr:r,editor:i,dispatch:s})=>{const{doc:a}=r,c=Wp(n,i.schema,t);return s&&r.replaceWith(0,a.content.size,c).setMeta("preventUpdate",!e),!0};function gS(n){for(let e=0;e<n.edgeCount;e+=1){const{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function yS(n,e){for(let t=n.depth;t>0;t-=1){const r=n.node(t);if(e(r))return{pos:t>0?n.before(t):0,start:n.start(t),depth:t,node:r}}}function ic(n){return e=>yS(e.$from,n)}function bS(n,e){const t=Mn.fromSchema(e).serializeFragment(n),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(t),i.innerHTML}function vS(n,e){const t={from:0,to:n.content.size};return Lp(n,t,e)}function jp(n,e){const t=xr(e,n.schema),{from:r,to:i,empty:s}=n.selection,a=[];s?(n.storedMarks&&a.push(...n.storedMarks),a.push(...n.selection.$head.marks())):n.doc.nodesBetween(r,i,u=>{a.push(...u.marks)});const c=a.find(u=>u.type.name===t.name);return c?{...c.attrs}:{}}function wS(n,e){const t=it(e,n.schema),{from:r,to:i}=n.selection,s=[];n.doc.nodesBetween(r,i,c=>{s.push(c)});const a=s.reverse().find(c=>c.type.name===t.name);return a?{...a.attrs}:{}}function xS(n,e){const t=zs(typeof e=="string"?e:e.name,n.schema);return t==="node"?wS(n,e):t==="mark"?jp(n,e):{}}function Up(n,e,t){const r=[];return n===e?t.resolve(n).marks().forEach(i=>{const s=t.resolve(n-1),a=tc(s,i.type);!a||r.push({mark:i,...a})}):t.nodesBetween(n,e,(i,s)=>{r.push(...i.marks.map(a=>({from:s,to:s+i.nodeSize,mark:a})))}),r}function oc(n,e,t={}){const{empty:r,ranges:i}=n.selection,s=e?xr(e,n.schema):null;if(r)return!!(n.storedMarks||n.selection.$from.marks()).filter(m=>s?s.name===m.type.name:!0).find(m=>$s(m.attrs,t,{strict:!1}));let a=0;const c=[];if(i.forEach(({$from:m,$to:y})=>{const b=m.pos,E=y.pos;n.doc.nodesBetween(b,E,(S,O)=>{if(!S.isText&&!S.marks.length)return;const M=Math.max(b,O),I=Math.min(E,O+S.nodeSize),z=I-M;a+=z,c.push(...S.marks.map(_=>({mark:_,from:M,to:I})))})}),a===0)return!1;const u=c.filter(m=>s?s.name===m.mark.type.name:!0).filter(m=>$s(m.mark.attrs,t,{strict:!1})).reduce((m,y)=>m+y.to-y.from,0),h=c.filter(m=>s?m.mark.type!==s&&m.mark.type.excludes(s):!0).reduce((m,y)=>m+y.to-y.from,0);return(u>0?u+h:u)>=a}function ES(n,e,t={}){if(!e)return ko(n,null,t)||oc(n,null,t);const r=zs(e,n.schema);return r==="node"?ko(n,e,t):r==="mark"?oc(n,e,t):!1}function qp(n,e){const{nodeExtensions:t}=Bs(e),r=t.find(a=>a.name===n);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=pe(Z(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function SS(n){var e;const t=(e=n.type.createAndFill())===null||e===void 0?void 0:e.toJSON(),r=n.toJSON();return JSON.stringify(t)===JSON.stringify(r)}function kS(n){return n instanceof se}function Kp(n,e,t){const i=n.state.doc.content.size,s=Jn(e,0,i),a=Jn(t,0,i),c=n.coordsAtPos(s),u=n.coordsAtPos(a,-1),h=Math.min(c.top,u.top),p=Math.max(c.bottom,u.bottom),m=Math.min(c.left,u.left),y=Math.max(c.right,u.right),b=y-m,E=p-h,M={top:h,bottom:p,left:m,right:y,width:b,height:E,x:m,y:h};return{...M,toJSON:()=>M}}function _S(n,e,t){var r;const{selection:i}=e;let s=null;if(nc(i)&&(s=i.$cursor),s){const c=(r=n.storedMarks)!==null&&r!==void 0?r:s.marks();return!!t.isInSet(c)||!c.some(u=>u.type.excludes(t))}const{ranges:a}=i;return a.some(({$from:c,$to:u})=>{let h=c.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(t):!1;return n.doc.nodesBetween(c.pos,u.pos,(p,m,y)=>{if(h)return!1;if(p.isInline){const b=!y||y.type.allowsMarkType(t),E=!!t.isInSet(p.marks)||!p.marks.some(S=>S.type.excludes(t));h=b&&E}return!h}),h})}const CS=(n,e={})=>({tr:t,state:r,dispatch:i})=>{const{selection:s}=t,{empty:a,ranges:c}=s,u=xr(n,r.schema);if(i)if(a){const h=jp(r,u);t.addStoredMark(u.create({...h,...e}))}else c.forEach(h=>{const p=h.$from.pos,m=h.$to.pos;r.doc.nodesBetween(p,m,(y,b)=>{const E=Math.max(b,p),S=Math.min(b+y.nodeSize,m);y.marks.find(M=>M.type===u)?y.marks.forEach(M=>{u===M.type&&t.addMark(E,S,u.create({...M.attrs,...e}))}):t.addMark(E,S,u.create(e))})});return _S(r,t,u)},OS=(n,e)=>({tr:t})=>(t.setMeta(n,e),!0),TS=(n,e={})=>({state:t,dispatch:r,chain:i})=>{const s=it(n,t.schema);return s.isTextblock?i().command(({commands:a})=>Ap(s,e)(t)?!0:a.clearNodes()).command(({state:a})=>Ap(s,e)(a,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},NS=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,i=Jn(n,0,r.content.size),s=se.create(r,i);e.setSelection(s)}return!0},MS=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,{from:i,to:s}=typeof n=="number"?{from:n,to:n}:n,a=me.atStart(r).from,c=me.atEnd(r).to,u=Jn(i,a,c),h=Jn(s,a,c),p=me.create(r,u,h);e.setSelection(p)}return!0},AS=n=>({state:e,dispatch:t})=>{const r=it(n,e.schema);return bE(r)(e,t)};function Hs(n,e,t){return Object.fromEntries(Object.entries(t).filter(([r])=>{const i=n.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}function Jp(n,e){const t=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(t){const r=t.filter(i=>e==null?void 0:e.includes(i.type.name));n.tr.ensureMarks(r)}}const DS=({keepMarks:n=!0}={})=>({tr:e,state:t,dispatch:r,editor:i})=>{const{selection:s,doc:a}=e,{$from:c,$to:u}=s,h=i.extensionManager.attributes,p=Hs(h,c.node().type.name,c.node().attrs);if(s instanceof se&&s.node.isBlock)return!c.parentOffset||!gi(a,c.pos)?!1:(r&&(n&&Jp(t,i.extensionManager.splittableMarks),e.split(c.pos).scrollIntoView()),!0);if(!c.parent.isBlock)return!1;if(r){const m=u.parentOffset===u.parent.content.size;s instanceof me&&e.deleteSelection();const y=c.depth===0?void 0:gS(c.node(-1).contentMatchAt(c.indexAfter(-1)));let b=m&&y?[{type:y,attrs:p}]:void 0,E=gi(e.doc,e.mapping.map(c.pos),1,b);if(!b&&!E&&gi(e.doc,e.mapping.map(c.pos),1,y?[{type:y}]:void 0)&&(E=!0,b=y?[{type:y,attrs:p}]:void 0),E&&(e.split(e.mapping.map(c.pos),1,b),y&&!m&&!c.parentOffset&&c.parent.type!==y)){const S=e.mapping.map(c.before()),O=e.doc.resolve(S);c.node(-1).canReplaceWith(O.index(),O.index()+1,y)&&e.setNodeMarkup(e.mapping.map(c.before()),y)}n&&Jp(t,i.extensionManager.splittableMarks),e.scrollIntoView()}return!0},RS=n=>({tr:e,state:t,dispatch:r,editor:i})=>{var s;const a=it(n,t.schema),{$from:c,$to:u}=t.selection,h=t.selection.node;if(h&&h.isBlock||c.depth<2||!c.sameParent(u))return!1;const p=c.node(-1);if(p.type!==a)return!1;const m=i.extensionManager.attributes;if(c.parent.content.size===0&&c.node(-1).childCount===c.indexAfter(-1)){if(c.depth===2||c.node(-3).type!==a||c.index(-2)!==c.node(-2).childCount-1)return!1;if(r){let O=F.empty;const M=c.index(-1)?1:c.index(-2)?2:3;for(let Y=c.depth-M;Y>=c.depth-3;Y-=1)O=F.from(c.node(Y).copy(O));const I=c.indexAfter(-1)<c.node(-2).childCount?1:c.indexAfter(-2)<c.node(-3).childCount?2:3,z=Hs(m,c.node().type.name,c.node().attrs),_=((s=a.contentMatch.defaultType)===null||s===void 0?void 0:s.createAndFill(z))||void 0;O=O.append(F.from(a.createAndFill(null,_)||void 0));const H=c.before(c.depth-(M-1));e.replace(H,c.after(-I),new J(O,4-M,0));let V=-1;e.doc.nodesBetween(H,e.doc.content.size,(Y,U)=>{if(V>-1)return!1;Y.isTextblock&&Y.content.size===0&&(V=U+1)}),V>-1&&e.setSelection(me.near(e.doc.resolve(V))),e.scrollIntoView()}return!0}const y=u.pos===c.end()?p.contentMatchAt(0).defaultType:null,b=Hs(m,p.type.name,p.attrs),E=Hs(m,c.node().type.name,c.node().attrs);e.delete(c.pos,u.pos);const S=y?[{type:a,attrs:b},{type:y,attrs:E}]:[{type:a,attrs:b}];return gi(e.doc,c.pos,2)?(r&&e.split(c.pos,2,S).scrollIntoView(),!0):!1},Gp=(n,e)=>{const t=ic(a=>a.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(r===void 0)return!0;const i=n.doc.nodeAt(r);return t.node.type===(i==null?void 0:i.type)&&yi(n.doc,t.pos)&&n.join(t.pos),!0},Yp=(n,e)=>{const t=ic(a=>a.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(t.start).after(t.depth);if(r===void 0)return!0;const i=n.doc.nodeAt(r);return t.node.type===(i==null?void 0:i.type)&&yi(n.doc,r)&&n.join(r),!0};var IS=Object.freeze({__proto__:null,blur:IE,clearContent:PE,clearNodes:BE,command:LE,createParagraphNear:VE,deleteNode:$E,deleteRange:FE,deleteSelection:zE,enter:HE,exitCode:WE,extendMarkRange:UE,first:qE,focus:KE,forEach:JE,insertContent:GE,insertContentAt:ZE,joinBackward:QE,joinForward:eS,keyboardShortcut:nS,lift:rS,liftEmptyBlock:iS,liftListItem:oS,newlineInCode:sS,resetAttributes:aS,scrollIntoView:lS,selectAll:cS,selectNodeBackward:uS,selectNodeForward:fS,selectParentNode:dS,selectTextblockEnd:pS,selectTextblockStart:hS,setContent:mS,setMark:CS,setMeta:OS,setNode:TS,setNodeSelection:NS,setTextSelection:MS,sinkListItem:AS,splitBlock:DS,splitListItem:RS,toggleList:(n,e)=>({editor:t,tr:r,state:i,dispatch:s,chain:a,commands:c,can:u})=>{const{extensions:h}=t.extensionManager,p=it(n,i.schema),m=it(e,i.schema),{selection:y}=i,{$from:b,$to:E}=y,S=b.blockRange(E);if(!S)return!1;const O=ic(M=>qp(M.type.name,h))(y);if(S.depth>=1&&O&&S.depth-O.depth<=1){if(O.node.type===p)return c.liftListItem(m);if(qp(O.node.type.name,h)&&p.validContent(O.node.content)&&s)return a().command(()=>(r.setNodeMarkup(O.pos,p),!0)).command(()=>Gp(r,p)).command(()=>Yp(r,p)).run()}return a().command(()=>u().wrapInList(p)?!0:c.clearNodes()).wrapInList(p).command(()=>Gp(r,p)).command(()=>Yp(r,p)).run()},toggleMark:(n,e={},t={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=t,a=xr(n,r.schema);return oc(r,a,e)?i.unsetMark(a,{extendEmptyMarkRange:s}):i.setMark(a,e)},toggleNode:(n,e,t={})=>({state:r,commands:i})=>{const s=it(n,r.schema),a=it(e,r.schema);return ko(r,s,t)?i.setNode(a):i.setNode(s,t)},toggleWrap:(n,e={})=>({state:t,commands:r})=>{const i=it(n,t.schema);return ko(t,i,e)?r.lift(i):r.wrapIn(i,e)},undoInputRule:()=>({state:n,dispatch:e})=>{const t=n.plugins;for(let r=0;r<t.length;r+=1){const i=t[r];let s;if(i.spec.isInputRules&&(s=i.getState(n))){if(e){const a=n.tr,c=s.transform;for(let u=c.steps.length-1;u>=0;u-=1)a.step(c.steps[u].invert(c.docs[u]));if(s.text){const u=a.doc.resolve(s.from).marks();a.replaceWith(s.from,s.to,n.schema.text(s.text,u))}else a.delete(s.from,s.to)}return!0}}return!1},unsetAllMarks:()=>({tr:n,dispatch:e})=>{const{selection:t}=n,{empty:r,ranges:i}=t;return r||e&&i.forEach(s=>{n.removeMark(s.$from.pos,s.$to.pos)}),!0},unsetMark:(n,e={})=>({tr:t,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:a=!1}=e,{selection:c}=t,u=xr(n,r.schema),{$from:h,empty:p,ranges:m}=c;if(!i)return!0;if(p&&a){let{from:y,to:b}=c;const E=(s=h.marks().find(O=>O.type===u))===null||s===void 0?void 0:s.attrs,S=tc(h,u,E);S&&(y=S.from,b=S.to),t.removeMark(y,b,u)}else m.forEach(y=>{t.removeMark(y.$from.pos,y.$to.pos,u)});return t.removeStoredMark(u),!0},updateAttributes:(n,e={})=>({tr:t,state:r,dispatch:i})=>{let s=null,a=null;const c=zs(typeof n=="string"?n:n.name,r.schema);return c?(c==="node"&&(s=it(n,r.schema)),c==="mark"&&(a=xr(n,r.schema)),i&&t.selection.ranges.forEach(u=>{const h=u.$from.pos,p=u.$to.pos;r.doc.nodesBetween(h,p,(m,y)=>{s&&s===m.type&&t.setNodeMarkup(y,void 0,{...m.attrs,...e}),a&&m.marks.length&&m.marks.forEach(b=>{if(a===b.type){const E=Math.max(y,h),S=Math.min(y+m.nodeSize,p);t.addMark(E,S,a.create({...b.attrs,...e}))}})})}),!0):!1},wrapIn:(n,e={})=>({state:t,dispatch:r})=>{const i=it(n,t.schema);return dE(i,e)(t,r)},wrapInList:(n,e={})=>({state:t,dispatch:r})=>{const i=it(n,t.schema);return pE(i,e)(t,r)}});const PS=_t.create({name:"commands",addCommands(){return{...IS}}}),BS=_t.create({name:"editable",addProseMirrorPlugins(){return[new Dt({key:new Dn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),LS=_t.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new Dt({key:new Dn("focusEvents"),props:{handleDOMEvents:{focus:(e,t)=>{n.isFocused=!0;const r=n.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,t)=>{n.isFocused=!1;const r=n.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),VS=_t.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:c})=>{const{selection:u,doc:h}=c,{empty:p,$anchor:m}=u,{pos:y,parent:b}=m,E=de.atStart(h).from===y;return!p||!E||!b.type.isTextblock||b.textContent.length?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return rc()||zp()?s:i},addProseMirrorPlugins(){return[new Dt({key:new Dn("clearDocument"),appendTransaction:(n,e,t)=>{if(!(n.some(E=>E.docChanged)&&!e.doc.eq(t.doc)))return;const{empty:i,from:s,to:a}=e.selection,c=de.atStart(e.doc).from,u=de.atEnd(e.doc).to,h=s===c&&a===u,p=t.doc.textBetween(0,t.doc.content.size," "," ").length===0;if(i||!h||!p)return;const m=t.tr,y=Is({state:t,transaction:m}),{commands:b}=new Ps({editor:this.editor,state:y});if(b.clearNodes(),!!m.steps.length)return m}})]}}),$S=_t.create({name:"tabindex",addProseMirrorPlugins(){return[new Dt({key:new Dn("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});var FS=Object.freeze({__proto__:null,ClipboardTextSerializer:RE,Commands:PS,Editable:BS,FocusEvents:LS,Keymap:VS,Tabindex:$S});const zS=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function HS(n,e){const t=document.querySelector("style[data-tiptap-style]");if(t!==null)return t;const r=document.createElement("style");return e&&r.setAttribute("nonce",e),r.setAttribute("data-tiptap-style",""),r.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(r),r}class WS extends vE{constructor(e={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=HS(zS,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e){this.setOptions({editable:e}),this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const r=Rp(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});this.view.updateState(i)}unregisterPlugin(e){if(this.isDestroyed)return;const t=typeof e=="string"?`${e}$`:e.key,r=this.state.reconfigure({plugins:this.state.plugins.filter(i=>!i.key.startsWith(t))});this.view.updateState(r)}createExtensionManager(){const t=[...this.options.enableCoreExtensions?Object.values(FS):[],...this.options.extensions].filter(r=>["extension","node","mark"].includes(r==null?void 0:r.type));this.extensionManager=new Mi(t,this)}createCommandManager(){this.commandManager=new Ps({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const e=Wp(this.options.content,this.schema,this.options.parseOptions),t=$p(e,this.options.autofocus);this.view=new zx(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:xi.create({doc:e,selection:t||void 0})});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(a=>{var c;return(c=this.capturedTransaction)===null||c===void 0?void 0:c.step(a)});return}const t=this.state.apply(e),r=!this.state.selection.eq(t.selection);this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),s=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),s&&this.emit("blur",{editor:this,event:s.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return xS(this.state,e)}isActive(e,t){const r=typeof e=="string"?e:null,i=typeof e=="string"?t:e;return ES(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return bS(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:r={}}=e||{};return vS(this.state.doc,{blockSeparator:t,textSerializers:{...r,...Vp(this.schema)}})}get isEmpty(){return SS(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}}function Ai(n){return new Ls({find:n.find,handler:({state:e,range:t,match:r})=>{const i=pe(n.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,a=r[r.length-1],c=r[0];let u=t.to;if(a){const h=c.search(/\S/),p=t.from+c.indexOf(a),m=p+a.length;if(Up(t.from,t.to,e.doc).filter(b=>b.mark.type.excluded.find(S=>S===n.type&&S!==b.mark.type)).filter(b=>b.to>p).length)return null;m<t.to&&s.delete(m,t.to),p>t.from&&s.delete(t.from+h,p),u=t.from+h+a.length,s.addMark(t.from+h,u,n.type.create(i||{})),s.removeStoredMark(n.type)}}})}function jS(n){return new Ls({find:n.find,handler:({state:e,range:t,match:r})=>{const i=pe(n.getAttributes,void 0,r)||{},{tr:s}=e,a=t.from;let c=t.to;if(r[1]){const u=r[0].lastIndexOf(r[1]);let h=a+u;h>c?h=c:c=h+r[1].length;const p=r[0][r[0].length-1];s.insertText(p,a+r[0].length-1),s.replaceWith(h,c,n.type.create(i))}else r[0]&&s.replaceWith(a,c,n.type.create(i))}})}function sc(n){return new Ls({find:n.find,handler:({state:e,range:t,match:r})=>{const i=e.doc.resolve(t.from),s=pe(n.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),n.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,n.type,s)}})}function ac(n){return new Ls({find:n.find,handler:({state:e,range:t,match:r})=>{const i=pe(n.getAttributes,void 0,r)||{},s=e.tr.delete(t.from,t.to),c=s.doc.resolve(t.from).blockRange(),u=c&&pl(c,n.type,i);if(!u)return null;s.wrap(c,u);const h=s.doc.resolve(t.from-1).nodeBefore;h&&h.type===n.type&&yi(s.doc,t.from-1)&&(!n.joinPredicate||n.joinPredicate(r,h))&&s.join(t.from-1)}})}class Er{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=pe(Z(this,"addOptions",{name:this.name}))),this.storage=pe(Z(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Er(e)}configure(e={}){const t=this.extend();return t.options=Vs(this.options,e),t.storage=pe(Z(t,"addStorage",{name:t.name,options:t.options})),t}extend(e={}){const t=new Er(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=pe(Z(t,"addOptions",{name:t.name})),t.storage=pe(Z(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const a=i.marks();if(!!!a.find(h=>(h==null?void 0:h.type.name)===t.name))return!1;const u=a.find(h=>(h==null?void 0:h.type.name)===t.name);return u&&r.removeStoredMark(u),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}class Pt{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=pe(Z(this,"addOptions",{name:this.name}))),this.storage=pe(Z(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Pt(e)}configure(e={}){const t=this.extend();return t.options=Vs(this.options,e),t.storage=pe(Z(t,"addStorage",{name:t.name,options:t.options})),t}extend(e={}){const t=new Pt(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=pe(Z(t,"addOptions",{name:t.name})),t.storage=pe(Z(t,"addStorage",{name:t.name,options:t.options})),t}}function Di(n){return new OE({find:n.find,handler:({state:e,range:t,match:r})=>{const i=pe(n.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,a=r[r.length-1],c=r[0];let u=t.to;if(a){const h=c.search(/\S/),p=t.from+c.indexOf(a),m=p+a.length;if(Up(t.from,t.to,e.doc).filter(b=>b.mark.type.excluded.find(S=>S===n.type&&S!==b.mark.type)).filter(b=>b.to>p).length)return null;m<t.to&&s.delete(m,t.to),p>t.from&&s.delete(t.from+h,p),u=t.from+h+a.length,s.addMark(t.from+h,u,n.type.create(i||{})),s.removeStoredMark(n.type)}}})}var Bt="top",on="bottom",sn="right",Lt="left",Ws="auto",_o=[Bt,on,sn,Lt],Ri="start",Co="end",US="clippingParents",Xp="viewport",Oo="popper",qS="reference",Zp=_o.reduce(function(n,e){return n.concat([e+"-"+Ri,e+"-"+Co])},[]),Qp=[].concat(_o,[Ws]).reduce(function(n,e){return n.concat([e,e+"-"+Ri,e+"-"+Co])},[]),KS="beforeRead",JS="read",GS="afterRead",YS="beforeMain",XS="main",ZS="afterMain",QS="beforeWrite",ek="write",tk="afterWrite",lc=[KS,JS,GS,YS,XS,ZS,QS,ek,tk];function Bn(n){return n?(n.nodeName||"").toLowerCase():null}function an(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Kr(n){var e=an(n).Element;return n instanceof e||n instanceof Element}function qt(n){var e=an(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function cc(n){if(typeof ShadowRoot>"u")return!1;var e=an(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function nk(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},s=e.elements[t];!qt(s)||!Bn(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(a){var c=i[a];c===!1?s.removeAttribute(a):s.setAttribute(a,c===!0?"":c)}))})}function rk(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},a=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]),c=a.reduce(function(u,h){return u[h]="",u},{});!qt(i)||!Bn(i)||(Object.assign(i.style,c),Object.keys(s).forEach(function(u){i.removeAttribute(u)}))})}}const eh={name:"applyStyles",enabled:!0,phase:"write",fn:nk,effect:rk,requires:["computeStyles"]};function wn(n){return n.split("-")[0]}var Jr=Math.max,js=Math.min,Ii=Math.round;function uc(){var n=navigator.userAgentData;return n!=null&&n.brands?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function th(){return!/^((?!chrome|android).)*safari/i.test(uc())}function Pi(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),i=1,s=1;e&&qt(n)&&(i=n.offsetWidth>0&&Ii(r.width)/n.offsetWidth||1,s=n.offsetHeight>0&&Ii(r.height)/n.offsetHeight||1);var a=Kr(n)?an(n):window,c=a.visualViewport,u=!th()&&t,h=(r.left+(u&&c?c.offsetLeft:0))/i,p=(r.top+(u&&c?c.offsetTop:0))/s,m=r.width/i,y=r.height/s;return{width:m,height:y,top:p,right:h+m,bottom:p+y,left:h,x:h,y:p}}function fc(n){var e=Pi(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function nh(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&cc(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function xn(n){return an(n).getComputedStyle(n)}function ik(n){return["table","td","th"].indexOf(Bn(n))>=0}function Sr(n){return((Kr(n)?n.ownerDocument:n.document)||window.document).documentElement}function Us(n){return Bn(n)==="html"?n:n.assignedSlot||n.parentNode||(cc(n)?n.host:null)||Sr(n)}function rh(n){return!qt(n)||xn(n).position==="fixed"?null:n.offsetParent}function ok(n){var e=/firefox/i.test(uc()),t=/Trident/i.test(uc());if(t&&qt(n)){var r=xn(n);if(r.position==="fixed")return null}var i=Us(n);for(cc(i)&&(i=i.host);qt(i)&&["html","body"].indexOf(Bn(i))<0;){var s=xn(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function To(n){for(var e=an(n),t=rh(n);t&&ik(t)&&xn(t).position==="static";)t=rh(t);return t&&(Bn(t)==="html"||Bn(t)==="body"&&xn(t).position==="static")?e:t||ok(n)||e}function dc(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function No(n,e,t){return Jr(n,js(e,t))}function sk(n,e,t){var r=No(n,e,t);return r>t?t:r}function ih(){return{top:0,right:0,bottom:0,left:0}}function oh(n){return Object.assign({},ih(),n)}function sh(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var ak=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,oh(typeof e!="number"?e:sh(e,_o))};function lk(n){var e,t=n.state,r=n.name,i=n.options,s=t.elements.arrow,a=t.modifiersData.popperOffsets,c=wn(t.placement),u=dc(c),h=[Lt,sn].indexOf(c)>=0,p=h?"height":"width";if(!(!s||!a)){var m=ak(i.padding,t),y=fc(s),b=u==="y"?Bt:Lt,E=u==="y"?on:sn,S=t.rects.reference[p]+t.rects.reference[u]-a[u]-t.rects.popper[p],O=a[u]-t.rects.reference[u],M=To(s),I=M?u==="y"?M.clientHeight||0:M.clientWidth||0:0,z=S/2-O/2,_=m[b],H=I-y[p]-m[E],V=I/2-y[p]/2+z,Y=No(_,V,H),U=u;t.modifiersData[r]=(e={},e[U]=Y,e.centerOffset=Y-V,e)}}function ck(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;if(i!=null&&!(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i))){if(process.env.NODE_ENV!=="production"&&(qt(i)||console.error(['Popper: "arrow" element must be an HTMLElement (not an SVGElement).',"To use an SVG arrow, wrap it in an HTMLElement that will be used as","the arrow."].join(" "))),!nh(e.elements.popper,i)){process.env.NODE_ENV!=="production"&&console.error(['Popper: "arrow" modifier\'s `element` must be a child of the popper',"element."].join(" "));return}e.elements.arrow=i}}const uk={name:"arrow",enabled:!0,phase:"main",fn:lk,effect:ck,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Bi(n){return n.split("-")[1]}var fk={top:"auto",right:"auto",bottom:"auto",left:"auto"};function dk(n){var e=n.x,t=n.y,r=window,i=r.devicePixelRatio||1;return{x:Ii(e*i)/i||0,y:Ii(t*i)/i||0}}function ah(n){var e,t=n.popper,r=n.popperRect,i=n.placement,s=n.variation,a=n.offsets,c=n.position,u=n.gpuAcceleration,h=n.adaptive,p=n.roundOffsets,m=n.isFixed,y=a.x,b=y===void 0?0:y,E=a.y,S=E===void 0?0:E,O=typeof p=="function"?p({x:b,y:S}):{x:b,y:S};b=O.x,S=O.y;var M=a.hasOwnProperty("x"),I=a.hasOwnProperty("y"),z=Lt,_=Bt,H=window;if(h){var V=To(t),Y="clientHeight",U="clientWidth";if(V===an(t)&&(V=Sr(t),xn(V).position!=="static"&&c==="absolute"&&(Y="scrollHeight",U="scrollWidth")),V=V,i===Bt||(i===Lt||i===sn)&&s===Co){_=on;var be=m&&V===H&&H.visualViewport?H.visualViewport.height:V[Y];S-=be-r.height,S*=u?1:-1}if(i===Lt||(i===Bt||i===on)&&s===Co){z=sn;var Oe=m&&V===H&&H.visualViewport?H.visualViewport.width:V[U];b-=Oe-r.width,b*=u?1:-1}}var Ee=Object.assign({position:c},h&&fk),_e=p===!0?dk({x:b,y:S}):{x:b,y:S};if(b=_e.x,S=_e.y,u){var Le;return Object.assign({},Ee,(Le={},Le[_]=I?"0":"",Le[z]=M?"0":"",Le.transform=(H.devicePixelRatio||1)<=1?"translate("+b+"px, "+S+"px)":"translate3d("+b+"px, "+S+"px, 0)",Le))}return Object.assign({},Ee,(e={},e[_]=I?S+"px":"",e[z]=M?b+"px":"",e.transform="",e))}function pk(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,s=t.adaptive,a=s===void 0?!0:s,c=t.roundOffsets,u=c===void 0?!0:c;if(process.env.NODE_ENV!=="production"){var h=xn(e.elements.popper).transitionProperty||"";a&&["transform","top","right","bottom","left"].some(function(m){return h.indexOf(m)>=0})&&console.warn(["Popper: Detected CSS transitions on at least one of the following",'CSS properties: "transform", "top", "right", "bottom", "left".',`

`,'Disable the "computeStyles" modifier\'s `adaptive` option to allow',"for smooth transitions, or remove these properties from the CSS","transition declaration on the popper element if only transitioning","opacity or background-color for example.",`

`,"We recommend using the popper element as a wrapper around an inner","element that can have any CSS property transitioned for animations."].join(" "))}var p={placement:wn(e.placement),variation:Bi(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,ah(Object.assign({},p,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:u})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,ah(Object.assign({},p,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const hk={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:pk,data:{}};var qs={passive:!0};function mk(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,s=i===void 0?!0:i,a=r.resize,c=a===void 0?!0:a,u=an(e.elements.popper),h=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&h.forEach(function(p){p.addEventListener("scroll",t.update,qs)}),c&&u.addEventListener("resize",t.update,qs),function(){s&&h.forEach(function(p){p.removeEventListener("scroll",t.update,qs)}),c&&u.removeEventListener("resize",t.update,qs)}}const gk={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:mk,data:{}};var yk={left:"right",right:"left",bottom:"top",top:"bottom"};function Ks(n){return n.replace(/left|right|bottom|top/g,function(e){return yk[e]})}var bk={start:"end",end:"start"};function lh(n){return n.replace(/start|end/g,function(e){return bk[e]})}function pc(n){var e=an(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function hc(n){return Pi(Sr(n)).left+pc(n).scrollLeft}function vk(n,e){var t=an(n),r=Sr(n),i=t.visualViewport,s=r.clientWidth,a=r.clientHeight,c=0,u=0;if(i){s=i.width,a=i.height;var h=th();(h||!h&&e==="fixed")&&(c=i.offsetLeft,u=i.offsetTop)}return{width:s,height:a,x:c+hc(n),y:u}}function wk(n){var e,t=Sr(n),r=pc(n),i=(e=n.ownerDocument)==null?void 0:e.body,s=Jr(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=Jr(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),c=-r.scrollLeft+hc(n),u=-r.scrollTop;return xn(i||t).direction==="rtl"&&(c+=Jr(t.clientWidth,i?i.clientWidth:0)-s),{width:s,height:a,x:c,y:u}}function mc(n){var e=xn(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function ch(n){return["html","body","#document"].indexOf(Bn(n))>=0?n.ownerDocument.body:qt(n)&&mc(n)?n:ch(Us(n))}function Mo(n,e){var t;e===void 0&&(e=[]);var r=ch(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),s=an(r),a=i?[s].concat(s.visualViewport||[],mc(r)?r:[]):r,c=e.concat(a);return i?c:c.concat(Mo(Us(a)))}function gc(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function xk(n,e){var t=Pi(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function uh(n,e,t){return e===Xp?gc(vk(n,t)):Kr(e)?xk(e,t):gc(wk(Sr(n)))}function Ek(n){var e=Mo(Us(n)),t=["absolute","fixed"].indexOf(xn(n).position)>=0,r=t&&qt(n)?To(n):n;return Kr(r)?e.filter(function(i){return Kr(i)&&nh(i,r)&&Bn(i)!=="body"}):[]}function Sk(n,e,t,r){var i=e==="clippingParents"?Ek(n):[].concat(e),s=[].concat(i,[t]),a=s[0],c=s.reduce(function(u,h){var p=uh(n,h,r);return u.top=Jr(p.top,u.top),u.right=js(p.right,u.right),u.bottom=js(p.bottom,u.bottom),u.left=Jr(p.left,u.left),u},uh(n,a,r));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function fh(n){var e=n.reference,t=n.element,r=n.placement,i=r?wn(r):null,s=r?Bi(r):null,a=e.x+e.width/2-t.width/2,c=e.y+e.height/2-t.height/2,u;switch(i){case Bt:u={x:a,y:e.y-t.height};break;case on:u={x:a,y:e.y+e.height};break;case sn:u={x:e.x+e.width,y:c};break;case Lt:u={x:e.x-t.width,y:c};break;default:u={x:e.x,y:e.y}}var h=i?dc(i):null;if(h!=null){var p=h==="y"?"height":"width";switch(s){case Ri:u[h]=u[h]-(e[p]/2-t[p]/2);break;case Co:u[h]=u[h]+(e[p]/2-t[p]/2);break}}return u}function Ao(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,s=t.strategy,a=s===void 0?n.strategy:s,c=t.boundary,u=c===void 0?US:c,h=t.rootBoundary,p=h===void 0?Xp:h,m=t.elementContext,y=m===void 0?Oo:m,b=t.altBoundary,E=b===void 0?!1:b,S=t.padding,O=S===void 0?0:S,M=oh(typeof O!="number"?O:sh(O,_o)),I=y===Oo?qS:Oo,z=n.rects.popper,_=n.elements[E?I:y],H=Sk(Kr(_)?_:_.contextElement||Sr(n.elements.popper),u,p,a),V=Pi(n.elements.reference),Y=fh({reference:V,element:z,strategy:"absolute",placement:i}),U=gc(Object.assign({},z,Y)),be=y===Oo?U:V,Oe={top:H.top-be.top+M.top,bottom:be.bottom-H.bottom+M.bottom,left:H.left-be.left+M.left,right:be.right-H.right+M.right},Ee=n.modifiersData.offset;if(y===Oo&&Ee){var _e=Ee[i];Object.keys(Oe).forEach(function(Le){var Xe=[sn,on].indexOf(Le)>=0?1:-1,ot=[Bt,on].indexOf(Le)>=0?"y":"x";Oe[Le]+=_e[ot]*Xe})}return Oe}function kk(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,s=t.rootBoundary,a=t.padding,c=t.flipVariations,u=t.allowedAutoPlacements,h=u===void 0?Qp:u,p=Bi(r),m=p?c?Zp:Zp.filter(function(E){return Bi(E)===p}):_o,y=m.filter(function(E){return h.indexOf(E)>=0});y.length===0&&(y=m,process.env.NODE_ENV!=="production"&&console.error(["Popper: The `allowedAutoPlacements` option did not allow any","placements. Ensure the `placement` option matches the variation","of the allowed placements.",'For example, "auto" cannot be used to allow "bottom-start".','Use "auto-start" instead.'].join(" ")));var b=y.reduce(function(E,S){return E[S]=Ao(n,{placement:S,boundary:i,rootBoundary:s,padding:a})[wn(S)],E},{});return Object.keys(b).sort(function(E,S){return b[E]-b[S]})}function _k(n){if(wn(n)===Ws)return[];var e=Ks(n);return[lh(n),e,lh(e)]}function Ck(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,s=i===void 0?!0:i,a=t.altAxis,c=a===void 0?!0:a,u=t.fallbackPlacements,h=t.padding,p=t.boundary,m=t.rootBoundary,y=t.altBoundary,b=t.flipVariations,E=b===void 0?!0:b,S=t.allowedAutoPlacements,O=e.options.placement,M=wn(O),I=M===O,z=u||(I||!E?[Ks(O)]:_k(O)),_=[O].concat(z).reduce(function(Vt,D){return Vt.concat(wn(D)===Ws?kk(e,{placement:D,boundary:p,rootBoundary:m,padding:h,flipVariations:E,allowedAutoPlacements:S}):D)},[]),H=e.rects.reference,V=e.rects.popper,Y=new Map,U=!0,be=_[0],Oe=0;Oe<_.length;Oe++){var Ee=_[Oe],_e=wn(Ee),Le=Bi(Ee)===Ri,Xe=[Bt,on].indexOf(_e)>=0,ot=Xe?"width":"height",je=Ao(e,{placement:Ee,boundary:p,rootBoundary:m,altBoundary:y,padding:h}),Pe=Xe?Le?sn:Lt:Le?on:Bt;H[ot]>V[ot]&&(Pe=Ks(Pe));var Be=Ks(Pe),gt=[];if(s&&gt.push(je[_e]<=0),c&&gt.push(je[Pe]<=0,je[Be]<=0),gt.every(function(Vt){return Vt})){be=Ee,U=!1;break}Y.set(Ee,gt)}if(U)for(var st=E?3:1,Ke=function(D){var W=_.find(function(j){var K=Y.get(j);if(K)return K.slice(0,D).every(function(ae){return ae})});if(W)return be=W,"break"},yt=st;yt>0;yt--){var Jt=Ke(yt);if(Jt==="break")break}e.placement!==be&&(e.modifiersData[r]._skip=!0,e.placement=be,e.reset=!0)}}const Ok={name:"flip",enabled:!0,phase:"main",fn:Ck,requiresIfExists:["offset"],data:{_skip:!1}};function dh(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function ph(n){return[Bt,sn,on,Lt].some(function(e){return n[e]>=0})}function Tk(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,a=Ao(e,{elementContext:"reference"}),c=Ao(e,{altBoundary:!0}),u=dh(a,r),h=dh(c,i,s),p=ph(u),m=ph(h);e.modifiersData[t]={referenceClippingOffsets:u,popperEscapeOffsets:h,isReferenceHidden:p,hasPopperEscaped:m},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":m})}const Nk={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Tk};function Mk(n,e,t){var r=wn(n),i=[Lt,Bt].indexOf(r)>=0?-1:1,s=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,a=s[0],c=s[1];return a=a||0,c=(c||0)*i,[Lt,sn].indexOf(r)>=0?{x:c,y:a}:{x:a,y:c}}function Ak(n){var e=n.state,t=n.options,r=n.name,i=t.offset,s=i===void 0?[0,0]:i,a=Qp.reduce(function(p,m){return p[m]=Mk(m,e.rects,s),p},{}),c=a[e.placement],u=c.x,h=c.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=h),e.modifiersData[r]=a}const Dk={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Ak};function Rk(n){var e=n.state,t=n.name;e.modifiersData[t]=fh({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const Ik={name:"popperOffsets",enabled:!0,phase:"read",fn:Rk,data:{}};function Pk(n){return n==="x"?"y":"x"}function Bk(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,s=i===void 0?!0:i,a=t.altAxis,c=a===void 0?!1:a,u=t.boundary,h=t.rootBoundary,p=t.altBoundary,m=t.padding,y=t.tether,b=y===void 0?!0:y,E=t.tetherOffset,S=E===void 0?0:E,O=Ao(e,{boundary:u,rootBoundary:h,padding:m,altBoundary:p}),M=wn(e.placement),I=Bi(e.placement),z=!I,_=dc(M),H=Pk(_),V=e.modifiersData.popperOffsets,Y=e.rects.reference,U=e.rects.popper,be=typeof S=="function"?S(Object.assign({},e.rects,{placement:e.placement})):S,Oe=typeof be=="number"?{mainAxis:be,altAxis:be}:Object.assign({mainAxis:0,altAxis:0},be),Ee=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,_e={x:0,y:0};if(!!V){if(s){var Le,Xe=_==="y"?Bt:Lt,ot=_==="y"?on:sn,je=_==="y"?"height":"width",Pe=V[_],Be=Pe+O[Xe],gt=Pe-O[ot],st=b?-U[je]/2:0,Ke=I===Ri?Y[je]:U[je],yt=I===Ri?-U[je]:-Y[je],Jt=e.elements.arrow,Vt=b&&Jt?fc(Jt):{width:0,height:0},D=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:ih(),W=D[Xe],j=D[ot],K=No(0,Y[je],Vt[je]),ae=z?Y[je]/2-st-K-W-Oe.mainAxis:Ke-K-W-Oe.mainAxis,De=z?-Y[je]/2+st+K+j+Oe.mainAxis:yt+K+j+Oe.mainAxis,ie=e.elements.arrow&&To(e.elements.arrow),oe=ie?_==="y"?ie.clientTop||0:ie.clientLeft||0:0,Ne=(Le=Ee==null?void 0:Ee[_])!=null?Le:0,He=Pe+ae-Ne-oe,$e=Pe+De-Ne,Xr=No(b?js(Be,He):Be,Pe,b?Jr(gt,$e):gt);V[_]=Xr,_e[_]=Xr-Pe}if(c){var Ct,Zr=_==="x"?Bt:Lt,Fi=_==="x"?on:sn,Ot=V[H],Ze=H==="y"?"height":"width",Sn=Ot+O[Zr],ln=Ot-O[Fi],Qr=[Bt,Lt].indexOf(M)!==-1,$n=(Ct=Ee==null?void 0:Ee[H])!=null?Ct:0,zi=Qr?Sn:Ot-Y[Ze]-U[Ze]-$n+Oe.altAxis,Fn=Qr?Ot+Y[Ze]+U[Ze]-$n-Oe.altAxis:ln,kn=b&&Qr?sk(zi,Ot,Fn):No(b?zi:Sn,Ot,b?Fn:ln);V[H]=kn,_e[H]=kn-Ot}e.modifiersData[r]=_e}}const Lk={name:"preventOverflow",enabled:!0,phase:"main",fn:Bk,requiresIfExists:["offset"]};function Vk(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function $k(n){return n===an(n)||!qt(n)?pc(n):Vk(n)}function Fk(n){var e=n.getBoundingClientRect(),t=Ii(e.width)/n.offsetWidth||1,r=Ii(e.height)/n.offsetHeight||1;return t!==1||r!==1}function zk(n,e,t){t===void 0&&(t=!1);var r=qt(e),i=qt(e)&&Fk(e),s=Sr(e),a=Pi(n,i,t),c={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!t)&&((Bn(e)!=="body"||mc(s))&&(c=$k(e)),qt(e)?(u=Pi(e,!0),u.x+=e.clientLeft,u.y+=e.clientTop):s&&(u.x=hc(s))),{x:a.left+c.scrollLeft-u.x,y:a.top+c.scrollTop-u.y,width:a.width,height:a.height}}function Hk(n){var e=new Map,t=new Set,r=[];n.forEach(function(s){e.set(s.name,s)});function i(s){t.add(s.name);var a=[].concat(s.requires||[],s.requiresIfExists||[]);a.forEach(function(c){if(!t.has(c)){var u=e.get(c);u&&i(u)}}),r.push(s)}return n.forEach(function(s){t.has(s.name)||i(s)}),r}function Wk(n){var e=Hk(n);return lc.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}function jk(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function kr(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return[].concat(t).reduce(function(i,s){return i.replace(/%s/,s)},n)}var Gr='Popper: modifier "%s" provided an invalid %s property, expected %s but got %s',Uk='Popper: modifier "%s" requires "%s", but "%s" modifier is not available',hh=["name","enabled","phase","fn","effect","requires","options"];function qk(n){n.forEach(function(e){[].concat(Object.keys(e),hh).filter(function(t,r,i){return i.indexOf(t)===r}).forEach(function(t){switch(t){case"name":typeof e.name!="string"&&console.error(kr(Gr,String(e.name),'"name"','"string"','"'+String(e.name)+'"'));break;case"enabled":typeof e.enabled!="boolean"&&console.error(kr(Gr,e.name,'"enabled"','"boolean"','"'+String(e.enabled)+'"'));break;case"phase":lc.indexOf(e.phase)<0&&console.error(kr(Gr,e.name,'"phase"',"either "+lc.join(", "),'"'+String(e.phase)+'"'));break;case"fn":typeof e.fn!="function"&&console.error(kr(Gr,e.name,'"fn"','"function"','"'+String(e.fn)+'"'));break;case"effect":e.effect!=null&&typeof e.effect!="function"&&console.error(kr(Gr,e.name,'"effect"','"function"','"'+String(e.fn)+'"'));break;case"requires":e.requires!=null&&!Array.isArray(e.requires)&&console.error(kr(Gr,e.name,'"requires"','"array"','"'+String(e.requires)+'"'));break;case"requiresIfExists":Array.isArray(e.requiresIfExists)||console.error(kr(Gr,e.name,'"requiresIfExists"','"array"','"'+String(e.requiresIfExists)+'"'));break;case"options":case"data":break;default:console.error('PopperJS: an invalid property has been provided to the "'+e.name+'" modifier, valid properties are '+hh.map(function(r){return'"'+r+'"'}).join(", ")+'; but "'+t+'" was provided.')}e.requires&&e.requires.forEach(function(r){n.find(function(i){return i.name===r})==null&&console.error(kr(Uk,String(e.name),r,r))})})})}function Kk(n,e){var t=new Set;return n.filter(function(r){var i=e(r);if(!t.has(i))return t.add(i),!0})}function Jk(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var mh="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",Gk="Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.",gh={placement:"bottom",modifiers:[],strategy:"absolute"};function yh(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Yk(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,s=i===void 0?gh:i;return function(c,u,h){h===void 0&&(h=s);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},gh,s),modifiersData:{},elements:{reference:c,popper:u},attributes:{},styles:{}},m=[],y=!1,b={state:p,setOptions:function(M){var I=typeof M=="function"?M(p.options):M;S(),p.options=Object.assign({},s,p.options,I),p.scrollParents={reference:Kr(c)?Mo(c):c.contextElement?Mo(c.contextElement):[],popper:Mo(u)};var z=Wk(Jk([].concat(r,p.options.modifiers)));if(p.orderedModifiers=z.filter(function(Ee){return Ee.enabled}),process.env.NODE_ENV!=="production"){var _=Kk([].concat(z,p.options.modifiers),function(Ee){var _e=Ee.name;return _e});if(qk(_),wn(p.options.placement)===Ws){var H=p.orderedModifiers.find(function(Ee){var _e=Ee.name;return _e==="flip"});H||console.error(['Popper: "auto" placements require the "flip" modifier be',"present and enabled to work."].join(" "))}var V=xn(u),Y=V.marginTop,U=V.marginRight,be=V.marginBottom,Oe=V.marginLeft;[Y,U,be,Oe].some(function(Ee){return parseFloat(Ee)})&&console.warn(['Popper: CSS "margin" styles cannot be used to apply padding',"between the popper and its reference element or boundary.","To replicate margin, use the `offset` modifier, as well as","the `padding` option in the `preventOverflow` and `flip`","modifiers."].join(" "))}return E(),b.update()},forceUpdate:function(){if(!y){var M=p.elements,I=M.reference,z=M.popper;if(!yh(I,z)){process.env.NODE_ENV!=="production"&&console.error(mh);return}p.rects={reference:zk(I,To(z),p.options.strategy==="fixed"),popper:fc(z)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(Ee){return p.modifiersData[Ee.name]=Object.assign({},Ee.data)});for(var _=0,H=0;H<p.orderedModifiers.length;H++){if(process.env.NODE_ENV!=="production"&&(_+=1,_>100)){console.error(Gk);break}if(p.reset===!0){p.reset=!1,H=-1;continue}var V=p.orderedModifiers[H],Y=V.fn,U=V.options,be=U===void 0?{}:U,Oe=V.name;typeof Y=="function"&&(p=Y({state:p,options:be,name:Oe,instance:b})||p)}}},update:jk(function(){return new Promise(function(O){b.forceUpdate(),O(p)})}),destroy:function(){S(),y=!0}};if(!yh(c,u))return process.env.NODE_ENV!=="production"&&console.error(mh),b;b.setOptions(h).then(function(O){!y&&h.onFirstUpdate&&h.onFirstUpdate(O)});function E(){p.orderedModifiers.forEach(function(O){var M=O.name,I=O.options,z=I===void 0?{}:I,_=O.effect;if(typeof _=="function"){var H=_({state:p,name:M,instance:b,options:z}),V=function(){};m.push(H||V)}})}function S(){m.forEach(function(O){return O()}),m=[]}return b}}var Xk=[gk,Ik,hk,eh,Dk,Ok,Lk,uk,Nk],Zk=Yk({defaultModifiers:Xk}),Qk="tippy-box",bh="tippy-content",e_="tippy-backdrop",vh="tippy-arrow",wh="tippy-svg-arrow",Yr={passive:!0,capture:!0},xh=function(){return document.body};function t_(n,e){return{}.hasOwnProperty.call(n,e)}function yc(n,e,t){if(Array.isArray(n)){var r=n[e];return r==null?Array.isArray(t)?t[e]:t:r}return n}function bc(n,e){var t={}.toString.call(n);return t.indexOf("[object")===0&&t.indexOf(e+"]")>-1}function Eh(n,e){return typeof n=="function"?n.apply(void 0,e):n}function Sh(n,e){if(e===0)return n;var t;return function(r){clearTimeout(t),t=setTimeout(function(){n(r)},e)}}function n_(n,e){var t=Object.assign({},n);return e.forEach(function(r){delete t[r]}),t}function r_(n){return n.split(/\s+/).filter(Boolean)}function Li(n){return[].concat(n)}function kh(n,e){n.indexOf(e)===-1&&n.push(e)}function i_(n){return n.filter(function(e,t){return n.indexOf(e)===t})}function o_(n){return n.split("-")[0]}function Js(n){return[].slice.call(n)}function _h(n){return Object.keys(n).reduce(function(e,t){return n[t]!==void 0&&(e[t]=n[t]),e},{})}function Do(){return document.createElement("div")}function Ro(n){return["Element","Fragment"].some(function(e){return bc(n,e)})}function s_(n){return bc(n,"NodeList")}function a_(n){return bc(n,"MouseEvent")}function l_(n){return!!(n&&n._tippy&&n._tippy.reference===n)}function c_(n){return Ro(n)?[n]:s_(n)?Js(n):Array.isArray(n)?n:Js(document.querySelectorAll(n))}function vc(n,e){n.forEach(function(t){t&&(t.style.transitionDuration=e+"ms")})}function Ch(n,e){n.forEach(function(t){t&&t.setAttribute("data-state",e)})}function u_(n){var e,t=Li(n),r=t[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function f_(n,e){var t=e.clientX,r=e.clientY;return n.every(function(i){var s=i.popperRect,a=i.popperState,c=i.props,u=c.interactiveBorder,h=o_(a.placement),p=a.modifiersData.offset;if(!p)return!0;var m=h==="bottom"?p.top.y:0,y=h==="top"?p.bottom.y:0,b=h==="right"?p.left.x:0,E=h==="left"?p.right.x:0,S=s.top-r+m>u,O=r-s.bottom-y>u,M=s.left-t+b>u,I=t-s.right-E>u;return S||O||M||I})}function wc(n,e,t){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){n[r](i,t)})}function Oh(n,e){for(var t=e;t;){var r;if(n.contains(t))return!0;t=t.getRootNode==null||(r=t.getRootNode())==null?void 0:r.host}return!1}var Ln={isTouch:!1},Th=0;function d_(){Ln.isTouch||(Ln.isTouch=!0,window.performance&&document.addEventListener("mousemove",Nh))}function Nh(){var n=performance.now();n-Th<20&&(Ln.isTouch=!1,document.removeEventListener("mousemove",Nh)),Th=n}function p_(){var n=document.activeElement;if(l_(n)){var e=n._tippy;n.blur&&!e.state.isVisible&&n.blur()}}function h_(){document.addEventListener("touchstart",d_,Yr),window.addEventListener("blur",p_)}var m_=typeof window<"u"&&typeof document<"u",g_=m_?!!window.msCrypto:!1;function Vi(n){var e=n==="destroy"?"n already-":" ";return[n+"() was called on a"+e+"destroyed instance. This is a no-op but","indicates a potential memory leak."].join(" ")}function Mh(n){var e=/[ \t]{2,}/g,t=/^[ \t]*/gm;return n.replace(e," ").replace(t,"").trim()}function y_(n){return Mh(`
  %ctippy.js

  %c`+Mh(n)+`

  %c\u{1F477}\u200D This is a development-only message. It will be removed in production.
  `)}function Ah(n){return[y_(n),"color: #00C584; font-size: 1.3em; font-weight: bold;","line-height: 1.5","color: #a6a095;"]}var Io;process.env.NODE_ENV!=="production"&&b_();function b_(){Io=new Set}function Gn(n,e){if(n&&!Io.has(e)){var t;Io.add(e),(t=console).warn.apply(t,Ah(e))}}function xc(n,e){if(n&&!Io.has(e)){var t;Io.add(e),(t=console).error.apply(t,Ah(e))}}function v_(n){var e=!n,t=Object.prototype.toString.call(n)==="[object Object]"&&!n.addEventListener;xc(e,["tippy() was passed","`"+String(n)+"`","as its targets (first) argument. Valid types are: String, Element,","Element[], or NodeList."].join(" ")),xc(t,["tippy() was passed a plain object which is not supported as an argument","for virtual positioning. Use props.getReferenceClientRect instead."].join(" "))}var Dh={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},w_={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Kt=Object.assign({appendTo:xh,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Dh,w_),x_=Object.keys(Kt),E_=function(e){process.env.NODE_ENV!=="production"&&Ph(e,[]);var t=Object.keys(e);t.forEach(function(r){Kt[r]=e[r]})};function Rh(n){var e=n.plugins||[],t=e.reduce(function(r,i){var s=i.name,a=i.defaultValue;if(s){var c;r[s]=n[s]!==void 0?n[s]:(c=Kt[s])!=null?c:a}return r},{});return Object.assign({},n,t)}function S_(n,e){var t=e?Object.keys(Rh(Object.assign({},Kt,{plugins:e}))):x_,r=t.reduce(function(i,s){var a=(n.getAttribute("data-tippy-"+s)||"").trim();if(!a)return i;if(s==="content")i[s]=a;else try{i[s]=JSON.parse(a)}catch{i[s]=a}return i},{});return r}function Ih(n,e){var t=Object.assign({},e,{content:Eh(e.content,[n])},e.ignoreAttributes?{}:S_(n,e.plugins));return t.aria=Object.assign({},Kt.aria,t.aria),t.aria={expanded:t.aria.expanded==="auto"?e.interactive:t.aria.expanded,content:t.aria.content==="auto"?e.interactive?null:"describedby":t.aria.content},t}function Ph(n,e){n===void 0&&(n={}),e===void 0&&(e=[]);var t=Object.keys(n);t.forEach(function(r){var i=n_(Kt,Object.keys(Dh)),s=!t_(i,r);s&&(s=e.filter(function(a){return a.name===r}).length===0),Gn(s,["`"+r+"`","is not a valid prop. You may have spelled it incorrectly, or if it's","a plugin, forgot to pass it in an array as props.plugins.",`

`,`All props: https://atomiks.github.io/tippyjs/v6/all-props/
`,"Plugins: https://atomiks.github.io/tippyjs/v6/plugins/"].join(" "))})}var k_=function(){return"innerHTML"};function Ec(n,e){n[k_()]=e}function Bh(n){var e=Do();return n===!0?e.className=vh:(e.className=wh,Ro(n)?e.appendChild(n):Ec(e,n)),e}function Lh(n,e){Ro(e.content)?(Ec(n,""),n.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?Ec(n,e.content):n.textContent=e.content)}function Sc(n){var e=n.firstElementChild,t=Js(e.children);return{box:e,content:t.find(function(r){return r.classList.contains(bh)}),arrow:t.find(function(r){return r.classList.contains(vh)||r.classList.contains(wh)}),backdrop:t.find(function(r){return r.classList.contains(e_)})}}function Vh(n){var e=Do(),t=Do();t.className=Qk,t.setAttribute("data-state","hidden"),t.setAttribute("tabindex","-1");var r=Do();r.className=bh,r.setAttribute("data-state","hidden"),Lh(r,n.props),e.appendChild(t),t.appendChild(r),i(n.props,n.props);function i(s,a){var c=Sc(e),u=c.box,h=c.content,p=c.arrow;a.theme?u.setAttribute("data-theme",a.theme):u.removeAttribute("data-theme"),typeof a.animation=="string"?u.setAttribute("data-animation",a.animation):u.removeAttribute("data-animation"),a.inertia?u.setAttribute("data-inertia",""):u.removeAttribute("data-inertia"),u.style.maxWidth=typeof a.maxWidth=="number"?a.maxWidth+"px":a.maxWidth,a.role?u.setAttribute("role",a.role):u.removeAttribute("role"),(s.content!==a.content||s.allowHTML!==a.allowHTML)&&Lh(h,n.props),a.arrow?p?s.arrow!==a.arrow&&(u.removeChild(p),u.appendChild(Bh(a.arrow))):u.appendChild(Bh(a.arrow)):p&&u.removeChild(p)}return{popper:e,onUpdate:i}}Vh.$$tippy=!0;var __=1,Gs=[],kc=[];function C_(n,e){var t=Ih(n,Object.assign({},Kt,Rh(_h(e)))),r,i,s,a=!1,c=!1,u=!1,h=!1,p,m,y,b=[],E=Sh(He,t.interactiveDebounce),S,O=__++,M=null,I=i_(t.plugins),z={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},_={id:O,reference:n,popper:Do(),popperInstance:M,props:t,state:z,plugins:I,clearDelayTimeouts:zi,setProps:Fn,setContent:kn,show:Bo,hide:Lo,hideWithInteractivity:Vo,enable:Qr,disable:$n,unmount:$o,destroy:Fo};if(!t.render)return process.env.NODE_ENV!=="production"&&xc(!0,"render() function has not been supplied."),_;var H=t.render(_),V=H.popper,Y=H.onUpdate;V.setAttribute("data-tippy-root",""),V.id="tippy-"+_.id,_.popper=V,n._tippy=_,V._tippy=_;var U=I.map(function(R){return R.fn(_)}),be=n.hasAttribute("aria-expanded");return ie(),st(),Pe(),Be("onCreate",[_]),t.showOnCreate&&Sn(),V.addEventListener("mouseenter",function(){_.props.interactive&&_.state.isVisible&&_.clearDelayTimeouts()}),V.addEventListener("mouseleave",function(){_.props.interactive&&_.props.trigger.indexOf("mouseenter")>=0&&Xe().addEventListener("mousemove",E)}),_;function Oe(){var R=_.props.touch;return Array.isArray(R)?R:[R,0]}function Ee(){return Oe()[0]==="hold"}function _e(){var R;return!!((R=_.props.render)!=null&&R.$$tippy)}function Le(){return S||n}function Xe(){var R=Le().parentNode;return R?u_(R):document}function ot(){return Sc(V)}function je(R){return _.state.isMounted&&!_.state.isVisible||Ln.isTouch||p&&p.type==="focus"?0:yc(_.props.delay,R?0:1,Kt.delay)}function Pe(R){R===void 0&&(R=!1),V.style.pointerEvents=_.props.interactive&&!R?"":"none",V.style.zIndex=""+_.props.zIndex}function Be(R,X,ee){if(ee===void 0&&(ee=!0),U.forEach(function(Se){Se[R]&&Se[R].apply(Se,X)}),ee){var Ce;(Ce=_.props)[R].apply(Ce,X)}}function gt(){var R=_.props.aria;if(!!R.content){var X="aria-"+R.content,ee=V.id,Ce=Li(_.props.triggerTarget||n);Ce.forEach(function(Se){var ft=Se.getAttribute(X);if(_.state.isVisible)Se.setAttribute(X,ft?ft+" "+ee:ee);else{var $t=ft&&ft.replace(ee,"").trim();$t?Se.setAttribute(X,$t):Se.removeAttribute(X)}})}}function st(){if(!(be||!_.props.aria.expanded)){var R=Li(_.props.triggerTarget||n);R.forEach(function(X){_.props.interactive?X.setAttribute("aria-expanded",_.state.isVisible&&X===Le()?"true":"false"):X.removeAttribute("aria-expanded")})}}function Ke(){Xe().removeEventListener("mousemove",E),Gs=Gs.filter(function(R){return R!==E})}function yt(R){if(!(Ln.isTouch&&(u||R.type==="mousedown"))){var X=R.composedPath&&R.composedPath()[0]||R.target;if(!(_.props.interactive&&Oh(V,X))){if(Li(_.props.triggerTarget||n).some(function(ee){return Oh(ee,X)})){if(Ln.isTouch||_.state.isVisible&&_.props.trigger.indexOf("click")>=0)return}else Be("onClickOutside",[_,R]);_.props.hideOnClick===!0&&(_.clearDelayTimeouts(),_.hide(),c=!0,setTimeout(function(){c=!1}),_.state.isMounted||W())}}}function Jt(){u=!0}function Vt(){u=!1}function D(){var R=Xe();R.addEventListener("mousedown",yt,!0),R.addEventListener("touchend",yt,Yr),R.addEventListener("touchstart",Vt,Yr),R.addEventListener("touchmove",Jt,Yr)}function W(){var R=Xe();R.removeEventListener("mousedown",yt,!0),R.removeEventListener("touchend",yt,Yr),R.removeEventListener("touchstart",Vt,Yr),R.removeEventListener("touchmove",Jt,Yr)}function j(R,X){ae(R,function(){!_.state.isVisible&&V.parentNode&&V.parentNode.contains(V)&&X()})}function K(R,X){ae(R,X)}function ae(R,X){var ee=ot().box;function Ce(Se){Se.target===ee&&(wc(ee,"remove",Ce),X())}if(R===0)return X();wc(ee,"remove",m),wc(ee,"add",Ce),m=Ce}function De(R,X,ee){ee===void 0&&(ee=!1);var Ce=Li(_.props.triggerTarget||n);Ce.forEach(function(Se){Se.addEventListener(R,X,ee),b.push({node:Se,eventType:R,handler:X,options:ee})})}function ie(){Ee()&&(De("touchstart",Ne,{passive:!0}),De("touchend",$e,{passive:!0})),r_(_.props.trigger).forEach(function(R){if(R!=="manual")switch(De(R,Ne),R){case"mouseenter":De("mouseleave",$e);break;case"focus":De(g_?"focusout":"blur",Xr);break;case"focusin":De("focusout",Xr);break}})}function oe(){b.forEach(function(R){var X=R.node,ee=R.eventType,Ce=R.handler,Se=R.options;X.removeEventListener(ee,Ce,Se)}),b=[]}function Ne(R){var X,ee=!1;if(!(!_.state.isEnabled||Ct(R)||c)){var Ce=((X=p)==null?void 0:X.type)==="focus";p=R,S=R.currentTarget,st(),!_.state.isVisible&&a_(R)&&Gs.forEach(function(Se){return Se(R)}),R.type==="click"&&(_.props.trigger.indexOf("mouseenter")<0||a)&&_.props.hideOnClick!==!1&&_.state.isVisible?ee=!0:Sn(R),R.type==="click"&&(a=!ee),ee&&!Ce&&ln(R)}}function He(R){var X=R.target,ee=Le().contains(X)||V.contains(X);if(!(R.type==="mousemove"&&ee)){var Ce=Ze().concat(V).map(function(Se){var ft,$t=Se._tippy,Yn=(ft=$t.popperInstance)==null?void 0:ft.state;return Yn?{popperRect:Se.getBoundingClientRect(),popperState:Yn,props:t}:null}).filter(Boolean);f_(Ce,R)&&(Ke(),ln(R))}}function $e(R){var X=Ct(R)||_.props.trigger.indexOf("click")>=0&&a;if(!X){if(_.props.interactive){_.hideWithInteractivity(R);return}ln(R)}}function Xr(R){_.props.trigger.indexOf("focusin")<0&&R.target!==Le()||_.props.interactive&&R.relatedTarget&&V.contains(R.relatedTarget)||ln(R)}function Ct(R){return Ln.isTouch?Ee()!==R.type.indexOf("touch")>=0:!1}function Zr(){Fi();var R=_.props,X=R.popperOptions,ee=R.placement,Ce=R.offset,Se=R.getReferenceClientRect,ft=R.moveTransition,$t=_e()?Sc(V).arrow:null,Yn=Se?{getBoundingClientRect:Se,contextElement:Se.contextElement||Le()}:n,zo={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Hi){var Or=Hi.state;if(_e()){var ta=ot(),Wo=ta.box;["placement","reference-hidden","escaped"].forEach(function(Wi){Wi==="placement"?Wo.setAttribute("data-placement",Or.placement):Or.attributes.popper["data-popper-"+Wi]?Wo.setAttribute("data-"+Wi,""):Wo.removeAttribute("data-"+Wi)}),Or.attributes.popper={}}}},Xn=[{name:"offset",options:{offset:Ce}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!ft}},zo];_e()&&$t&&Xn.push({name:"arrow",options:{element:$t,padding:3}}),Xn.push.apply(Xn,(X==null?void 0:X.modifiers)||[]),_.popperInstance=Zk(Yn,V,Object.assign({},X,{placement:ee,onFirstUpdate:y,modifiers:Xn}))}function Fi(){_.popperInstance&&(_.popperInstance.destroy(),_.popperInstance=null)}function Ot(){var R=_.props.appendTo,X,ee=Le();_.props.interactive&&R===xh||R==="parent"?X=ee.parentNode:X=Eh(R,[ee]),X.contains(V)||X.appendChild(V),_.state.isMounted=!0,Zr(),process.env.NODE_ENV!=="production"&&Gn(_.props.interactive&&R===Kt.appendTo&&ee.nextElementSibling!==V,["Interactive tippy element may not be accessible via keyboard","navigation because it is not directly after the reference element","in the DOM source order.",`

`,"Using a wrapper <div> or <span> tag around the reference element","solves this by creating a new parentNode context.",`

`,"Specifying `appendTo: document.body` silences this warning, but it","assumes you are using a focus management solution to handle","keyboard navigation.",`

`,"See: https://atomiks.github.io/tippyjs/v6/accessibility/#interactivity"].join(" "))}function Ze(){return Js(V.querySelectorAll("[data-tippy-root]"))}function Sn(R){_.clearDelayTimeouts(),R&&Be("onTrigger",[_,R]),D();var X=je(!0),ee=Oe(),Ce=ee[0],Se=ee[1];Ln.isTouch&&Ce==="hold"&&Se&&(X=Se),X?r=setTimeout(function(){_.show()},X):_.show()}function ln(R){if(_.clearDelayTimeouts(),Be("onUntrigger",[_,R]),!_.state.isVisible){W();return}if(!(_.props.trigger.indexOf("mouseenter")>=0&&_.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(R.type)>=0&&a)){var X=je(!1);X?i=setTimeout(function(){_.state.isVisible&&_.hide()},X):s=requestAnimationFrame(function(){_.hide()})}}function Qr(){_.state.isEnabled=!0}function $n(){_.hide(),_.state.isEnabled=!1}function zi(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(s)}function Fn(R){if(process.env.NODE_ENV!=="production"&&Gn(_.state.isDestroyed,Vi("setProps")),!_.state.isDestroyed){Be("onBeforeUpdate",[_,R]),oe();var X=_.props,ee=Ih(n,Object.assign({},X,_h(R),{ignoreAttributes:!0}));_.props=ee,ie(),X.interactiveDebounce!==ee.interactiveDebounce&&(Ke(),E=Sh(He,ee.interactiveDebounce)),X.triggerTarget&&!ee.triggerTarget?Li(X.triggerTarget).forEach(function(Ce){Ce.removeAttribute("aria-expanded")}):ee.triggerTarget&&n.removeAttribute("aria-expanded"),st(),Pe(),Y&&Y(X,ee),_.popperInstance&&(Zr(),Ze().forEach(function(Ce){requestAnimationFrame(Ce._tippy.popperInstance.forceUpdate)})),Be("onAfterUpdate",[_,R])}}function kn(R){_.setProps({content:R})}function Bo(){process.env.NODE_ENV!=="production"&&Gn(_.state.isDestroyed,Vi("show"));var R=_.state.isVisible,X=_.state.isDestroyed,ee=!_.state.isEnabled,Ce=Ln.isTouch&&!_.props.touch,Se=yc(_.props.duration,0,Kt.duration);if(!(R||X||ee||Ce)&&!Le().hasAttribute("disabled")&&(Be("onShow",[_],!1),_.props.onShow(_)!==!1)){if(_.state.isVisible=!0,_e()&&(V.style.visibility="visible"),Pe(),D(),_.state.isMounted||(V.style.transition="none"),_e()){var ft=ot(),$t=ft.box,Yn=ft.content;vc([$t,Yn],0)}y=function(){var Xn;if(!(!_.state.isVisible||h)){if(h=!0,V.offsetHeight,V.style.transition=_.props.moveTransition,_e()&&_.props.animation){var Ho=ot(),Hi=Ho.box,Or=Ho.content;vc([Hi,Or],Se),Ch([Hi,Or],"visible")}gt(),st(),kh(kc,_),(Xn=_.popperInstance)==null||Xn.forceUpdate(),Be("onMount",[_]),_.props.animation&&_e()&&K(Se,function(){_.state.isShown=!0,Be("onShown",[_])})}},Ot()}}function Lo(){process.env.NODE_ENV!=="production"&&Gn(_.state.isDestroyed,Vi("hide"));var R=!_.state.isVisible,X=_.state.isDestroyed,ee=!_.state.isEnabled,Ce=yc(_.props.duration,1,Kt.duration);if(!(R||X||ee)&&(Be("onHide",[_],!1),_.props.onHide(_)!==!1)){if(_.state.isVisible=!1,_.state.isShown=!1,h=!1,a=!1,_e()&&(V.style.visibility="hidden"),Ke(),W(),Pe(!0),_e()){var Se=ot(),ft=Se.box,$t=Se.content;_.props.animation&&(vc([ft,$t],Ce),Ch([ft,$t],"hidden"))}gt(),st(),_.props.animation?_e()&&j(Ce,_.unmount):_.unmount()}}function Vo(R){process.env.NODE_ENV!=="production"&&Gn(_.state.isDestroyed,Vi("hideWithInteractivity")),Xe().addEventListener("mousemove",E),kh(Gs,E),E(R)}function $o(){process.env.NODE_ENV!=="production"&&Gn(_.state.isDestroyed,Vi("unmount")),_.state.isVisible&&_.hide(),_.state.isMounted&&(Fi(),Ze().forEach(function(R){R._tippy.unmount()}),V.parentNode&&V.parentNode.removeChild(V),kc=kc.filter(function(R){return R!==_}),_.state.isMounted=!1,Be("onHidden",[_]))}function Fo(){process.env.NODE_ENV!=="production"&&Gn(_.state.isDestroyed,Vi("destroy")),!_.state.isDestroyed&&(_.clearDelayTimeouts(),_.unmount(),oe(),delete n._tippy,_.state.isDestroyed=!0,Be("onDestroy",[_]))}}function $i(n,e){e===void 0&&(e={});var t=Kt.plugins.concat(e.plugins||[]);process.env.NODE_ENV!=="production"&&(v_(n),Ph(e,t)),h_();var r=Object.assign({},e,{plugins:t}),i=c_(n);if(process.env.NODE_ENV!=="production"){var s=Ro(r.content),a=i.length>1;Gn(s&&a,["tippy() was passed an Element as the `content` prop, but more than","one tippy instance was created by this invocation. This means the","content element will only be appended to the last tippy instance.",`

`,"Instead, pass the .innerHTML of the element, or use a function that","returns a cloned version of the element instead.",`

`,`1) content: element.innerHTML
`,"2) content: () => element.cloneNode(true)"].join(" "))}var c=i.reduce(function(u,h){var p=h&&C_(h,r);return p&&u.push(p),u},[]);return Ro(n)?c[0]:c}$i.defaultProps=Kt,$i.setDefaultProps=E_,$i.currentInput=Ln,Object.assign({},eh,{effect:function(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow)}}),$i.setDefaultProps({render:Vh});var Ys=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function O_(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var $h=O_,T_=typeof Ys=="object"&&Ys&&Ys.Object===Object&&Ys,N_=T_,M_=N_,A_=typeof self=="object"&&self&&self.Object===Object&&self,D_=M_||A_||Function("return this")(),Fh=D_,R_=Fh,I_=function(){return R_.Date.now()},P_=I_,B_=/\s/;function L_(n){for(var e=n.length;e--&&B_.test(n.charAt(e)););return e}var V_=L_,$_=V_,F_=/^\s+/;function z_(n){return n&&n.slice(0,$_(n)+1).replace(F_,"")}var H_=z_,W_=Fh,j_=W_.Symbol,zh=j_,Hh=zh,Wh=Object.prototype,U_=Wh.hasOwnProperty,q_=Wh.toString,Po=Hh?Hh.toStringTag:void 0;function K_(n){var e=U_.call(n,Po),t=n[Po];try{n[Po]=void 0;var r=!0}catch{}var i=q_.call(n);return r&&(e?n[Po]=t:delete n[Po]),i}var J_=K_,G_=Object.prototype,Y_=G_.toString;function X_(n){return Y_.call(n)}var Z_=X_,jh=zh,Q_=J_,eC=Z_,tC="[object Null]",nC="[object Undefined]",Uh=jh?jh.toStringTag:void 0;function rC(n){return n==null?n===void 0?nC:tC:Uh&&Uh in Object(n)?Q_(n):eC(n)}var iC=rC;function oC(n){return n!=null&&typeof n=="object"}var sC=oC,aC=iC,lC=sC,cC="[object Symbol]";function uC(n){return typeof n=="symbol"||lC(n)&&aC(n)==cC}var fC=uC,dC=H_,qh=$h,pC=fC,Kh=0/0,hC=/^[-+]0x[0-9a-f]+$/i,mC=/^0b[01]+$/i,gC=/^0o[0-7]+$/i,yC=parseInt;function bC(n){if(typeof n=="number")return n;if(pC(n))return Kh;if(qh(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=qh(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=dC(n);var t=mC.test(n);return t||gC.test(n)?yC(n.slice(2),t?2:8):hC.test(n)?Kh:+n}var vC=bC,wC=$h,_c=P_,Jh=vC,xC="Expected a function",EC=Math.max,SC=Math.min;function kC(n,e,t){var r,i,s,a,c,u,h=0,p=!1,m=!1,y=!0;if(typeof n!="function")throw new TypeError(xC);e=Jh(e)||0,wC(t)&&(p=!!t.leading,m="maxWait"in t,s=m?EC(Jh(t.maxWait)||0,e):s,y="trailing"in t?!!t.trailing:y);function b(V){var Y=r,U=i;return r=i=void 0,h=V,a=n.apply(U,Y),a}function E(V){return h=V,c=setTimeout(M,e),p?b(V):a}function S(V){var Y=V-u,U=V-h,be=e-Y;return m?SC(be,s-U):be}function O(V){var Y=V-u,U=V-h;return u===void 0||Y>=e||Y<0||m&&U>=s}function M(){var V=_c();if(O(V))return I(V);c=setTimeout(M,S(V))}function I(V){return c=void 0,y&&r?b(V):(r=i=void 0,a)}function z(){c!==void 0&&clearTimeout(c),h=0,r=u=i=c=void 0}function _(){return c===void 0?a:I(_c())}function H(){var V=_c(),Y=O(V);if(r=arguments,i=this,u=V,Y){if(c===void 0)return E(u);if(m)return clearTimeout(c),c=setTimeout(M,e),b(u)}return c===void 0&&(c=setTimeout(M,e)),a}return H.cancel=z,H.flush=_,H}var _C=kC;class CC{constructor({editor:e,element:t,view:r,tippyOptions:i={},updateDelay:s=250,shouldShow:a}){this.preventHide=!1,this.shouldShow=({view:c,state:u,from:h,to:p})=>{const{doc:m,selection:y}=u,{empty:b}=y,E=!m.textBetween(h,p).length&&nc(u.selection),S=this.element.contains(document.activeElement);return!(!(c.hasFocus()||S)||b||E||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:c})=>{var u;if(this.preventHide){this.preventHide=!1;return}(c==null?void 0:c.relatedTarget)&&((u=this.element.parentNode)===null||u===void 0?void 0:u.contains(c.relatedTarget))||this.hide()},this.tippyBlurHandler=c=>{this.blurHandler({event:c})},this.updateHandler=(c,u)=>{var h,p,m;const{state:y,composing:b}=c,{doc:E,selection:S}=y,O=u&&u.doc.eq(E)&&u.selection.eq(S);if(b||O)return;this.createTooltip();const{ranges:M}=S,I=Math.min(...M.map(H=>H.$from.pos)),z=Math.max(...M.map(H=>H.$to.pos));if(!((h=this.shouldShow)===null||h===void 0?void 0:h.call(this,{editor:this.editor,view:c,state:y,oldState:u,from:I,to:z}))){this.hide();return}(p=this.tippy)===null||p===void 0||p.setProps({getReferenceClientRect:((m=this.tippyOptions)===null||m===void 0?void 0:m.getReferenceClientRect)||(()=>{if(kS(y.selection)){const H=c.nodeDOM(I);if(H)return H.getBoundingClientRect()}return Kp(c,I,z)})}),this.show()},this.editor=e,this.element=t,this.view=r,this.updateDelay=s,a&&(this.shouldShow=a),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=i,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,t=!!e.parentElement;this.tippy||!t||(this.tippy=$i(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(e,t){const{state:r}=e;r.selection.$from.pos!==r.selection.$to.pos?this.updateDelay>0?_C(this.updateHandler,this.updateDelay)(e,t):this.updateHandler(e,t):this.hide()}show(){var e;(e=this.tippy)===null||e===void 0||e.show()}hide(){var e;(e=this.tippy)===null||e===void 0||e.hide()}destroy(){var e,t;!((e=this.tippy)===null||e===void 0)&&e.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(t=this.tippy)===null||t===void 0||t.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const Gh=n=>new Dt({key:typeof n.pluginKey=="string"?new Dn(n.pluginKey):n.pluginKey,view:e=>new CC({view:e,...n})});_t.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[Gh({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}});class OC{constructor({editor:e,element:t,view:r,tippyOptions:i={},shouldShow:s}){this.preventHide=!1,this.shouldShow=({view:a,state:c})=>{const{selection:u}=c,{$anchor:h,empty:p}=u,m=h.depth===1,y=h.parent.isTextblock&&!h.parent.type.spec.code&&!h.parent.textContent;return!(!a.hasFocus()||!p||!m||!y||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:a})=>{var c;if(this.preventHide){this.preventHide=!1;return}(a==null?void 0:a.relatedTarget)&&((c=this.element.parentNode)===null||c===void 0?void 0:c.contains(a.relatedTarget))||this.hide()},this.tippyBlurHandler=a=>{this.blurHandler({event:a})},this.editor=e,this.element=t,this.view=r,s&&(this.shouldShow=s),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=i,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,t=!!e.parentElement;this.tippy||!t||(this.tippy=$i(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"right",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(e,t){var r,i,s;const{state:a}=e,{doc:c,selection:u}=a,{from:h,to:p}=u;if(t&&t.doc.eq(c)&&t.selection.eq(u))return;if(this.createTooltip(),!((r=this.shouldShow)===null||r===void 0?void 0:r.call(this,{editor:this.editor,view:e,state:a,oldState:t}))){this.hide();return}(i=this.tippy)===null||i===void 0||i.setProps({getReferenceClientRect:((s=this.tippyOptions)===null||s===void 0?void 0:s.getReferenceClientRect)||(()=>Kp(e,h,p))}),this.show()}show(){var e;(e=this.tippy)===null||e===void 0||e.show()}hide(){var e;(e=this.tippy)===null||e===void 0||e.hide()}destroy(){var e,t;!((e=this.tippy)===null||e===void 0)&&e.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(t=this.tippy)===null||t===void 0||t.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const Yh=n=>new Dt({key:typeof n.pluginKey=="string"?new Dn(n.pluginKey):n.pluginKey,view:e=>new OC({view:e,...n})});_t.create({name:"floatingMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"floatingMenu",shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[Yh({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}}),d.defineComponent({name:"BubbleMenu",props:{pluginKey:{type:null,default:"bubbleMenu"},editor:{type:Object,required:!0},updateDelay:{type:Number,default:void 0},tippyOptions:{type:Object,default:()=>({})},shouldShow:{type:Function,default:null}},setup(n,{slots:e}){const t=d.ref(null);return d.onMounted(()=>{const{updateDelay:r,editor:i,pluginKey:s,shouldShow:a,tippyOptions:c}=n;i.registerPlugin(Gh({updateDelay:r,editor:i,element:t.value,pluginKey:s,shouldShow:a,tippyOptions:c}))}),d.onBeforeUnmount(()=>{const{pluginKey:r,editor:i}=n;i.unregisterPlugin(r)}),()=>{var r;return d.h("div",{ref:t},(r=e.default)===null||r===void 0?void 0:r.call(e))}}});function Xh(n){return d.customRef((e,t)=>({get(){return e(),n},set(r){n=r,requestAnimationFrame(()=>{requestAnimationFrame(()=>{t()})})}}))}class TC extends WS{constructor(e={}){return super(e),this.vueRenderers=d.reactive(new Map),this.contentComponent=null,this.reactiveState=Xh(this.view.state),this.reactiveExtensionStorage=Xh(this.extensionStorage),this.on("transaction",()=>{this.reactiveState.value=this.view.state,this.reactiveExtensionStorage.value=this.extensionStorage}),d.markRaw(this)}get state(){return this.reactiveState?this.reactiveState.value:this.view.state}get storage(){return this.reactiveExtensionStorage?this.reactiveExtensionStorage.value:super.storage}registerPlugin(e,t){super.registerPlugin(e,t),this.reactiveState.value=this.view.state}unregisterPlugin(e){super.unregisterPlugin(e),this.reactiveState.value=this.view.state}}const Zh=d.defineComponent({name:"EditorContent",props:{editor:{default:null,type:Object}},setup(n){const e=d.ref(),t=d.getCurrentInstance();return d.watchEffect(()=>{const r=n.editor;r&&r.options.element&&e.value&&d.nextTick(()=>{if(!e.value||!r.options.element.firstChild)return;const i=d.unref(e.value);e.value.append(...r.options.element.childNodes),r.contentComponent=t.ctx._,r.setOptions({element:i}),r.createNodeViews()})}),d.onBeforeUnmount(()=>{const r=n.editor;if(!r||(r.isDestroyed||r.view.setProps({nodeViews:{}}),r.contentComponent=null,!r.options.element.firstChild))return;const i=document.createElement("div");i.append(...r.options.element.childNodes),r.setOptions({element:i})}),{rootEl:e}},render(){const n=[];return this.editor&&this.editor.vueRenderers.forEach(e=>{const t=d.h(d.Teleport,{to:e.teleportElement,key:e.id},d.h(e.component,{ref:e.id,...e.props}));n.push(t)}),d.h("div",{ref:e=>{this.rootEl=e}},...n)}});d.defineComponent({name:"FloatingMenu",props:{pluginKey:{type:null,default:"floatingMenu"},editor:{type:Object,required:!0},tippyOptions:{type:Object,default:()=>({})},shouldShow:{type:Function,default:null}},setup(n,{slots:e}){const t=d.ref(null);return d.onMounted(()=>{const{pluginKey:r,editor:i,tippyOptions:s,shouldShow:a}=n;i.registerPlugin(Yh({pluginKey:r,editor:i,element:t.value,tippyOptions:s,shouldShow:a}))}),d.onBeforeUnmount(()=>{const{pluginKey:r,editor:i}=n;i.unregisterPlugin(r)}),()=>{var r;return d.h("div",{ref:t},(r=e.default)===null||r===void 0?void 0:r.call(e))}}}),d.defineComponent({props:{as:{type:String,default:"div"}},render(){return d.h(this.as,{style:{whiteSpace:"pre-wrap"},"data-node-view-content":""})}}),d.defineComponent({props:{as:{type:String,default:"div"}},inject:["onDragStart","decorationClasses"],render(){var n,e;return d.h(this.as,{class:this.decorationClasses,style:{whiteSpace:"normal"},"data-node-view-wrapper":"",onDragstart:this.onDragStart},(e=(n=this.$slots).default)===null||e===void 0?void 0:e.call(n))}});const Qh=(n={})=>{const e=d.shallowRef();return d.onMounted(()=>{e.value=new TC(n)}),d.onBeforeUnmount(()=>{var t;(t=e.value)===null||t===void 0||t.destroy()}),e},NC=/^\s*>\s$/,MC=Pt.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:n}){return["blockquote",kt(this.options.HTMLAttributes,n),0]},addCommands(){return{setBlockquote:()=>({commands:n})=>n.wrapIn(this.name),toggleBlockquote:()=>({commands:n})=>n.toggleWrap(this.name),unsetBlockquote:()=>({commands:n})=>n.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[ac({find:NC,type:this.type})]}}),AC=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,DC=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,RC=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,IC=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,PC=Er.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}]},renderHTML({HTMLAttributes:n}){return["strong",kt(this.options.HTMLAttributes,n),0]},addCommands(){return{setBold:()=>({commands:n})=>n.setMark(this.name),toggleBold:()=>({commands:n})=>n.toggleMark(this.name),unsetBold:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Ai({find:AC,type:this.type}),Ai({find:RC,type:this.type})]},addPasteRules(){return[Di({find:DC,type:this.type}),Di({find:IC,type:this.type})]}}),BC=/^\s*([-+*])\s$/,LC=Pt.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:n}){return["ul",kt(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleBulletList:()=>({commands:n})=>n.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){return[ac({find:BC,type:this.type})]}}),VC=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,$C=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,FC=Er.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:n}){return["code",kt(this.options.HTMLAttributes,n),0]},addCommands(){return{setCode:()=>({commands:n})=>n.setMark(this.name),toggleCode:()=>({commands:n})=>n.toggleMark(this.name),unsetCode:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Ai({find:VC,type:this.type})]},addPasteRules(){return[Di({find:$C,type:this.type})]}}),zC=/^```([a-z]+)?[\s\n]$/,HC=/^~~~([a-z]+)?[\s\n]$/,WC=Pt.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:n=>{var e;const{languageClassPrefix:t}=this.options,s=[...((e=n.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(a=>a.startsWith(t)).map(a=>a.replace(t,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:n,HTMLAttributes:e}){return["pre",kt(this.options.HTMLAttributes,e),["code",{class:n.attrs.language?this.options.languageClassPrefix+n.attrs.language:null},0]]},addCommands(){return{setCodeBlock:n=>({commands:e})=>e.setNode(this.name,n),toggleCodeBlock:n=>({commands:e})=>e.toggleNode(this.name,"paragraph",n)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:n,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!n||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:n})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=n,{selection:t}=e,{$from:r,empty:i}=t;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith(`

`);return!s||!a?!1:n.chain().command(({tr:c})=>(c.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:n})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=n,{selection:t,doc:r}=e,{$from:i,empty:s}=t;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const c=i.after();return c===void 0||r.nodeAt(c)?!1:n.commands.exitCode()}}},addInputRules(){return[sc({find:zC,type:this.type,getAttributes:n=>({language:n[1]})}),sc({find:HC,type:this.type,getAttributes:n=>({language:n[1]})})]},addProseMirrorPlugins(){return[new Dt({key:new Dn("codeBlockVSCodeHandler"),props:{handlePaste:(n,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i==null?void 0:i.mode;if(!t||!s)return!1;const{tr:a}=n.state;return a.replaceSelectionWith(this.type.create({language:s})),a.setSelection(me.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.insertText(t.replace(/\r\n?/g,`
`)),a.setMeta("paste",!0),n.dispatch(a),!0}}})]}}),jC=Pt.create({name:"doc",topNode:!0,content:"block+"});function UC(n={}){return new Dt({view(e){return new qC(e,n)}})}class qC{constructor(e,t){this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=t.width||1,this.color=t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(r=>{let i=s=>{this[r](s)};return e.dom.addEventListener(r,i),{name:r,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t;if(!e.parent.inlineContent){let a=e.nodeBefore,c=e.nodeAfter;if(a||c){let u=this.editorView.nodeDOM(this.cursorPos-(a?a.nodeSize:0)).getBoundingClientRect(),h=a?u.bottom:u.top;a&&c&&(h=(h+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),t={left:u.left,right:u.right,top:h-this.width/2,bottom:h+this.width/2}}}if(!t){let a=this.editorView.coordsAtPos(this.cursorPos);t={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}let r=this.editorView.dom.offsetParent;this.element||(this.element=r.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color);let i,s;if(!r||r==document.body&&getComputedStyle(r).position=="static")i=-pageXOffset,s=-pageYOffset;else{let a=r.getBoundingClientRect();i=a.left-r.scrollLeft,s=a.top-r.scrollTop}this.element.style.left=t.left-i+"px",this.element.style.top=t.top-s+"px",this.element.style.width=t.right-t.left+"px",this.element.style.height=t.bottom-t.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,t):i;if(t&&!s){let a=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice&&(a=id(this.editorView.state.doc,a,this.editorView.dragging.slice),a==null))return this.setCursor(null);this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const KC=_t.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[UC(this.options)]}});class qe extends de{constructor(e){super(e,e)}map(e,t){let r=e.resolve(t.map(this.head));return qe.valid(r)?new qe(r):de.near(r)}content(){return J.empty}eq(e){return e instanceof qe&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new qe(e.resolve(t.pos))}getBookmark(){return new Cc(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!JC(e)||!GC(e))return!1;let r=t.type.spec.allowGapCursor;if(r!=null)return r;let i=t.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,t,r=!1){e:for(;;){if(!r&&qe.valid(e))return e;let i=e.pos,s=null;for(let a=e.depth;;a--){let c=e.node(a);if(t>0?e.indexAfter(a)<c.childCount:e.index(a)>0){s=c.child(t>0?e.indexAfter(a):e.index(a)-1);break}else if(a==0)return null;i+=t;let u=e.doc.resolve(i);if(qe.valid(u))return u}for(;;){let a=t>0?s.firstChild:s.lastChild;if(!a){if(s.isAtom&&!s.isText&&!se.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*t),r=!1;continue e}break}s=a,i+=t;let c=e.doc.resolve(i);if(qe.valid(c))return c}return null}}}qe.prototype.visible=!1,qe.findFrom=qe.findGapCursorFrom,de.jsonID("gapcursor",qe);class Cc{constructor(e){this.pos=e}map(e){return new Cc(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return qe.valid(t)?new qe(t):de.near(t)}}function JC(n){for(let e=n.depth;e>=0;e--){let t=n.index(e),r=n.node(e);if(t==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(t-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function GC(n){for(let e=n.depth;e>=0;e--){let t=n.indexAfter(e),r=n.node(e);if(t==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(t);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function YC(){return new Dt({props:{decorations:eO,createSelectionBetween(n,e,t){return e.pos==t.pos&&qe.valid(t)?new qe(t):null},handleClick:ZC,handleKeyDown:XC,handleDOMEvents:{beforeinput:QC}}})}const XC=_p({ArrowLeft:Xs("horiz",-1),ArrowRight:Xs("horiz",1),ArrowUp:Xs("vert",-1),ArrowDown:Xs("vert",1)});function Xs(n,e){const t=n=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let a=r.selection,c=e>0?a.$to:a.$from,u=a.empty;if(a instanceof me){if(!s.endOfTextblock(t)||c.depth==0)return!1;u=!1,c=r.doc.resolve(e>0?c.after():c.before())}let h=qe.findGapCursorFrom(c,e,u);return h?(i&&i(r.tr.setSelection(new qe(h))),!0):!1}}function ZC(n,e,t){if(!n||!n.editable)return!1;let r=n.state.doc.resolve(e);if(!qe.valid(r))return!1;let i=n.posAtCoords({left:t.clientX,top:t.clientY});return i&&i.inside>-1&&se.isSelectable(n.state.doc.nodeAt(i.inside))?!1:(n.dispatch(n.state.tr.setSelection(new qe(r))),!0)}function QC(n,e){if(e.inputType!="insertCompositionText"||!(n.state.selection instanceof qe))return!1;let{$from:t}=n.state.selection,r=t.parent.contentMatchAt(t.index()).findWrapping(n.state.schema.nodes.text);if(!r)return!1;let i=F.empty;for(let a=r.length-1;a>=0;a--)i=F.from(r[a].createAndFill(null,i));let s=n.state.tr.replace(t.pos,t.pos,new J(i,0,0));return s.setSelection(me.near(s.doc.resolve(t.pos+1))),n.dispatch(s),!1}function eO(n){if(!(n.selection instanceof qe))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",et.create(n.doc,[rn.widget(n.selection.head,e,{key:"gapcursor"})])}const tO=_t.create({name:"gapCursor",addProseMirrorPlugins(){return[YC()]},extendNodeSchema(n){var e;const t={name:n.name,options:n.options,storage:n.storage};return{allowGapCursor:(e=pe(Z(n,"allowGapCursor",t)))!==null&&e!==void 0?e:null}}}),nO=Pt.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:n}){return["br",kt(this.options.HTMLAttributes,n)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:n,chain:e,state:t,editor:r})=>n.first([()=>n.exitCode(),()=>n.command(()=>{const{selection:i,storedMarks:s}=t;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:c}=r.extensionManager,u=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:h,dispatch:p})=>{if(p&&u&&a){const m=u.filter(y=>c.includes(y.type.name));h.ensureMarks(m)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),rO=Pt.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(n=>({tag:`h${n}`,attrs:{level:n}}))},renderHTML({node:n,HTMLAttributes:e}){return[`h${this.options.levels.includes(n.attrs.level)?n.attrs.level:this.options.levels[0]}`,kt(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.setNode(this.name,n):!1,toggleHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.toggleNode(this.name,"paragraph",n):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((n,e)=>({...n,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(n=>sc({find:new RegExp(`^(#{1,${n}})\\s$`),type:this.type,getAttributes:{level:n}}))}});var Zs=200,ut=function(){};ut.prototype.append=function(e){return e.length?(e=ut.from(e),!this.length&&e||e.length<Zs&&this.leafAppend(e)||this.length<Zs&&e.leafPrepend(this)||this.appendInner(e)):this},ut.prototype.prepend=function(e){return e.length?ut.from(e).append(this):this},ut.prototype.appendInner=function(e){return new iO(this,e)},ut.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?ut.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},ut.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},ut.prototype.forEach=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length),t<=r?this.forEachInner(e,t,r,0):this.forEachInvertedInner(e,t,r,0)},ut.prototype.map=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,a){return i.push(e(s,a))},t,r),i},ut.from=function(e){return e instanceof ut?e:e&&e.length?new em(e):ut.empty};var em=function(n){function e(r){n.call(this),this.values=r}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,a,c){for(var u=s;u<a;u++)if(i(this.values[u],c+u)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,a,c){for(var u=s-1;u>=a;u--)if(i(this.values[u],c+u)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Zs)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Zs)return new e(i.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(ut);ut.empty=new em([]);var iO=function(n){function e(t,r){n.call(this),this.left=t,this.right=r,this.length=t.length+r.length,this.depth=Math.max(t.depth,r.depth)+1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,a){var c=this.left.length;if(i<c&&this.left.forEachInner(r,i,Math.min(s,c),a)===!1||s>c&&this.right.forEachInner(r,Math.max(i-c,0),Math.min(this.length,s)-c,a+c)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,a){var c=this.left.length;if(i>c&&this.right.forEachInvertedInner(r,i-c,Math.max(s,c)-c,a+c)===!1||s<c&&this.left.forEachInvertedInner(r,Math.min(i,c),s,a)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(ut),tm=ut;const oO=500;class En{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;t&&(i=this.remapping(r,this.items.length),s=i.maps.length);let a=e.tr,c,u,h=[],p=[];return this.items.forEach((m,y)=>{if(!m.step){i||(i=this.remapping(r,y+1),s=i.maps.length),s--,p.push(m);return}if(i){p.push(new Vn(m.map));let b=m.step.map(i.slice(s)),E;b&&a.maybeStep(b).doc&&(E=a.mapping.maps[a.mapping.maps.length-1],h.push(new Vn(E,void 0,void 0,h.length+p.length))),s--,E&&i.appendMap(E,s)}else a.maybeStep(m.step);if(m.selection)return c=i?m.selection.map(i.slice(s)):m.selection,u=new En(this.items.slice(0,r).append(p.reverse().concat(h)),this.eventCount-1),!1},this.items.length,0),{remaining:u,transform:a,selection:c}}addTransform(e,t,r,i){let s=[],a=this.eventCount,c=this.items,u=!i&&c.length?c.get(c.length-1):null;for(let p=0;p<e.steps.length;p++){let m=e.steps[p].invert(e.docs[p]),y=new Vn(e.mapping.maps[p],m,t),b;(b=u&&u.merge(y))&&(y=b,p?s.pop():c=c.slice(0,c.length-1)),s.push(y),t&&(a++,t=void 0),i||(u=y)}let h=a-r.depth;return h>aO&&(c=sO(c,h),a-=h),new En(c.append(s),a)}remapping(e,t){let r=new pi;return this.items.forEach((i,s)=>{let a=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,a)},e,t),r}addMaps(e){return this.eventCount==0?this:new En(this.items.append(e.map(t=>new Vn(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-t),s=e.mapping,a=e.steps.length,c=this.eventCount;this.items.forEach(y=>{y.selection&&c--},i);let u=t;this.items.forEach(y=>{let b=s.getMirror(--u);if(b==null)return;a=Math.min(a,b);let E=s.maps[b];if(y.step){let S=e.steps[b].invert(e.docs[b]),O=y.selection&&y.selection.map(s.slice(u+1,b));O&&c++,r.push(new Vn(E,S,O))}else r.push(new Vn(E))},i);let h=[];for(let y=t;y<a;y++)h.push(new Vn(s.maps[y]));let p=this.items.slice(0,i).append(h).append(r),m=new En(p,c);return m.emptyItemCount()>oO&&(m=m.compress(this.items.length-r.length)),m}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),r=t.maps.length,i=[],s=0;return this.items.forEach((a,c)=>{if(c>=e)i.push(a),a.selection&&s++;else if(a.step){let u=a.step.map(t.slice(r)),h=u&&u.getMap();if(r--,h&&t.appendMap(h,r),u){let p=a.selection&&a.selection.map(t.slice(r));p&&s++;let m=new Vn(h.invert(),u,p),y,b=i.length-1;(y=i.length&&i[b].merge(m))?i[b]=y:i.push(m)}}else a.map&&r--},this.items.length,0),new En(tm.from(i.reverse()),s)}}En.empty=new En(tm.empty,0);function sO(n,e){let t;return n.forEach((r,i)=>{if(r.selection&&e--==0)return t=i,!1}),n.slice(t)}class Vn{constructor(e,t,r,i){this.map=e,this.step=t,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new Vn(t.getMap().invert(),t,this.selection)}}}class _r{constructor(e,t,r,i){this.done=e,this.undone=t,this.prevRanges=r,this.prevTime=i}}const aO=20;function lO(n,e,t,r){let i=t.getMeta(Cr),s;if(i)return i.historyState;t.getMeta(uO)&&(n=new _r(n.done,n.undone,null,0));let a=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(a&&a.getMeta(Cr))return a.getMeta(Cr).redo?new _r(n.done.addTransform(t,void 0,r,Qs(e)),n.undone,nm(t.mapping.maps[t.steps.length-1]),n.prevTime):new _r(n.done,n.undone.addTransform(t,void 0,r,Qs(e)),null,n.prevTime);if(t.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let c=n.prevTime==0||!a&&(n.prevTime<(t.time||0)-r.newGroupDelay||!cO(t,n.prevRanges)),u=a?Oc(n.prevRanges,t.mapping):nm(t.mapping.maps[t.steps.length-1]);return new _r(n.done.addTransform(t,c?e.selection.getBookmark():void 0,r,Qs(e)),En.empty,u,t.time)}else return(s=t.getMeta("rebased"))?new _r(n.done.rebased(t,s),n.undone.rebased(t,s),Oc(n.prevRanges,t.mapping),n.prevTime):new _r(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),Oc(n.prevRanges,t.mapping),n.prevTime)}function cO(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(t=!0)}),t}function nm(n){let e=[];return n.forEach((t,r,i,s)=>e.push(i,s)),e}function Oc(n,e){if(!n)return null;let t=[];for(let r=0;r<n.length;r+=2){let i=e.map(n[r],1),s=e.map(n[r+1],-1);i<=s&&t.push(i,s)}return t}function rm(n,e,t,r){let i=Qs(e),s=Cr.get(e).spec.config,a=(r?n.undone:n.done).popEvent(e,i);if(!a)return;let c=a.selection.resolve(a.transform.doc),u=(r?n.done:n.undone).addTransform(a.transform,e.selection.getBookmark(),s,i),h=new _r(r?u:a.remaining,r?a.remaining:u,null,0);t(a.transform.setSelection(c).setMeta(Cr,{redo:r,historyState:h}).scrollIntoView())}let Tc=!1,im=null;function Qs(n){let e=n.plugins;if(im!=e){Tc=!1,im=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){Tc=!0;break}}return Tc}const Cr=new Dn("history"),uO=new Dn("closeHistory");function fO(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new Dt({key:Cr,state:{init(){return new _r(En.empty,En.empty,null,0)},apply(e,t,r){return lO(t,r,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let r=t.inputType,i=r=="historyUndo"?om:r=="historyRedo"?sm:null;return i?(t.preventDefault(),i(e.state,e.dispatch)):!1}}}})}const om=(n,e)=>{let t=Cr.getState(n);return!t||t.done.eventCount==0?!1:(e&&rm(t,n,e,!1),!0)},sm=(n,e)=>{let t=Cr.getState(n);return!t||t.undone.eventCount==0?!1:(e&&rm(t,n,e,!0),!0)},dO=_t.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:n,dispatch:e})=>om(n,e),redo:()=>({state:n,dispatch:e})=>sm(n,e)}},addProseMirrorPlugins(){return[fO(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-\u044F":()=>this.editor.commands.undo(),"Shift-Mod-\u044F":()=>this.editor.commands.redo()}}}),pO=Pt.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:n}){return["hr",kt(this.options.HTMLAttributes,n)]},addCommands(){return{setHorizontalRule:()=>({chain:n})=>n().insertContent({type:this.name}).command(({tr:e,dispatch:t})=>{var r;if(t){const{$to:i}=e.selection,s=i.end();if(i.nodeAfter)e.setSelection(me.create(e.doc,i.pos));else{const a=(r=i.parent.type.contentMatch.defaultType)===null||r===void 0?void 0:r.create();a&&(e.insert(s,a),e.setSelection(me.create(e.doc,s)))}e.scrollIntoView()}return!0}).run()}},addInputRules(){return[jS({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),hO=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,mO=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,gO=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,yO=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,bO=Er.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:n=>n.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:n}){return["em",kt(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark(this.name),toggleItalic:()=>({commands:n})=>n.toggleMark(this.name),unsetItalic:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Ai({find:hO,type:this.type}),Ai({find:gO,type:this.type})]},addPasteRules(){return[Di({find:mO,type:this.type}),Di({find:yO,type:this.type})]}}),vO=Pt.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",kt(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),wO=/^(\d+)\.\s$/,xO=Pt.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:n=>n.hasAttribute("start")?parseInt(n.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:n}){const{start:e,...t}=n;return e===1?["ol",kt(this.options.HTMLAttributes,t),0]:["ol",kt(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleOrderedList:()=>({commands:n})=>n.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){return[ac({find:wO,type:this.type,getAttributes:n=>({start:+n[1]}),joinPredicate:(n,e)=>e.childCount+e.attrs.start===+n[1]})]}}),EO=Pt.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",kt(this.options.HTMLAttributes,n),0]},addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),SO=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,kO=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,_O=Er.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["s",kt(this.options.HTMLAttributes,n),0]},addCommands(){return{setStrike:()=>({commands:n})=>n.setMark(this.name),toggleStrike:()=>({commands:n})=>n.toggleMark(this.name),unsetStrike:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-x":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Ai({find:SO,type:this.type})]},addPasteRules(){return[Di({find:kO,type:this.type})]}}),CO=Pt.create({name:"text",group:"inline"}),ea=_t.create({name:"starterKit",addExtensions(){var n,e,t,r,i,s,a,c,u,h,p,m,y,b,E,S,O,M;const I=[];return this.options.blockquote!==!1&&I.push(MC.configure((n=this.options)===null||n===void 0?void 0:n.blockquote)),this.options.bold!==!1&&I.push(PC.configure((e=this.options)===null||e===void 0?void 0:e.bold)),this.options.bulletList!==!1&&I.push(LC.configure((t=this.options)===null||t===void 0?void 0:t.bulletList)),this.options.code!==!1&&I.push(FC.configure((r=this.options)===null||r===void 0?void 0:r.code)),this.options.codeBlock!==!1&&I.push(WC.configure((i=this.options)===null||i===void 0?void 0:i.codeBlock)),this.options.document!==!1&&I.push(jC.configure((s=this.options)===null||s===void 0?void 0:s.document)),this.options.dropcursor!==!1&&I.push(KC.configure((a=this.options)===null||a===void 0?void 0:a.dropcursor)),this.options.gapcursor!==!1&&I.push(tO.configure((c=this.options)===null||c===void 0?void 0:c.gapcursor)),this.options.hardBreak!==!1&&I.push(nO.configure((u=this.options)===null||u===void 0?void 0:u.hardBreak)),this.options.heading!==!1&&I.push(rO.configure((h=this.options)===null||h===void 0?void 0:h.heading)),this.options.history!==!1&&I.push(dO.configure((p=this.options)===null||p===void 0?void 0:p.history)),this.options.horizontalRule!==!1&&I.push(pO.configure((m=this.options)===null||m===void 0?void 0:m.horizontalRule)),this.options.italic!==!1&&I.push(bO.configure((y=this.options)===null||y===void 0?void 0:y.italic)),this.options.listItem!==!1&&I.push(vO.configure((b=this.options)===null||b===void 0?void 0:b.listItem)),this.options.orderedList!==!1&&I.push(xO.configure((E=this.options)===null||E===void 0?void 0:E.orderedList)),this.options.paragraph!==!1&&I.push(EO.configure((S=this.options)===null||S===void 0?void 0:S.paragraph)),this.options.strike!==!1&&I.push(_O.configure((O=this.options)===null||O===void 0?void 0:O.strike)),this.options.text!==!1&&I.push(CO.configure((M=this.options)===null||M===void 0?void 0:M.text)),I}}),OO={name:"LaravelCmsAdminPageAddComponentForm",props:["templateSections","globalComponents"],components:{EditorContent:Zh,StarterKit:ea},setup(n,{emit:e}){const t={type:null,html:null,view:null,name:null},r=d.reactive({...t}),i=d.ref([]),s=Qh({content:r.html,extensions:[ea],onUpdate:({editor:p})=>{r.html=p.getHTML()}});async function a(){const m=await(await fetch("/api/cms-views")).json();i.value=m.data}async function c(){!this.valid||(e("add",Object.assign({},r)),Object.assign(r,t))}d.watch(()=>r.type,(p,m)=>{r.html=null,r.view=null});const u=d.computed(()=>wt.exports.sortBy(n.globalComponents||[],p=>p.name));a();const h=d.computed(()=>{if(!r.type)return!1;if(r.type=="new-text"){if(!r.html||!r.name)return!1}else if(r.type=="new-view"&&(!r.view||!r.name))return!1;return!0});return{component:r,componentsSorted:u,views:i,valid:h,onSubmit:c,editor:s}}},TO=d.createElementVNode("legend",null,"Add Item to Page",-1),NO={class:"form-group mx-2"},MO=d.createElementVNode("label",{class:"form-label",for:"type"},"Select Component",-1),AO=d.createElementVNode("option",{value:""},"Select Type",-1),DO=d.createElementVNode("option",{value:""},"-- New Component --",-1),RO=d.createElementVNode("option",{value:"new-text"},"HTML/Markdown",-1),IO=d.createElementVNode("option",{value:"new-view"},"Laravel View",-1),PO=d.createElementVNode("option",{value:""},"-- Existing Component --",-1),BO=["value"],LO={class:"form-group mx-2"},VO=d.createElementVNode("label",{class:"form-label",for:"name"},"Name",-1),$O={key:0,class:"form-group mx-2"},FO=d.createElementVNode("label",{class:"form-label",for:"html"},"Body",-1),zO={key:1,class:"form-group mx-2"},HO=d.createElementVNode("label",{class:"form-label",for:"view"},"Laravel View",-1),WO=d.createElementVNode("option",{value:""},"Select",-1),jO=["value"],UO={class:"form-group mx-2"},qO=d.createElementVNode("label",{class:"form-label",for:"cms_template_section_id"},"Template Section",-1),KO=d.createElementVNode("option",{value:""},"Select",-1),JO=["value"],GO=d.createElementVNode("button",{class:"btn mx-2",style:{float:"right"},disabled:1}," Cancel ",-1),YO=["disabled"];function XO(n,e,t,r,i,s){var c;const a=d.resolveComponent("editor-content");return d.openBlock(),d.createElementBlock("form",{onSubmit:e[4]||(e[4]=d.withModifiers((...u)=>r.onSubmit&&r.onSubmit(...u),["prevent"]))},[d.createElementVNode("fieldset",null,[TO,d.createElementVNode("div",NO,[MO,d.withDirectives(d.createElementVNode("select",{class:"form-select",name:"type",id:"type","onUpdate:modelValue":e[0]||(e[0]=u=>r.component.type=u)},[AO,DO,RO,IO,(c=r.componentsSorted)!=null&&c.length?(d.openBlock(),d.createElementBlock(d.Fragment,{key:0},[PO,(d.openBlock(!0),d.createElementBlock(d.Fragment,null,d.renderList(r.componentsSorted,u=>(d.openBlock(),d.createElementBlock("option",{key:u.id,value:u.id},d.toDisplayString(u.name),9,BO))),128))],64)):d.createCommentVNode("",!0)],512),[[d.vModelSelect,r.component.type]])]),d.createElementVNode("div",LO,[VO,d.withDirectives(d.createElementVNode("input",{class:"form-input",type:"text",name:"name",id:"name","onUpdate:modelValue":e[1]||(e[1]=u=>r.component.name=u)},null,512),[[d.vModelText,r.component.name]])]),r.component.type=="new-text"||r.component.type=="new-view"?(d.openBlock(),d.createElementBlock(d.Fragment,{key:0},[r.component.type=="new-text"?(d.openBlock(),d.createElementBlock("div",$O,[FO,d.createVNode(a,{editor:r.editor},null,8,["editor"])])):d.createCommentVNode("",!0),r.component.type=="new-view"?(d.openBlock(),d.createElementBlock("div",zO,[HO,d.withDirectives(d.createElementVNode("select",{class:"form-select",name:"view",id:"view","onUpdate:modelValue":e[2]||(e[2]=u=>r.component.view=u)},[WO,(d.openBlock(!0),d.createElementBlock(d.Fragment,null,d.renderList(r.views,u=>(d.openBlock(),d.createElementBlock("option",{key:u,value:u},d.toDisplayString(u),9,jO))),128))],512),[[d.vModelSelect,r.component.view]])])):d.createCommentVNode("",!0)],64)):d.createCommentVNode("",!0),d.createElementVNode("div",UO,[qO,d.withDirectives(d.createElementVNode("select",{class:"form-select",name:"cms_template_section_id",id:"cms_template_section_id","onUpdate:modelValue":e[3]||(e[3]=u=>r.component.cms_template_section_id=u)},[KO,(d.openBlock(!0),d.createElementBlock(d.Fragment,null,d.renderList(t.templateSections,u=>(d.openBlock(),d.createElementBlock("option",{key:u.id,value:u.id},d.toDisplayString(u.name),9,JO))),128))],512),[[d.vModelSelect,r.component.cms_template_section_id]])]),GO,d.createElementVNode("button",{class:"btn btn-primary mx-2",disabled:!r.valid}," Add Component ",8,YO)])],32)}const ZO=ye(OO,[["render",XO]]),QO={name:"LaravelCmsAdminPageEditComponentForm",props:["templateSections","component"],components:{EditorContent:Zh,StarterKit:ea},setup(n,{emit:e}){const t=d.ref([]),r=Qh({content:n.component.html,extensions:[ea],onUpdate:({editor:u})=>{n.component.html=u.getHTML()}});async function i(){const h=await(await fetch("/api/cms-views")).json();t.value=h.data}async function s(){!this.valid||e("update",n.component)}const a=d.computed(()=>wt.exports.sortBy(n.globalComponents||[],u=>u.name));i();const c=d.computed(()=>!0);return{componentsSorted:a,views:t,valid:c,onSubmit:s,editor:r}}},eT=d.createElementVNode("legend",null,"Edit Component",-1),tT={class:"form-group mx-2"},nT=d.createElementVNode("label",{class:"form-label",for:"name"},"Name",-1),rT={key:0,class:"form-group mx-2"},iT=d.createElementVNode("label",{class:"form-label",for:"view"},"Laravel View",-1),oT=d.createElementVNode("option",{value:""},"Select",-1),sT=["value"],aT={key:1,class:"form-group mx-2"},lT=d.createElementVNode("label",{class:"form-label",for:"html"},"Body",-1),cT={class:"form-group mx-2"},uT=d.createElementVNode("label",{class:"form-label",for:"cms_template_section_id"},"Template Section",-1),fT=d.createElementVNode("option",{value:""},"Select",-1),dT=["value"],pT=d.createElementVNode("button",{class:"btn mx-2",style:{float:"right"},disabled:1}," Cancel ",-1),hT=["disabled"];function mT(n,e,t,r,i,s){const a=d.resolveComponent("editor-content");return d.openBlock(),d.createElementBlock("form",{onSubmit:e[3]||(e[3]=d.withModifiers((...c)=>r.onSubmit&&r.onSubmit(...c),["prevent"]))},[d.createElementVNode("fieldset",null,[eT,d.createElementVNode("div",tT,[nT,d.withDirectives(d.createElementVNode("input",{class:"form-input",type:"text",name:"name",id:"name","onUpdate:modelValue":e[0]||(e[0]=c=>t.component.name=c)},null,512),[[d.vModelText,t.component.name]])]),t.component.view?(d.openBlock(),d.createElementBlock("div",rT,[iT,d.withDirectives(d.createElementVNode("select",{class:"form-select",name:"view",id:"view","onUpdate:modelValue":e[1]||(e[1]=c=>t.component.view=c)},[oT,(d.openBlock(!0),d.createElementBlock(d.Fragment,null,d.renderList(r.views,c=>(d.openBlock(),d.createElementBlock("option",{key:c,value:c},d.toDisplayString(c),9,sT))),128))],512),[[d.vModelSelect,t.component.view]])])):(d.openBlock(),d.createElementBlock("div",aT,[lT,d.createVNode(a,{editor:r.editor},null,8,["editor"])])),d.createElementVNode("div",cT,[uT,d.withDirectives(d.createElementVNode("select",{class:"form-select",name:"cms_template_section_id",id:"cms_template_section_id","onUpdate:modelValue":e[2]||(e[2]=c=>t.component.cms_template_section_id=c)},[fT,(d.openBlock(!0),d.createElementBlock(d.Fragment,null,d.renderList(t.templateSections,c=>(d.openBlock(),d.createElementBlock("option",{key:c.id,value:c.id},d.toDisplayString(c.name),9,dT))),128))],512),[[d.vModelSelect,t.component.cms_template_section_id]])]),pT,d.createElementVNode("button",{class:"btn btn-primary mx-2",disabled:!r.valid}," Update Component ",8,hT)])],32)}const gT={name:"LaravelCmsAdminPageContent",props:["page"],components:{UnsortedComponents:b1,TemplateSections:S1,ComponentAddForm:ZO,ComponentEditForm:ye(QO,[["render",mT]])},setup(n,{emit:e}){const t=d.ref(n.page.components),r=d.ref([]),i=d.ref(null);async function s(m){if(!isNaN(m.type)){const E=await fetch("/api/cms-component-page",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({cms_page_id:n.page.id,cms_component_id:m.type,cms_template_section_id:m.cms_template_section_id})}),S=await E.json();if(!E.ok){ue({title:S.message,type:"error"});return}t.value.push(Object.assign(m,S.data.component)),ue({title:"New component added.",type:"success"});return}m.cms_page_id=n.page.id,m.is_global=!1;const y=await fetch("/api/cms-components",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(m)}),b=await y.json();if(!y.ok){ue({title:b.message,type:"error"});return}t.value.push(Object.assign(m,b.data)),ue({title:"New component added.",type:"success"})}async function a(){let m="/api/cms-components?"+new URLSearchParams({"q[]":["is_global[eq]=TRUE"]}).toString();const b=await(await fetch(m)).json();r.value=b.data}async function c(m){const y=await fetch("/api/cms-component-page",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"DELETE",body:JSON.stringify({cms_page_id:n.page.id,cms_component_id:m.id})}),b=await y.json();if(!y.ok){ue({title:b.message,type:"error"});return}t.value.splice(t.value.map(E=>E.id).indexOf(m.id),1),ue({title:"Component removed.",type:"success"})}async function u(m){m.cms_page_id=n.page.id;const y=await fetch("/api/cms-components/"+m.id,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"PUT",body:JSON.stringify(m)}),b=await y.json();if(!y.ok){ue({title:b.message,type:"error"});return}t.value.splice(t.value.map(E=>E.id).indexOf(m.id),1,Object.assign(m,b.data)),ue({title:"Component update.",type:"success"})}const h=d.computed(()=>{var E;const y=(((E=n.page.template)==null?void 0:E.template_sections)||[]).map(function(S){return S.id}),b=wt.exports.filter(t.value,S=>!S.cms_template_section_id||y.indexOf(S.cms_template_section_id)==-1);return wt.exports.sortBy(b,"sort_order")});function p(m){i.value=m}return Promise.all([a()]),{selectedComponent:i,deleteComponent:c,pageComponents:t,globalComponents:r,unsortedComponents:h,selectComponent:p,onAddComponent:s,onUpdateComponent:u}}},yT={class:"container"},bT={class:"columns"},vT={class:"column col-6"},wT={class:"column col-6"};function xT(n,e,t,r,i,s){var p,m,y,b,E,S,O,M,I,z,_;const a=d.resolveComponent("unsorted-components"),c=d.resolveComponent("template-sections"),u=d.resolveComponent("component-edit-form"),h=d.resolveComponent("component-add-form");return d.openBlock(),d.createElementBlock("div",yT,[d.createElementVNode("div",bT,[d.createElementVNode("div",vT,[r.unsortedComponents.length>0?(d.openBlock(),d.createBlock(a,{key:0,"template-sections":(m=(p=t.page)==null?void 0:p.template)==null?void 0:m.template_sections,components:r.unsortedComponents,onSelect:r.selectComponent,onDelete:r.deleteComponent},null,8,["template-sections","components","onSelect","onDelete"])):d.createCommentVNode("",!0),d.createVNode(c,{"template-sections":(b=(y=t.page)==null?void 0:y.template)==null?void 0:b.template_sections,components:(E=t.page)==null?void 0:E.components,onSelect:r.selectComponent,onDelete:r.deleteComponent},null,8,["template-sections","components","onSelect","onDelete"])]),d.createElementVNode("div",wT,[r.selectedComponent?(d.openBlock(),d.createBlock(u,{key:0,component:r.selectedComponent,"template-sections":(O=(S=t.page)==null?void 0:S.template)==null?void 0:O.template_sections,onUpdate:r.onUpdateComponent},{default:d.withCtx(()=>[d.createTextVNode("EDIT")]),_:1},8,["component","template-sections","onUpdate"])):(d.openBlock(),d.createElementBlock(d.Fragment,{key:1},[(I=(M=t.page)==null?void 0:M.template)!=null&&I.template_sections?(d.openBlock(),d.createBlock(h,{key:0,"template-sections":(_=(z=t.page)==null?void 0:z.template)==null?void 0:_.template_sections,"global-components":r.globalComponents,onAdd:r.onAddComponent},null,8,["template-sections","global-components","onAdd"])):d.createCommentVNode("",!0)],64))])])])}const ET=ye(gT,[["render",xT]]),ST={name:"LaravelCmsAdminPagePreview",props:["page"],components:{},setup(n,{emit:e}){const t=d.ref(null);async function r(){const s=await(await fetch("/api/cms-render/"+n.page.id,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"})).json();t.value=s.data}return r(),{page:t}}};function kT(n,e,t,r,i,s){return d.toDisplayString(r.page)}const _T=ye(ST,[["render",kT]]),CT={name:"LaravelCmsAdminPageMainForm",props:["page","templates"],components:{},setup(n,{emit:e}){return{}}},OT={class:"form-group"},TT=d.createElementVNode("label",{class:"form-label",for:"name"},"Name",-1),NT={class:"form-group"},MT=d.createElementVNode("label",{class:"form-label",for:"path"},"Path",-1),AT={key:0,class:"form-group"},DT=d.createElementVNode("label",{class:"form-label",for:"template"},"Template",-1),RT=["value"];function IT(n,e,t,r,i,s){var a;return d.openBlock(),d.createElementBlock("fieldset",null,[d.createElementVNode("div",OT,[TT,d.withDirectives(d.createElementVNode("input",{class:"form-input",type:"text",name:"name",id:"name","onUpdate:modelValue":e[0]||(e[0]=c=>t.page.name=c)},null,512),[[d.vModelText,t.page.name]])]),d.createElementVNode("div",NT,[MT,d.withDirectives(d.createElementVNode("input",{class:"form-input",type:"text",name:"path",id:"path","onUpdate:modelValue":e[1]||(e[1]=c=>t.page.path=c)},null,512),[[d.vModelText,t.page.path]])]),(a=t.templates)!=null&&a.length?(d.openBlock(),d.createElementBlock("div",AT,[DT,d.withDirectives(d.createElementVNode("select",{class:"form-select",name:"template",id:"template","onUpdate:modelValue":e[2]||(e[2]=c=>t.page.cms_template_id=c)},[(d.openBlock(!0),d.createElementBlock(d.Fragment,null,d.renderList(t.templates,c=>(d.openBlock(),d.createElementBlock("option",{key:c.id,value:c.id},d.toDisplayString(c.name),9,RT))),128))],512),[[d.vModelSelect,t.page.cms_template_id,void 0,{number:!0}]])])):d.createCommentVNode("",!0)])}const PT=ye(CT,[["render",IT]]),BT={name:"LaravelCmsAdminPageSeoForm",props:["page"],components:{},setup(n,{emit:e}){return{}}},LT={class:"form-group"},VT=d.createElementVNode("label",{class:"form-label",for:"title"},"Title",-1),$T={class:"form-group"},FT=d.createElementVNode("label",{class:"form-label",for:"keywords"},"Meta Keywords",-1),zT={class:"form-group"},HT=d.createElementVNode("label",{class:"form-label",for:"keywords"},"Meta Description",-1);function WT(n,e,t,r,i,s){return d.openBlock(),d.createElementBlock("fieldset",null,[d.createElementVNode("div",LT,[VT,d.withDirectives(d.createElementVNode("input",{class:"form-input",type:"text",name:"title",id:"title","onUpdate:modelValue":e[0]||(e[0]=a=>t.page.title=a)},null,512),[[d.vModelText,t.page.title]])]),d.createElementVNode("div",$T,[FT,d.withDirectives(d.createElementVNode("input",{class:"form-input",type:"text",name:"meta_keywords",id:"meta_keywords","onUpdate:modelValue":e[1]||(e[1]=a=>t.page.meta_keywords=a)},null,512),[[d.vModelText,t.page.meta_keywords]])]),d.createElementVNode("div",zT,[HT,d.withDirectives(d.createElementVNode("textarea",{class:"form-input",name:"meta_description",id:"meta_description","onUpdate:modelValue":e[2]||(e[2]=a=>t.page.meta_description=a)},null,512),[[d.vModelText,t.page.meta_description]])])])}const jT={name:"LaravelCmsAdminPage",components:{PageContent:ET,PagePaths:o1,PagePreview:_T,MainForm:PT,SeoForm:ye(BT,[["render",WT]])},props:["id"],setup(n){const e=d.ref(null),t=d.ref(null),r=d.ref(null),i=d.ref([]);async function s(){const p=await(await fetch("/api/cms-pages/"+n.id)).json();e.value=p.data,r.value=Object.assign({},e.value)}async function a(){const p=await(await fetch("/api/cms-templates")).json();i.value=p.data}async function c(){const h=await fetch("/api/cms-pages/"+n.id,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"PUT",body:JSON.stringify(e.value)}),p=await h.json();if(!h.ok){ue({title:p.message,type:"error"});return}e.value=p.data,r.value=Object.assign({},e.value),ue({title:"Page updated.",type:"success"})}Promise.all([s(),a()]);const u=d.computed(()=>JSON.stringify(r.value)!=JSON.stringify(e.value));return{tab:t,page:e,templates:i,saveEnabled:u,onSubmit:c}}},UT={class:"tab",style:{"margin-bottom":"1rem"}},qT={key:0,class:"container"},KT={class:"columns"},JT={class:"column col-6"},GT=["disabled"];function YT(n,e,t,r,i,s){const a=d.resolveComponent("router-link"),c=d.resolveComponent("main-form"),u=d.resolveComponent("seo-form"),h=d.resolveComponent("page-paths"),p=d.resolveComponent("page-content"),m=d.resolveComponent("page-preview");return d.openBlock(),d.createElementBlock(d.Fragment,null,[d.createElementVNode("p",null,[d.createVNode(a,{to:"/pages"},{default:d.withCtx(()=>[d.createTextVNode("< Back")]),_:1})]),r.page?(d.openBlock(),d.createElementBlock(d.Fragment,{key:0},[d.createElementVNode("h2",null,"Edit Page: "+d.toDisplayString(r.page.name),1),d.createElementVNode("ul",UT,[d.createElementVNode("li",{class:d.normalizeClass(["tab-item",{active:r.tab=="main"||!r.tab}])},[d.createElementVNode("a",{href:"#",onClick:e[0]||(e[0]=d.withModifiers(y=>r.tab="main",["prevent"]))},"Main")],2),d.createElementVNode("li",{class:d.normalizeClass(["tab-item",{active:r.tab=="seo"}])},[d.createElementVNode("a",{href:"#",onClick:e[1]||(e[1]=d.withModifiers(y=>r.tab="seo",["prevent"]))},"SEO")],2),d.createElementVNode("li",{class:d.normalizeClass(["tab-item",{active:r.tab=="paths"}])},[d.createElementVNode("a",{href:"#",onClick:e[2]||(e[2]=d.withModifiers(y=>r.tab="paths",["prevent"]))},"Paths")],2),d.createElementVNode("li",{class:d.normalizeClass(["tab-item",{active:r.tab=="content"}])},[d.createElementVNode("a",{href:"#",onClick:e[3]||(e[3]=d.withModifiers(y=>r.tab="content",["prevent"]))},"Content")],2),d.createElementVNode("li",{class:d.normalizeClass(["tab-item",{active:r.tab=="preview"}])},[d.createElementVNode("a",{href:"#",onClick:e[4]||(e[4]=d.withModifiers(y=>r.tab="preview",["prevent"]))},"Preview")],2)]),r.tab=="main"||r.tab=="seo"||!r.tab?(d.openBlock(),d.createElementBlock("div",qT,[d.createElementVNode("div",KT,[d.createElementVNode("div",JT,[d.createElementVNode("form",{onSubmit:e[5]||(e[5]=d.withModifiers((...y)=>r.onSubmit&&r.onSubmit(...y),["prevent"]))},[d.withDirectives(d.createVNode(c,{page:r.page},null,8,["page"]),[[d.vShow,r.tab=="main"||!r.tab]]),d.withDirectives(d.createVNode(u,{page:r.page},null,8,["page"]),[[d.vShow,r.tab=="seo"]]),d.createElementVNode("button",{class:"btn btn-primary",disabled:!r.saveEnabled}," Update ",8,GT)],32)])])])):d.createCommentVNode("",!0),r.tab=="paths"?(d.openBlock(),d.createBlock(h,{key:1,page:r.page,templates:r.templates},null,8,["page","templates"])):d.createCommentVNode("",!0),r.tab=="content"?(d.openBlock(),d.createBlock(p,{key:2,page:r.page},null,8,["page"])):d.createCommentVNode("",!0),r.tab=="preview"?(d.openBlock(),d.createBlock(m,{key:3,page:r.page},null,8,["page"])):d.createCommentVNode("",!0)],64)):d.createCommentVNode("",!0)],64)}const XT=ye(jT,[["render",YT]]),ZT={name:"LaravelCmsAdminPagesListItem",props:["path"],setup(n,{emit:e}){async function t(){e("delete",n.path.id)}return{onDeleteClick:t}}};function QT(n,e,t,r,i,s){const a=d.resolveComponent("router-link");return d.openBlock(),d.createElementBlock("tr",null,[d.createElementVNode("td",null,d.toDisplayString(t.path.id),1),d.createElementVNode("td",null,d.toDisplayString(t.path.cms_page_id),1),d.createElementVNode("td",null,[d.createVNode(a,{to:"/paths/"+t.path.id},{default:d.withCtx(()=>[d.createTextVNode(d.toDisplayString(t.path.path),1)]),_:1},8,["to"])]),d.createElementVNode("td",null,[d.createElementVNode("button",{onClick:e[0]||(e[0]=d.withModifiers((...c)=>r.onDeleteClick&&r.onDeleteClick(...c),["prevent"])),class:"btn btn-link text-error"}," Delete ")])])}const eN={name:"LaravelCmsAdminPaths",components:{ListItem:ye(ZT,[["render",QT]])},setup(n,{emit:e}){const t=d.ref([]),r=d.ref(!1);async function i(){const u=await(await fetch("/api/cms-paths")).json();t.value=u.data,r.value=!0}async function s(c){if(!(await fetch("/api/cms-paths/"+c,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"DELETE"})).ok){ue({title:json.message,type:"error"});return}ue({title:"Path deleted.",type:"warn"});var h=t.value.map(p=>p.id).indexOf(c);~h&&t.value.splice(h,1)}return i(),{pathsSorted:d.computed(()=>wt.exports.sortBy(t.value||[],c=>c.path)),loaded:r,onDelete:s}}},tN=d.createElementVNode("h2",null,"Paths",-1),nN={key:0,class:"table"},rN=d.createElementVNode("tr",null,[d.createElementVNode("th",null,"Id"),d.createElementVNode("th",null,"Page Id"),d.createElementVNode("th",{colspan:"2"},"Path")],-1),iN={key:1},oN={key:2};function sN(n,e,t,r,i,s){const a=d.resolveComponent("list-item");return d.openBlock(),d.createElementBlock(d.Fragment,null,[tN,r.loaded&&r.pathsSorted.length?(d.openBlock(),d.createElementBlock("table",nN,[rN,(d.openBlock(!0),d.createElementBlock(d.Fragment,null,d.renderList(r.pathsSorted,c=>(d.openBlock(),d.createBlock(a,{key:c.id,path:c,onDelete:r.onDelete},null,8,["path","onDelete"]))),128))])):r.loaded?(d.openBlock(),d.createElementBlock("p",iN,"There are no paths.")):(d.openBlock(),d.createElementBlock("p",oN,"Loading..."))],64)}const aN=ye(eN,[["render",sN]]),lN={name:"LaravelCmsAdminTemplatesListItem",props:["template"],emits:["delete"],setup(n,{emit:e}){async function t(){e("delete",n.template.id)}return{onDeleteClick:t}}};function cN(n,e,t,r,i,s){const a=d.resolveComponent("router-link");return d.openBlock(),d.createElementBlock("tr",null,[d.createElementVNode("td",null,d.toDisplayString(t.template.id),1),d.createElementVNode("td",null,[d.createVNode(a,{to:"/templates/"+t.template.id},{default:d.withCtx(()=>[d.createTextVNode(d.toDisplayString(t.template.name),1)]),_:1},8,["to"])]),d.createElementVNode("td",null,d.toDisplayString(t.template.identifier),1),d.createElementVNode("td",null,[d.createElementVNode("button",{onClick:e[0]||(e[0]=d.withModifiers((...c)=>r.onDeleteClick&&r.onDeleteClick(...c),["prevent"])),class:"btn btn-link text-error"}," Delete ")])])}const uN=ye(lN,[["render",cN]]),fN={name:"LaravelCmsAdminTemplateAddForm",components:{},emits:["add"],setup(n,{emit:e}){const t=d.ref({});async function r(){!this.valid||(e("add",t.value),t.value={})}const i=d.computed(()=>t.value.name!=null&&t.value.identifier!=null);return{newTemplate:t,onSubmit:r,valid:i}}},dN={class:"form-group form-inline mx-2"},pN=d.createElementVNode("label",{class:"form-label",for:"name"},"Name",-1),hN={class:"form-group form-inline mx-2"},mN=d.createElementVNode("label",{class:"form-label",for:"identifier"},"Identifier",-1),gN=["disabled"];function yN(n,e,t,r,i,s){return d.openBlock(),d.createElementBlock("form",{onSubmit:e[2]||(e[2]=d.withModifiers((...a)=>r.onSubmit&&r.onSubmit(...a),["prevent"]))},[d.createElementVNode("fieldset",null,[d.createElementVNode("div",dN,[pN,d.withDirectives(d.createElementVNode("input",{class:"form-input",type:"text",name:"name",id:"name","onUpdate:modelValue":e[0]||(e[0]=a=>r.newTemplate.name=a)},null,512),[[d.vModelText,r.newTemplate.name]])]),d.createElementVNode("div",hN,[mN,d.withDirectives(d.createElementVNode("input",{class:"form-input",type:"text",name:"identifier",id:"identifier","onUpdate:modelValue":e[1]||(e[1]=a=>r.newTemplate.identifier=a)},null,512),[[d.vModelText,r.newTemplate.identifier]])]),d.createElementVNode("button",{class:"btn btn-primary mx-2",disabled:!r.valid}," Add Template ",8,gN)])],32)}const bN={name:"LaravelCmsAdminTemplates",components:{ListItem:uN,AddForm:ye(fN,[["render",yN]])},setup(n,{emit:e}){const t=kf(),r=d.inject("$cookies"),i=d.ref([]),s=d.ref(!1);async function a(){const m=await(await fetch("/api/cms-templates")).json();i.value=m.data,s.value=!0}async function c(p){const m=await fetch("/api/cms-templates",{headers:{Accept:"application/json","Content-Type":"application/json","X-XSRF-TOKEN":r.get("XSRF-TOKEN")},method:"POST",body:JSON.stringify(p)}),y=await m.json();if(!m.ok){ue({title:y.message,type:"error"});return}i.value.push(y.data),ue({title:"New template created.",type:"success"}),t.push("/templates/"+y.data.id)}async function u(p){if(!(await fetch("/api/cms-templates/"+p,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"DELETE"})).ok){ue({title:json.message,type:"error"});return}ue({title:"Template deleted.",type:"warn"});var y=i.value.map(b=>b.id).indexOf(p);~y&&i.value.splice(y,1)}return a(),{templatesSorted:d.computed(()=>wt.exports.sortBy(i.value||[],p=>p.name)),loaded:s,onAdd:c,onDelete:u}}},vN=d.createElementVNode("h2",null,"Add Template",-1),wN=d.createElementVNode("h2",null,"Existing Templates",-1),xN={key:0,class:"table"},EN={key:1},SN={key:2};function kN(n,e,t,r,i,s){const a=d.resolveComponent("add-form"),c=d.resolveComponent("list-item");return d.openBlock(),d.createElementBlock(d.Fragment,null,[vN,d.createVNode(a,{onAdd:r.onAdd},null,8,["onAdd"]),wN,r.loaded&&r.templatesSorted.length?(d.openBlock(),d.createElementBlock("table",xN,[(d.openBlock(!0),d.createElementBlock(d.Fragment,null,d.renderList(r.templatesSorted,u=>(d.openBlock(),d.createBlock(c,{key:u.id,template:u,onDelete:r.onDelete},null,8,["template","onDelete"]))),128))])):r.loaded?(d.openBlock(),d.createElementBlock("p",EN,"There are no templates.")):(d.openBlock(),d.createElementBlock("p",SN,"Loading..."))],64)}const _N=ye(bN,[["render",kN]]),CN=(n,e)=>{let t;return(...r)=>{t&&clearTimeout(t),t=setTimeout(()=>{n(...r)},e)}},ON={name:"LaravelCmsAdminTemplatesListItem",props:["section"],emits:["delete","save"],setup(n,{emit:e}){d.watch(n.section,(i,s)=>{r()});async function t(){e("delete",n.section.id)}const r=CN(()=>{e("save",n.section)},1e3);return{onDeleteClick:t}}},TN={class:"form-group form-inline mx-2"},NN=d.createElementVNode("label",{class:"form-label",for:"name"},"Name",-1),MN={class:"form-group form-inline mx-2"},AN=d.createElementVNode("label",{class:"form-label",for:"identifier"},"Slug",-1);function DN(n,e,t,r,i,s){return d.openBlock(),d.createElementBlock("fieldset",null,[d.createElementVNode("div",TN,[NN,d.withDirectives(d.createElementVNode("input",{class:"form-input",type:"text",name:"name",id:"name","onUpdate:modelValue":e[0]||(e[0]=a=>t.section.name=a)},null,512),[[d.vModelText,t.section.name]])]),d.createElementVNode("div",MN,[AN,d.withDirectives(d.createElementVNode("input",{class:"form-input",type:"text",name:"identifier",id:"identifier","onUpdate:modelValue":e[1]||(e[1]=a=>t.section.identifier=a)},null,512),[[d.vModelText,t.section.identifier]])]),d.createElementVNode("button",{class:"btn btn-link text-error mx-2",onClick:e[2]||(e[2]=d.withModifiers((...a)=>r.onDeleteClick&&r.onDeleteClick(...a),["prevent"]))}," Delete ")])}const RN=ye(ON,[["render",DN]]),IN={name:"LaravelCmsAdminTemplateSectionAddForm",components:{},emits:["add"],setup(n,{emit:e}){const t=d.ref({});async function r(){!this.valid||(e("add",t.value),t.value={})}const i=d.computed(()=>t.value.name!=null&&t.value.identifier!=null);return{newTemplateSection:t,onSubmit:r,valid:i}}},PN=d.createElementVNode("legend",null,"Add Section",-1),BN={class:"form-group form-inline mx-2"},LN=d.createElementVNode("label",{class:"form-label",for:"name"},"Name",-1),VN={class:"form-group form-inline mx-2"},$N=d.createElementVNode("label",{class:"form-label",for:"identifier"},"Identifier",-1),FN=["disabled"];function zN(n,e,t,r,i,s){return d.openBlock(),d.createElementBlock("form",{onSubmit:e[2]||(e[2]=d.withModifiers((...a)=>r.onSubmit&&r.onSubmit(...a),["prevent"]))},[d.createElementVNode("fieldset",null,[PN,d.createElementVNode("div",BN,[LN,d.withDirectives(d.createElementVNode("input",{class:"form-input",type:"text",name:"name",id:"name","onUpdate:modelValue":e[0]||(e[0]=a=>r.newTemplateSection.name=a),required:""},null,512),[[d.vModelText,r.newTemplateSection.name]])]),d.createElementVNode("div",VN,[$N,d.withDirectives(d.createElementVNode("input",{class:"form-input",type:"text",name:"identifier",id:"identifier","onUpdate:modelValue":e[1]||(e[1]=a=>r.newTemplateSection.identifier=a)},null,512),[[d.vModelText,r.newTemplateSection.identifier]])]),d.createElementVNode("button",{class:"btn btn-link mx-2",disabled:!r.valid}," Add Template Section ",8,FN)])],32)}const HN={name:"LaravelCmsAdminTemplateSections",components:{AddForm:ye(IN,[["render",zN]]),ListItem:RN},props:["templateId"],setup(n){const e=d.ref([]),t=d.ref(!1);async function r(){let u="/api/cms-template-sections?"+new URLSearchParams({"q[]":["cms_template_id[eq]="+n.templateId]}).toString();const p=await(await fetch(u)).json();e.value=p.data,t.value=!0}async function i(u){if(!(await fetch("/api/cms-template-sections/"+u,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"DELETE"})).ok){ue({title:json.message,type:"error"});return}ue({title:"Template section deleted.",type:"warn"});var p=e.value.map(m=>m.id).indexOf(u);~p&&e.value.splice(p,1)}async function s(u){const h=await fetch("/api/cms-template-sections/"+u.id,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"PUT",body:JSON.stringify(u)}),p=await h.json();if(!h.ok){ue({title:p.message,type:"error"});return}ue({title:"Template section updated.",type:"success"});var m=e.value.map(y=>y.id).indexOf(u.id);~m&&e.value.splice(m,1,u)}async function a(u){u.cms_template_id=n.templateId;const h=await fetch("/api/cms-template-sections",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(u)}),p=await h.json();if(!h.ok){ue({title:p.message,type:"error"});return}e.value.push(p.data),ue({title:"New template section created.",type:"success"})}return r(),{sectionsSorted:d.computed(()=>wt.exports.sortBy(e.value||[],u=>u.name)),loaded:t,onDelete:i,onSave:s,onAdd:a}}},WN={key:0},jN=d.createElementVNode("div",{class:"divider"},null,-1),UN={key:0},qN={key:1},KN={key:2};function JN(n,e,t,r,i,s){const a=d.resolveComponent("add-form"),c=d.resolveComponent("list-item");return r.sectionsSorted?(d.openBlock(),d.createElementBlock("fieldset",WN,[d.createVNode(a,{onAdd:r.onAdd},null,8,["onAdd"]),jN,r.loaded&&r.sectionsSorted.length?(d.openBlock(),d.createElementBlock("div",UN,[(d.openBlock(!0),d.createElementBlock(d.Fragment,null,d.renderList(r.sectionsSorted,u=>(d.openBlock(),d.createBlock(c,{key:u.id,section:u,onDelete:r.onDelete,onSave:r.onSave},null,8,["section","onDelete","onSave"]))),128))])):r.loaded?(d.openBlock(),d.createElementBlock("p",qN,"There are no templates sections.")):(d.openBlock(),d.createElementBlock("p",KN,"Loading..."))])):d.createCommentVNode("",!0)}const GN={name:"LaravelCmsAdminTemplate",components:{TemplateSections:ye(HN,[["render",JN]])},props:["id"],setup(n){const e=d.ref(null),t=d.ref(null);async function r(){const c=await(await fetch("/api/cms-templates/"+n.id)).json();e.value=c.data,t.value=Object.assign({},e.value)}async function i(){const a=await fetch("/api/cms-templates/"+n.id,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"PUT",body:JSON.stringify(e.value)}),c=await a.json();if(!a.ok){ue({title:c.message,type:"error"});return}e.value=c.data,t.value=Object.assign({},e.value),ue({title:"Template updated.",type:"success"})}r();const s=d.computed(()=>JSON.stringify(t.value)!=JSON.stringify(e.value));return{template:e,onSubmit:i,saveEnabled:s}}},YN=d.createElementVNode("h2",null,"Edit Template",-1),XN={key:0},ZN={class:"form-group form-inline mx-2"},QN=d.createElementVNode("label",{class:"form-label",for:"name"},"Name",-1),eM={class:"form-group form-inline mx-2"},tM=d.createElementVNode("label",{class:"form-label",for:"identifier"},"Identifier",-1),nM={class:"form-group form-inline mx-2"},rM=d.createElementVNode("label",{class:"form-label",for:"description"},"Description",-1),iM=["disabled"],oM=d.createElementVNode("h2",null,"Template Sections",-1);function sM(n,e,t,r,i,s){const a=d.resolveComponent("router-link"),c=d.resolveComponent("template-sections");return d.openBlock(),d.createElementBlock(d.Fragment,null,[d.createElementVNode("p",null,[d.createVNode(a,{to:"/templates"},{default:d.withCtx(()=>[d.createTextVNode("< Back")]),_:1})]),YN,d.createElementVNode("form",{onSubmit:e[3]||(e[3]=d.withModifiers((...u)=>r.onSubmit&&r.onSubmit(...u),["prevent"]))},[r.template?(d.openBlock(),d.createElementBlock("fieldset",XN,[d.createElementVNode("div",ZN,[QN,d.withDirectives(d.createElementVNode("input",{class:"form-input",type:"text",name:"name",id:"name","onUpdate:modelValue":e[0]||(e[0]=u=>r.template.name=u)},null,512),[[d.vModelText,r.template.name]])]),d.createElementVNode("div",eM,[tM,d.withDirectives(d.createElementVNode("input",{class:"form-input",type:"text",name:"identifier",id:"identifier","onUpdate:modelValue":e[1]||(e[1]=u=>r.template.identifier=u)},null,512),[[d.vModelText,r.template.identifier]])]),d.createElementVNode("div",nM,[rM,d.withDirectives(d.createElementVNode("input",{class:"form-input",type:"text",name:"description",id:"description","onUpdate:modelValue":e[2]||(e[2]=u=>r.template.description=u)},null,512),[[d.vModelText,r.template.description]])]),d.createElementVNode("button",{class:"btn btn-link mx-2",disabled:!r.saveEnabled}," Update ",8,iM)])):d.createCommentVNode("",!0)],32),oM,d.createElementVNode("form",null,[d.createVNode(c,{"template-id":t.id},null,8,["template-id"])])],64)}const aM=[{path:"/",name:"Home",component:zu},{path:"/components",name:"Components",component:tv},{path:"/pages",name:"Pages",component:jv},{path:"/pages/:id",name:"Page",component:XT,props:n=>({id:parseInt(n.params.id)})},{path:"/paths",name:"Paths",component:aN},{path:"/media",name:"Media",component:bv},{path:"/templates",name:"Templates",component:_N},{path:"/templates/:id",name:"Template",component:ye(GN,[["render",sM]]),props:n=>({id:parseInt(n.params.id)})}],lM=pb({history:p0(),routes:aM});var am={exports:{}};(function(n,e){(function(){var t={expires:"1d",path:"; path=/",domain:"",secure:"",sameSite:"; SameSite=Lax"},r={install:function(i,s){s&&this.config(s.expires,s.path,s.domain,s.secure,s.sameSite),i.prototype&&(i.prototype.$cookies=this),i.config&&i.config.globalProperties&&(i.config.globalProperties.$cookies=this,i.provide("$cookies",this)),i.$cookies=this},config:function(i,s,a,c,u){t.expires=i||"1d",t.path=s?"; path="+s:"; path=/",t.domain=a?"; domain="+a:"",t.secure=c?"; Secure":"",t.sameSite=u?"; SameSite="+u:"; SameSite=Lax"},get:function(i){var s=decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(i).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null;if(s&&(s.substring(0,1)==="{"&&s.substring(s.length-1,s.length)==="}"||s.substring(0,1)==="["&&s.substring(s.length-1,s.length)==="]"))try{s=JSON.parse(s)}catch{return s}return s},set:function(i,s,a,c,u,h,p){if(i){if(/^(?:expires|max\-age|path|domain|secure|SameSite)$/i.test(i))throw new Error('Cookie name illegality. Cannot be set to ["expires","max-age","path","domain","secure","SameSite"]	 current key name: '+i)}else throw new Error("Cookie name is not found in the first argument.");s&&s.constructor===Object&&(s=JSON.stringify(s));var m="";if(a=a==null?t.expires:a,a&&a!=0)switch(a.constructor){case Number:a===1/0||a===-1?m="; expires=Fri, 31 Dec 9999 23:59:59 GMT":m="; max-age="+a;break;case String:if(/^(?:\d+(y|m|d|h|min|s))$/i.test(a)){var y=a.replace(/^(\d+)(?:y|m|d|h|min|s)$/i,"$1");switch(a.replace(/^(?:\d+)(y|m|d|h|min|s)$/i,"$1").toLowerCase()){case"m":m="; max-age="+ +y*2592e3;break;case"d":m="; max-age="+ +y*86400;break;case"h":m="; max-age="+ +y*3600;break;case"min":m="; max-age="+ +y*60;break;case"s":m="; max-age="+y;break;case"y":m="; max-age="+ +y*31104e3;break}}else m="; expires="+a;break;case Date:m="; expires="+a.toUTCString();break}return document.cookie=encodeURIComponent(i)+"="+encodeURIComponent(s)+m+(u?"; domain="+u:t.domain)+(c?"; path="+c:t.path)+(h==null?t.secure:h?"; Secure":"")+(p==null?t.sameSite:p?"; SameSite="+p:""),this},remove:function(i,s,a){return!i||!this.isKey(i)?!1:(document.cookie=encodeURIComponent(i)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(a?"; domain="+a:t.domain)+(s?"; path="+s:t.path)+"; SameSite=Lax",!0)},isKey:function(i){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(i).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){if(!document.cookie)return[];for(var i=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),s=0;s<i.length;s++)i[s]=decodeURIComponent(i[s]);return i}};n.exports=r,typeof window<"u"&&(window.$cookies=r)})()})(am);const cM=am.exports;return d.createApp(zu).use(lM).use(Vb).use(cM)});
